/* @version: 2.8.224 */
(()=>{var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},r={},a=e.parcelRequire39bd;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequire39bd=a),a.register("kTaq9",(function(e,t){var n;e.exports=(n=a("6wo06"),function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var a=[],i=0,o=0;o<n;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;a[i>>>2]|=s<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var a=[],i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)a.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,n=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<n.length;i++)a[n.charCodeAt(i)]=i}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return r(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),a.register("6wo06",(function(t,n){var r;t.exports=(r=r||function(t,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==e&&e.crypto&&(r=e.crypto),!r)try{r=a("8vpHx")}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=n?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,a=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<a;i++){var o=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=o<<24-(r+i)%4*8}else for(var s=0;s<a;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=a,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),d=s.enc={},h=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},m=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(m.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return m.parse(unescape(encodeURIComponent(e)))}},f=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var n,r=this._data,a=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,u=t.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(a,d);n=a.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(c.Hasher=f.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)})),a.register("8vpHx",(function(e,t){})),a.register("j4mYy",(function(e,t){var n;e.exports=(n=a("6wo06"),n.enc.Utf8)})),a.register("6Ax7d",(function(e,t){var n;e.exports=(n=a("6wo06"),a("eweGj"),a("9ptyX"),n.HmacSHA256)})),a.register("eweGj",(function(e,t){var n;e.exports=(n=a("6wo06"),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,a=0;a<64;)t(r)&&(a<8&&(s[a]=n(e.pow(r,.5))),c[a]=n(e.pow(r,1/3)),a++),r++}();var u=[],l=o.SHA256=i.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=n[5],d=n[6],h=n[7],m=0;m<64;m++){if(m<16)u[m]=0|e[t+m];else{var p=u[m-15],f=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[m-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[m]=f+u[m-7]+g+u[m-16]}var w=r&a^r&i^a&i,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+c[m]+u[m];h=d,d=l,l=s,s=o+b|0,o=i,i=a,a=r,r=b+(y+w)|0}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,a=8*t.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=e.floor(r/4294967296),n[15+(a+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),n.SHA256)})),a.register("9ptyX",(function(e,t){var n,r,i,o;e.exports=(n=a("6wo06"),i=(r=n).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),i=this._iKey=t.clone(),s=a.words,c=i.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;a.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),a.register("3LZM1",(function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var a=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(n.charAt(a>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,a=0;r<e.length;a=++r%4)0!=a&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(e.charAt(r))>>>6-2*a);return t}},e.exports=r})),a.register("3hKrT",(function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n}));var i={},o={},s={};function c(e){return s=c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s.__esModule=!0,s.default=s,c(e)}(s=c).__esModule=!0,s.default=s;var u=s.default,l={},d=s.default;(l=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}).__esModule=!0,l.default=l,(o=function(e){var t=l(e,"string");return"symbol"==u(t)?t:t+""}).__esModule=!0,o.default=o,(i=function(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}).__esModule=!0,i.default=i;var h,m,p={};p=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function t(n,r){function a(t,a,i){if("undefined"!=typeof document){"number"==typeof(i=e({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=t+"="+n.write(a,t)+o}}function i(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},a=0;a<t.length;a++){var i=t[a].split("="),o=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=n.read(o,s),e===s)break}catch(e){}}return e?r[e]:r}}return Object.create({set:a,get:i,remove:function(t,n){a(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}return t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}(),(m=h||(h={})).None="none",m.Pink="pink",m.Purple="purple",m.Blue="blue",m.LightBlue="lightBlue",m.Teal="teal",m.Green="green",m.Yellow="yellow",m.Orange="orange",m.Red="red";h.Pink,h.Purple,h.Blue,h.LightBlue,h.Teal,h.Green,h.Yellow,h.Orange,h.Red;new Map,new Set;const f=[],v=new Set,g=new Set,w=(e,t)=>{for(const n of e)t.add(n)},y=e=>e.hasAttribute("sandbox")&&!e.getAttribute("sandbox")?.includes("allow-same-origin"),b=e=>!y(e)&&!(!e.contentDocument||!e.contentDocument.body),E={attributes:!0,childList:!0,subtree:!0},C=(e,t,n=!1)=>{const r=[],a=[];if(e){n&&t.observe(e,E);[...e.getElementsByTagName("iframe")].forEach((e=>{if(b(e)){r.push(e);const{sameOriginIframes:n,crossOriginIframes:i}=C(e.contentDocument?.body,t,!0);r.push(...n),a.push(...i)}else y(e)||a.push(e)}))}return{sameOriginIframes:r,crossOriginIframes:a}},T=(e,t,n)=>{const r=new Set,a=new Set;t?.length&&t.forEach((e=>r.add(e))),n?.length&&n.forEach((e=>a.add(e))),e.forEach((e=>{e(r,a)}))},S=new MutationObserver((e=>{for(const n of e){if("childList"===n.type&&n.addedNodes.length){const{sameOriginIframes:e,crossOriginIframes:t}=C(n.target,S);T(f,e,t),w(e,v),w(t,g)}if("childList"===n.type)for(let e=0;e<n.removedNodes.length;e++)"IFRAME"===(t=n.removedNodes[e]).nodeName&&(b(t)?v.delete(t):g.delete(t))}var t}));var D,k;(k=D||(D={})).Dark="dark",k.Light="light";new Set;D.Light;var I,A,P,O;(A=I||(I={})).CCS="ccs",A.ColorTheme="color_theme",A.DefaultLanguage="default_language",A.DefaultRegion="default_region",A.FavoriteBar="favorite_bar",A.Timezone="time_zone",A.FavoritesInUnifiedSearch="favorites_unified_search",A.LanguageSelectorInNav="language_selector_in_nav",A.KrakenInUnifiedSearch="kraken_in_unified_search",A.NewUnifiedSearchDomainInUnifiedSearch="new_unifiedsearch_domain_in_unified_search",A.UnifiedSearchAWTInNonPublic="unified_search_awt_nonpublic",A.VPC="vpc",A.EnabledRegions="enabled_regions",A.SearchServices="search_services",A.LegacyFeedback="legacy_feedback",A.Aperture="aperture",A.SettingManagement="setting_management",A.DisableAllServicesLink="disable_all_services_link",A.SendAllMetricsToPanorama="send_all_metrics_to_panorama",A.Paddy="paddy",A.BrowserFavicon="browser_favicon",A.PageTitle="page_title",A.ConsoleNotificationsWidget="console_notifications_widget",A.ACMASmartAppBanner="acma_smart_app_banner",A.CSVRAnnouncement="cs_vr_announcement",A.MoveUpdateCallerRecentsCall="move_update_caller_recents_call",(O=P||(P={})).Enabled="enabled",O.Disabled="disabled";const _=e=>{const t=(e=>{const t=document.cookie.length>0?e.split(";"):[],n=t.length,r={};for(let e=0;e<n;e++){const n=t[e].split("="),a=n[0].trim(),i=n[1];r[a]={raw:i}}return{getCookie:e=>{const t=r[e];if(!t)return null;let n=t.unescaped;if(void 0===n){const e=t.raw;n=t.unescaped=unescape(e.trim())}return n}}})(document.cookie);return t.getCookie(e)};let R={};const L=e=>{let t=R[e];return void 0===t&&(t=R[e]=_(e)||null),t};function N(e){try{const t=`meta[name='${e}']`;let n=document.querySelector(t);return n||(n=window.top?.document.querySelector(t)),n?.content}catch(e){return}}function M(e){const t=N(e);if(t)return JSON.parse(t);throw new Error(`failed to parse meta tag ${e}`)}var x={regions:{"ap-isog-east-1":{websiteDomain:"csphome.adc-g.au",websiteDomainDualstack:"awshome.adc-g.au"},"ap-southeast-6":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isof-south-1":{websiteDomain:"csphome.hci.ic.gov",websiteDomainDualstack:"awshome.hci.ic.gov"},"us-iso-west-1":{websiteDomain:"c2shome.ic.gov",websiteDomainDualstack:"awshome.ic.gov"},"eu-north-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"me-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"cn-north-1":{websiteDomain:"amazonaws.cn",websiteDomainDualstack:"amazonwebservices.cn"},"ap-southeast-7":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-west-3":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-3":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-east-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"af-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-iso-east-1":{websiteDomain:"c2shome.ic.gov",websiteDomainDualstack:"awshome.ic.gov"},"eu-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"me-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isob-west-1":{websiteDomain:"sc2shome.sgov.gov",websiteDomainDualstack:"awshome.scloud"},"eu-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"sa-east-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-east-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-south-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-east-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-northeast-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-northeast-3":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-5":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isob-east-1":{websiteDomain:"sc2shome.sgov.gov",websiteDomainDualstack:"awshome.scloud"},"eu-west-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isof-east-1":{websiteDomain:"csphome.hci.ic.gov",websiteDomainDualstack:"awshome.hci.ic.gov"},"us-northeast-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-4":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-isoe-west-1":{websiteDomain:"csphome.adc-e.uk",websiteDomainDualstack:"awshome.adc-e.uk"},"ap-northeast-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-gov-east-1":{websiteDomain:"amazonaws-us-gov.com",websiteDomainDualstack:"aws-us-gov.com"},"us-gov-west-1":{websiteDomain:"amazonaws-us-gov.com",websiteDomainDualstack:"aws-us-gov.com"},"us-west-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"mx-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"me-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"sa-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eusc-de-east-1":{websiteDomain:"amazonaws-eusc.eu",websiteDomainDualstack:"aws.eu"},"il-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-east-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ca-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ca-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-south-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"cn-northwest-1":{websiteDomain:"amazonaws.cn",websiteDomainDualstack:"amazonwebservices.cn"},"eu-central-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"}}};const B={accountId:void 0,sessionARN:void 0,sessionId:void 0,sessionDifferentiator:void 0,identityToken:void 0,accountAlias:void 0,displayName:void 0,infrastructureRegion:void 0,vpc:{vpcId:void 0,vpceId:void 0},prismModeEnabled:void 0,dualstackEnabledDomain:void 0,websiteDomainDualstack:void 0};function U(e,t){if(!e)throw new Error("SessionData object is null or undefined");const n=[];if(t.forEach((t=>{("sessionDifferentiator"!==t||e.prismModeEnabled)&&("websiteDomainDualstack"!==t||e.dualstackEnabledDomain)&&null==e[t]&&n.push(t)})),n.length){const e=JSON.stringify({missingFieldsInSessionData:n});throw new Error(e)}return!0}class F{static sessionDataParserInstance;sessionDataCache;constructor(){this.sessionDataCache=this.parseSessionDataMetaTag()}static getInstance(){return this.sessionDataParserInstance||(this.sessionDataParserInstance=new F),this.sessionDataParserInstance}static validateSessionData(e){U(e,["sessionARN","identityToken","accountId","infrastructureRegion","sessionDifferentiator","dualstackEnabledDomain","websiteDomainDualstack"])}validateSessionData(){F.validateSessionData(this.sessionDataCache)}getSessionData(){return this.sessionDataCache?this.sessionDataCache:this.parseSessionDataMetaTag()}parseSessionDataMetaTag(){let e,t;try{e=M("awsc-session-data"),U(e,["sessionARN","identityToken","accountId","infrastructureRegion","sessionDifferentiator"])||(t=this.parseSessionDataLegacy())}catch(e){console.log(e);try{t=this.parseSessionDataLegacy()}catch(e){}}const n=e?.infrastructureRegion||t?.infrastructureRegion;return{...B,...this.getDualstackDomainData(n),...t,...e}}decryptUserInfoSignedCookie(e){try{const t=e.split(".")[1],n=atob(t);return JSON.parse(n)}catch(e){return console.warn("Unable to decrypt userInfoSigned cookie"),""}}getSessionDataFromUserInfoCookie(){const e=L("aws-userInfo"),t=L("aws-userInfo-signed"),n=/arn:([^:]*):([^:]*):([^:]*):([^:]*):([^:]*)/;if(e&&t){const{arn:r,alias:a,username:i}=JSON.parse(e),o=n.exec(r);return{accountId:o?o[4]:"",sessionARN:r,accountAlias:a,displayName:i,identityToken:t,sessionDifferentiator:this.decryptUserInfoSignedCookie(t)?.sessionDiff??void 0}}throw new Error("No userinfo or userinfo-signed cookie found!")}getInfrastructureRegionFromMezzanineMetaTag(){return N("awsc-mezz-region")}parseSessionDataLegacy(){try{return{...this.getSessionDataFromUserInfoCookie(),infrastructureRegion:this.getInfrastructureRegionFromMezzanineMetaTag()}}catch(e){throw console.warn("Unable to parse the data using legacy methods"),e}}getDualstackDomainData(e){const t={dualstackEnabledDomain:void 0,websiteDomainDualstack:void 0};if(!e||!Object.keys(x.regions).includes(e))return console.error("Couldn't determine console domain and dual-stack values."),t;const n=x.regions[e],{websiteDomain:r,websiteDomainDualstack:a}=n,{hostname:i}=window.location;if(!a)return{dualstackEnabledDomain:!1,websiteDomainDualstack:r};let o;return i.endsWith(`.${a}`)?o=!0:i.endsWith(`.${r}`)&&(o=!1),{dualstackEnabledDomain:o,websiteDomainDualstack:o?a:void 0}}}const{regions:V}=x;const z=()=>{const e=_("aws-prism-opt-in")||"";return!!e&&"true"===e};class j{static sessionDataProviderInstance;dataParser;constructor(e){this.dataParser=e}static isValidSessionData=e=>{try{return F.validateSessionData(e),!0}catch(e){return!1}};static validateSessionData=e=>(F.validateSessionData(e),!0);static getInstance(){return this.sessionDataProviderInstance||(this.sessionDataProviderInstance=new j(F.getInstance())),this.sessionDataProviderInstance}async getSessionARN(){return this.dataParser.getSessionData().sessionARN||""}async getAccountId(){return this.dataParser.getSessionData().accountId||""}async getIdentityToken(){return this.dataParser.getSessionData().identityToken||""}async getSessionId(){return this.dataParser.getSessionData().sessionId}async getInfrastructureRegion(){return this.dataParser.getSessionData().infrastructureRegion||""}async getVpc(){const e=this.dataParser.getSessionData();let t;return e&&(t=e.vpc),t}async getAccountAlias(){return this.dataParser.getSessionData().accountAlias}async getDisplayName(){return this.dataParser.getSessionData().displayName}async getSessionDifferentiator(){return this.dataParser.getSessionData().sessionDifferentiator}async getSessionData(){const e=this.dataParser.getSessionData();return e.prismModeEnabled||(e.prismModeEnabled=z()),e}async isMultiSessionEnabled(){const e=this.dataParser.getSessionData();return e.prismModeEnabled?e.prismModeEnabled:z()}}const H="ServiceListUpdated",q="ServiceListError",W=()=>window.AWSC?.CCS?.initialUserServiceList,G=new Set,K=(e,t=!1,n)=>({data:e,isLoading:t,error:n,isError:!!n}),$=(e=[],t={})=>e.filter((e=>{if(t[e]){const{unlisted:n,history:r}=t[e];return!n||n&&r}return!1})),J=(e=[],t={})=>e.filter((e=>t[e]&&!t[e].unlisted)),Y=({detail:e})=>{const t=window.ConsoleNavService?.Model?.servicesById,n=e?.recentlyVisitedServiceIdList?$(e.recentlyVisitedServiceIdList,t):null,r=e?.favoriteServiceIdList?J(e.favoriteServiceIdList,t):null;for(const e of G)e({...r&&{favorite:K(r)},...n&&{recentlyVisited:K(n)}})},X=({detail:e})=>{const t=window.ConsoleNavService?.Model?.servicesById,n=W(),r=n?.recentlyVisitedServiceIdList,a=n?.favoriteServiceIdList,i=$(r,t),o=J(a,t);for(const t of G)t({recentlyVisited:K(i,!1,e),favorite:K(o,!1,e)})};window.addEventListener(H,Y),window.addEventListener(q,X);void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});const Q=(e,t)=>typeof e===t,Z=e=>Q(e,"undefined"),ee=e=>Q(e,"function"),te=(e,t)=>{let n=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return null!=e&&n===t.toLowerCase()},ne=(e,...t)=>{if(0===t.length)return!1;for(let n=0;n<t.length;n++){if(!e||!Object.prototype.hasOwnProperty.call(e,t[n]))return!1;e=e[t[n]]}return!0};function re(e,...t){if(0===t.length)return null;for(let n=0;n<t.length;n++){if(!e||!Object.hasOwnProperty.call(e,t[n]))return null;e=e[t[n]]}return e}let ae;var ie,oe,se;(ie=ae||(ae={})).trackCustomEvent="trackCustomEvent",ie.trackOutOfTheBoxEvent="trackOutOfTheBoxEvent",(se=oe||(oe={})).BASE="color: #000; background-color: #b9bfca; padding: 2px 8px; border-radius: 2px",se.ERROR="background-color: #e88388;",se.WARNING="background-color: #dbab79",se.SUCCESS="background-color: #a8cc8c";const ce=function(e){if("string"!=typeof e){e=e.text||"";var t=document.getElementsByTagName("title");t&&void 0!==t[0]&&(e=t[0].text)}return e},ue=function(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e},le=function(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},de=function(e){var t="",n=le("referrer",window.location.href)||le("referer",window.location.href);if(n)return n;if(e)return e;try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(e){t=""}}return""===t&&(t=document.referrer),t},he=function(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)},me=function(e,t,n){return!!e.removeEventListener&&(e.removeEventListener(t,n),!0)},pe=function(e){"undefined"!=typeof console&&console.warn("Panorama: "+e)};const fe=function(e){try{const t=localStorage.getItem(e);if(t)return t}catch(e){}},ve=function(e,t){try{return localStorage.setItem(e,t),!0}catch(e){return!1}},ge=function(e,n){t(p).remove(e,{path:"/",domain:n})},we=function(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n},ye=function(){for(var e="_sp_root_domain_test_",n=e+(new Date).getTime(),r="_test_value_"+(new Date).getTime(),a=window.location.hostname.split("."),i=a.length-1;i>=0;){var o=a.slice(i,a.length).join(".");if(t(p).set(n,r,{path:"/",domain:o}),t(p).get(n)===r){ge(n,o);for(var s=we(e),c=0;c<s.length;c++)ge(s[c],o);return o}i-=1}return window.location.hostname},be=function(e,t,n,r){ne(window,"AWSC","Clog","system","prequeue")&&"function"==typeof window.AWSC.Clog.system.prequeue&&window.AWSC.Clog.system.prequeue(e,t,n,r)},Ee=function(e){ne(window,"panorama","enabled")&&!0===window.panorama.enabled&&window.panorama("trackCustomEvent",e)},Ce=function(e,t){const n=Date.now(),r={eventSource:"panoramaInternal",eventContext:"trackCustomEvent",timestamp:Date.now(),eventValue:""};try{j.getInstance().getIdentityToken().then((a=>{a?(t(a),e({...r,eventType:"awsIdentityTokenSuccess",eventDetail:"AWS identity token retrieved successfully",eventValue:Date.now()-n})):(t(""),e({...r,eventType:"awsIdentityTokenCatchAll",eventDetail:"AWS identity token not found"}))})).catch((n=>{t(""),e({...r,eventType:"awsIdentityTokenCatchAll",eventDetail:n?n.toString():""})}))}catch(n){t(""),e({...r,eventType:"awsIdentityTokenCatchAll",eventDetail:n?n.toString():""})}},Te=(e,t)=>{try{const{visibility:t,display:n}=window.getComputedStyle(e);return"visible"===t&&"none"!==n&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}catch(e){t({trackEventType:ae.trackCustomEvent,eventSource:"panoramaInternal",eventType:"handleMutationError",eventContext:"isElementVisible",eventDetail:e?e.toString():""})}return!0},Se=(e,t)=>{try{return!!(e.textContent?.trim()||e.querySelector("img, video, canvas, svg")||e.children.length>0)}catch(e){t({trackEventType:ae.trackCustomEvent,eventSource:"panoramaInternal",eventType:"handleMutationError",eventContext:"hasContent",eventDetail:e?e.toString():""})}return!0},De=(e,t,n)=>{try{if(!e.hasAttribute("data-analytics-processed"))return!1;const n=e.getAttribute("data-analytics-processed");return n===e.getAttribute(t)}catch(e){n({trackEventType:ae.trackCustomEvent,eventSource:"panoramaInternal",eventType:"handleMutationError",eventContext:"isNodeAlreadyProcessed",eventDetail:e?e.toString():""})}return!0};class ke{constructor(e){t(i)(this,"request",{}),t(i)(this,"batchAttr",{}),t(i)(this,"header",{}),t(i)(this,"base64encode",void 0),this.base64encode=e||!1}update(e,t,n){for(let t in e)e.hasOwnProperty(t)&&!this.request[t]&&(this.request[t]=e[t]);for(let e in t)t.hasOwnProperty(e)&&(this.batchAttr[e]=t[e]);n&&(this.header=n)}getHeader(){return this.header}getBatchAttribute(){return this.batchAttr}build(){return this.request}}const Ie={CAPTURE_FAC:!1,MAX_FIELD_LENGTH:4e3,NAVIGATION:"navigation",EVENT_FIELDS_TO_CHECK:["eventValue","eventDetail","eventContext"],CLOG_UNLOAD_OPS_METRICS:["total_time","active_time","active_percentage","numClogSeen","numClogThrottled","numClogCaptured","numPanoramaRetries","numInClogBuffer","numPanoramaRequests","totalDedupes","throttledLogsCount","totalLogsCount","unFlushedLogsCount","noKeyErrorCount","jsErrorLogsThrottledCount","totalJsErrorLogsCount","totalCustomerReadyLogsCount","customerReadyLogsThrottledCount"],CLOG_METRICS_TO_IGNORE:["panoRoutingTimeoutExceeded","panoRoutingSuccessLatency","panoRoutingFailureLatency","panoBatchDrop"],cookieDomain:null,flags:{disableBusinessMetrics:!1,enableViewMetrics:!0,enableCustomMetrics:!0,disableOpsMetrics:!1,isPrismEnabled:!1},forceSecureTracker:!1,forceUnsecureTracker:!1,stateStorageStrategy:"localStorage",pluginsEnabledByDefault:!1,configTrackerPause:500,trackMouseMoves:!1,modality:"web",outqueueRetries:0,COOKIES_TO_CAPTURE:["aws-csds-token","s_fid"],PERFORMANCE_PLUGIN_PARAMETERS:{DETAILED_PERFORMANCE_METRICS:!1,MAX_MEASURE_TIME:15e3,FID_THRESHOLD:50,FRAME_THRESHOLD:1500,RESOURCE_THRESHOLD:1500},VALID_EVENT_LISTENERS:["afterSend","beforeSend","onCapture","onDiscard","onProcessed","onQueued","updatedCommonAttribute","onLocationChange"],VALID_DOMAINS:["test","dev","alpha","beta","integ","gamma","preprod","nonprod","prod"],FIELDS_TO_PRESERVE:["operationalData","widgetIds","customProperties","eventInteractionMetaData"],DOMAINS:{NONPROD:/alpha|beta|gamma|integ|preprod|pre-prod|aws-dev/i,PROD:/aws.amazon.com|amazonaws.cn|amazonaws-us-gov.com|aws\.com|amazonwebservices\.cn|aws-us-gov\.com/i},IPV6:/aws\.com|amazonwebservices\.cn|aws-us-gov\.com/i,PANORAMA_FOCUS_STORAGE_KEY:"AWSCPF_enabled",DEFAULT_BUFFER_SIZE:1e3,DEFAULT_MAX_POST_BYTES:55e3,DEFAULT_MAX_SINGLE_POST_BYTES:45e3,AWS_PARTITION_NAME:{Aws:"aws",AwsUsGov:"aws-us-gov",AwsIso:"aws-iso",AwsIsoB:"aws-iso-b",AwsCn:"aws-cn"},TBT_TOKENS:{NON_PROD:"v1/9e45874564c5ebaaa37ce5f6a37434d95cee6717825530840f4c4a58d010180a",PROD:"v1/c6690f37dced18053174dcc1eb564ccb3a38c020b2b50495749fcaa0f64ef6fe"}},{VALID_EVENT_LISTENERS:Ae}=Ie,Pe={},Oe=(e,t)=>{Ae.indexOf(e)>=0&&(Pe.hasOwnProperty(e)?Pe[e].push(t):Pe[e]=[t])},_e=(e,t)=>{const n=Pe[e];if(n)for(let r=n.length-1;r>=0;r--){n[r].toString()===t.toString()&&Pe[e].splice(r,1)}},Re=(e,t)=>{if(Pe.hasOwnProperty(e)){Pe[e].forEach((e=>e.call(null,t)))}},Le=e=>""===e.trim(),Ne={cookieDomain:"aws.amazon.com",pluginsEnabledByDefault:!0,modality:"web"},Me={Aws:"aws",AwsUsGov:"aws-us-gov",AwsIso:"aws-iso",AwsIsoB:"aws-iso-b",AwsCn:"aws-cn"},xe=".prod.pr.panorama.console.api.aws",Be=["ap-southeast-3","me-central-1","eu-central-2","eu-south-2","ap-south-2","ap-southeast-4","il-central-1","ca-west-1","us-northeast-1","ap-southeast-5","mx-central-1","ap-southeast-7","ap-east-2","ap-southeast-6","me-west-1","af-south-1","ap-northeast-3","eu-south-1","ap-east-1","me-south-1","eu-west-3","ap-northeast-2","eu-north-1","us-west-1","sa-east-1","ap-southeast-1","ap-southeast-2","ca-central-1","ap-south-1","eu-west-2","ap-northeast-1","us-east-1","us-west-2","eu-west-1","us-east-2","eu-central-1"],Ue=e=>e&&e.console?e.console:!!ne(window,"ConsoleNavService","Model","currentService"),Fe=e=>{e||(e=window.location.href);const t=e.match(/([a-z]+-)+\d{1}/gi);return t?t[0]:"us-east-1"},Ve=e=>{try{return document.head.querySelector(`meta[name="${e}"]`).getAttribute("content")}catch{return null}},ze=e=>{let t="";if(e&&Object.prototype.hasOwnProperty.call(e,"metricList")&&te(e.metricList,"array")){const n=[],r=e.metricList;for(let e=0;e<r.length;e++){const a=r[e],i=ne(a,"metricName"),o=ne(a,"metricValue");if(i&&Le(a.metricName))t="Received an empty metricName, therefore it was not added to the queue.",pe(t);else if(i){if(o&&te(a.metricValue,"boolean"))a.metricValue=Number(a.metricValue);else if(o&&!te(a.metricValue,"number")){t=`${a.metricName}'s value is not a number, therefore it was not added to the queue.`,pe(t);continue}n.push(a)}else t="No metricName was provided, therefore it was not added to the queue.",pe(t)}e.metricList=n}else t="metricList did not exist or was not an array.";return{message:t,validatedOpsPayload:e}},je=e=>{if(e&&te(e,"array")&&e.length>0){const t=[];return e.forEach((e=>{let{propertyName:n,propertyValue:r}=e;const a=Object.keys(e).every((t=>{let a;return"propertyName"===t?a=Le(n):"propertyValue"===t&&(te(r,"number")||te(r,"string")||(e.propertyValue=JSON.stringify(r)),a=te(r,"string")&&Le(e.propertyValue)),!a||(pe("Received an empty propertyName or propertyValue."),!1)}));e.valueType=typeof e.propertyValue,a&&t.push(e)})),t}return pe("Received no valid customProperties."),[]},He=(e=window.navigator)=>ne(window,"AWSC","Locale","getCurrentLocale")&&"function"==typeof window.AWSC.Locale.getCurrentLocale?window.AWSC.Locale.getCurrentLocale():(Ee({eventSource:"panoramaInternal",eventType:"trackerLogging",eventContext:"detectLocaleError",eventDetail:"Not_Able_To_Extract_From_getCurrentLocale"}),e.userLanguage||e.language);function qe(){return!!window.crypto&&!!crypto.randomUUID}function We(){return qe()?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}const Ge=()=>{const e=Ve("tb-data");if(!e)return!1;try{const t=JSON.parse(e);return!!t?.nav2Enabled&&t.nav2Enabled}catch{return!1}},Ke=e=>{var t=(e=>null===e?Me.Aws:e.startsWith("us-gov-")?Me.AwsUsGov:e.startsWith("us-iso-")?Me.AwsIso:e.startsWith("us-isob-")?Me.AwsIsoB:e.startsWith("cn-")?Me.AwsCn:Me.Aws)(e),n=xe;switch(t){case"aws-cn":n=".prod.pr.uis.console.aws.a2z.org.cn";break;case"aws-us-gov":n=".prod.pl.panorama.us-gov.console.api.aws";break;default:n=xe,e&&Be.includes(e)&&(n=".prod.pl.panorama.console.api.aws")}return n},$e=e=>({appEntity:"aws-console",console:!0,region:e,service:Ve("awsc-mezz-service"),trackerConstants:Ne}),Je=()=>{const e=new CustomEvent("onPanoramaLoad",{detail:{enabled:!0},bubbles:!0,cancelable:!0});window.dispatchEvent(e)},Ye=()=>Ve("awsc-mezz-service")||re(window,"ConsoleNavService","Model","currentService","id");function Xe(e){return e.payload.request.requestId=We(),e.payload.request.timestamp=e.tstamp?e.tstamp:(new Date).getTime(),delete e.payload.tag,e.payload.update(e.commonPayloadAttr,e.commonBatchAttr,e.commonPayloadHeader),"function"==typeof e.callback&&e.callback(e.payload),e.payload}const Qe="panorama",Ze="operational",et="polaroid",tt="view",nt="pageRender",rt=/https:\/\/(.*?).?console.aws.amazon.com\/(.*?)\//,at=new Set(["view","click","hover","dwell","scroll","pageRender","pageLevelTimer","locationChange","visibilityChange","render","alert","change"]);function it(e,t,n){let r=new ke(t);return r.update(e),r.request.eventSource=Qe,r.request.eventType=nt,r.request.requestUri=e.pageUrlPath,n({payload:r,tstamp:e.timestamp})}function ot(e,t,n){let r=new ke(t);return r.update(e),r.request.eventSource=Qe,r.request.eventType="scroll",r.request.eventPath=e.eventPath,r=n({payload:r,tstamp:e.timestamp}),r}function st(e,t,n){let r=new ke(t);return r.update(e),r.request.eventSource=Qe,r.request.eventType="click",r=n({payload:r,tstamp:e.timestamp}),r}function ct(e,t,n){let r=new ke(t);return e.eventSource||(e.eventSource="panorama"),r.update(e),r=n({payload:r,tstamp:e.timestamp}),r}class ut extends class{constructor(){t(i)(this,"commonPayloadAttr",{}),t(i)(this,"commonPayloadHeader",{}),t(i)(this,"commonBatchAttr",{}),t(i)(this,"addCommonPayloadAttr",((e,t)=>{this.commonPayloadAttr[e]=t})),t(i)(this,"addCommonPayloadHeader",((e,t)=>{this.commonPayloadHeader[e]=t})),t(i)(this,"addCommonBatchAttr",((e,t)=>{this.commonBatchAttr[e]=t})),t(i)(this,"getCommonPayloadAttr",(e=>this.commonPayloadAttr[e]||"")),t(i)(this,"setAWSRegion",(e=>{this.addCommonPayloadAttr("consoleRegion",e)})),t(i)(this,"setAWSUserInfo",(e=>{this.addCommonBatchAttr("awsUserInfo",encodeURI(e))})),t(i)(this,"setAWSUserInfoSigned",(e=>{this.addCommonBatchAttr("awsUserInfoSigned",e)})),t(i)(this,"setVisitorInfo",(e=>{this.addCommonBatchAttr("visitorInfo",e)})),t(i)(this,"setAWSIdentityToken",(e=>{this.addCommonBatchAttr("awsIdentityToken",e)})),t(i)(this,"setService",(e=>{this.addCommonPayloadAttr("service",e)})),t(i)(this,"setBrowserCookies",(e=>{this.addCommonPayloadAttr("browserCookies",e),this.addCommonBatchAttr("browserCookies",e)})),t(i)(this,"setDomain",(e=>{let t;const n=window.location.hostname,{NONPROD:r,PROD:a}=Ie.DOMAINS;switch(!0){case!!e:t=e;break;case r.test(n):t="NonProd";break;case a.test(n):t="Prod";break;default:t="NonProd"}return this.addCommonPayloadAttr("domain",t),this.addCommonBatchAttr("domain",t),Re("updatedCommonAttribute",{name:"domain",value:t}),t})),t(i)(this,"setScreenResolution",(e=>{if(e&&e.split("x").length>1){let t=e.split("x"),n=t[0],r=t[1];this.addCommonPayloadAttr("deviceResolutionWidth",n),this.addCommonPayloadAttr("deviceResolutionHeight",r),this.addCommonBatchAttr("deviceResolutionWidth",n),this.addCommonBatchAttr("deviceResolutionHeight",r)}})),t(i)(this,"setViewport",((e,t)=>{this.addCommonPayloadAttr("browserViewPortWidth",e),this.addCommonPayloadAttr("browserViewPortHeight",t)})),t(i)(this,"setColorDepth",(e=>{this.addCommonPayloadAttr("browserColorDepth",e),this.addCommonBatchAttr("browserColorDepth",e)})),t(i)(this,"setTimezone",(e=>{this.addCommonPayloadAttr("deviceTimeZone",e),this.addCommonBatchAttr("deviceTimeZone",e)})),t(i)(this,"setLang",(e=>{this.addCommonPayloadAttr("browserLanguage",e),this.addCommonBatchAttr("browserLanguage",e)}))}}{constructor(e){super(),t(i)(this,"base64",void 0),t(i)(this,"callback",void 0),t(i)(this,"capturedPayloadsList",void 0),t(i)(this,"storePayloadInternally",void 0),t(i)(this,"removeEmptyProperties",((e,t)=>{var n={};for(var r in t=t||{},e)(t[r]||null!==e[r]&&void 0!==e[r])&&(n[r]=e[r]);return n})),t(i)(this,"track",(e=>{const t=e;return t.callback=this.callback,t.commonPayloadAttr=this.commonPayloadAttr,t.commonBatchAttr=this.commonBatchAttr,t.commonPayloadHeader=this.commonPayloadHeader,this.storePayloadInternally&&fe(Ie.PANORAMA_FOCUS_STORAGE_KEY)&&this.capturedPayloadsList.push(t),Re("onCapture",t),Xe(t)})),t(i)(this,"cleanCapturedPayloadsList",(()=>{this.capturedPayloadsList=[],this.storePayloadInternally=!1})),t(i)(this,"readCapturedPayloadsList",(()=>this.capturedPayloadsList)),t(i)(this,"trackSelfDescribingEvent",(e=>{var t=new ke(this.base64);return t.request.eventType="ue",this.track({payload:t,tstamp:e.tstamp})})),t(i)(this,"setBase64Encoding",(e=>{this.base64=e})),t(i)(this,"trackCustomEvent",(e=>ct(e,this.base64,this.track))),t(i)(this,"trackPanoramaClickEvent",(e=>st(e,this.base64,this.track))),t(i)(this,"trackPanoramaScrollEvent",(e=>ot(e,this.base64,this.track))),t(i)(this,"trackPageView",(e=>it(e,this.base64,this.track))),t(i)(this,"trackLinkClick",(e=>{var t={data:this.removeEmptyProperties({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})};return this.trackSelfDescribingEvent({properties:t,context:e.context,tstamp:e.tstamp})})),t(i)(this,"trackFormChange",(e=>this.trackSelfDescribingEvent({properties:{data:this.removeEmptyProperties({formId:e.formId,elementId:e.elementId,nodeName:e.nodeName,type:e.type,elementClasses:e.elementClasses,value:e.value},{value:!0})},context:e.context,tstamp:e.tstamp}))),t(i)(this,"trackFormSubmission",(e=>this.trackSelfDescribingEvent({properties:{data:this.removeEmptyProperties({formId:e.formId,formClasses:e.formClasses,elements:e.elements})},context:e.context,tstamp:e.tstamp}))),void 0===e.base64&&(this.base64=!0),this.callback=e.callback,this.capturedPayloadsList=[],this.storePayloadInternally=!0}}var lt=window,dt=navigator,ht=screen,mt=document;const pt=function(){var e="modernizr";if(!function(){try{return!!lt.localStorage}catch(e){return!0}}())return!1;try{return lt.localStorage.setItem(e,e),lt.localStorage.removeItem(e),!0}catch(e){return!1}},ft=function(e,n){var r,a,i={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},o={};if(dt.mimeTypes&&dt.mimeTypes.length)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(a=dt.mimeTypes[i[r]],o[r]=a&&a.enabledPlugin?"1":"0");return dt.constructor===window.Navigator&&"unknown"!=typeof dt.javaEnabled&&!Z(dt.javaEnabled)&&dt.javaEnabled()&&(o.java="1"),ee(lt.GearsFactory)&&(o.gears="1"),o.res=ht.width+"x"+ht.height,o.cd=ht.colorDepth,e&&(o.cookie=function(e){var n=e||"testcookie";if(Z(dt.cookieEnabled))try{return t(p).set(n,"1"),"1"===t(p).get(n)?"1":"0"}catch(e){return"0"}return dt.cookieEnabled?"1":"0"}(n)),o},vt=function(e){return[e.hostName,e.href,e.referrer]};var gt,wt=9007199254740991,yt="[object Arguments]",bt="[object Function]",Et="[object GeneratorFunction]",Ct=/^(?:0|[1-9]\d*)$/;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var St,Dt,kt=Object.prototype,It=kt.hasOwnProperty,At=kt.toString,Pt=kt.propertyIsEnumerable,Ot=(St=Object.keys,Dt=Object,function(e){return St(Dt(e))}),_t=Math.max;function Rt(e,t){var n=Bt(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ut(e)}(e)&&It.call(e,"callee")&&(!Pt.call(e,"callee")||At.call(e)==yt)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var i in e)!t&&!It.call(e,i)||a&&("length"==i||Mt(i,r))||n.push(i);return n}function Lt(e,t,n){var r=e[t];It.call(e,t)&&xt(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Nt(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||kt,t!==r)return Ot(e);var t,n,r,a=[];for(var i in Object(e))It.call(e,i)&&"constructor"!=i&&a.push(i);return a}function Mt(e,t){return!!(t=null==t?wt:t)&&("number"==typeof e||Ct.test(e))&&e>-1&&e%1==0&&e<t}function xt(e,t){return e===t||e!=e&&t!=t}var Bt=Array.isArray;function Ut(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=wt}(e.length)&&!function(e){var t=Ft(e)?At.call(e):"";return t==bt||t==Et}(e)}function Ft(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var Vt,zt=(Vt=function(e,t,n,r){!function(e,t,n,r){n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],s=r?r(n[o],e[o],o,n,e):void 0;Lt(n,o,void 0===s?e[o]:s)}}(t,function(e){return Ut(e)?Rt(e):Nt(e)}(t),e,r)},function(e,t){return t=_t(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=_t(n.length-t,0),i=Array(a);++r<a;)i[r]=n[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=i,Tt(e,this,o)}}((function(e,t){var n=-1,r=t.length,a=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(a=Vt.length>3&&"function"==typeof a?(r--,a):void 0,i&&function(e,t,n){if(!Ft(n))return!1;var r=typeof t;return!!("number"==r?Ut(n)&&Mt(t,n.length):"string"==r&&t in n)&&xt(n[t],e)}(t[0],t[1],i)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var o=t[n];o&&Vt(e,o,n,a)}return e})));async function jt(e,t){const{timeout:n=6e3}=t,r=new AbortController,a=setTimeout((()=>r.abort()),n),i=await fetch(e,{...t,signal:r.signal});return clearTimeout(a),i}function Ht(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}gt=zt;const{FIELDS_TO_PRESERVE:qt}=Ie;function Wt(e){for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];n="0"==n?"0":n,n&&qt.indexOf(t)>=0?e[t]=n:e[t]=n?n.toString():""}return{evt:e,bytes:Ht(JSON.stringify(e))}}a("kTaq9"),a("j4mYy"),a("6Ax7d");((e,t)=>{let n="";for(let r=e;r>0;r--)n+=t[Math.floor(Math.random()*t.length)]})(13,"abcdefghijklmnopqrstuvwxyz01234~!@#$%");const Gt=e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}};var Kt=class{constructor(){t(i)(this,"storageStrategy","cookie"),t(i)(this,"cookiePath","/"),t(i)(this,"cookieDomain",void 0),t(i)(this,"setCookie",((e,n,r,a,i=!0)=>{if("localStorage"===this.storageStrategy)ve(e,n);else if("cookie"===this.storageStrategy||"cookieAndLocalStorage"===this.storageStrategy)return t(p).set(e,n,{expires:r,path:this.cookiePath,domain:a,secure:i})})),t(i)(this,"getCookie",(e=>"localStorage"===this.storageStrategy?fe(e):"cookie"===this.storageStrategy||"cookieAndLocalStorage"===this.storageStrategy?t(p).get(e):void 0)),t(i)(this,"getVidCookie",((e="aws-vid")=>this.getCookie(e))),t(i)(this,"deleteCookie",(e=>{"cookie"===this.storageStrategy&&t(p).remove(e)})),t(i)(this,"createOrUpdateVidCookie",((e="aws-vid",t=31536e3,n=!0)=>{let r=this.getVidCookie();try{if(r)try{const{pid:e}=Gt(r);e&&(r=e)}catch(e){}else r=We();return r=this.setCookie(e,r,t,this.cookieDomain,n),r.replace("aws-vid=","").split(";")[0]}catch(e){return""}}))}},$t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.TangerineBoxMetaDataProvider=$t.TangerineBoxSdkClientProvider=$t.TangerineBoxCredentials=$t.TangerineBoxEventTrackerForAwtObserve=$t.TangerineBoxEventTracker=void 0;var Jt={},Yt=Jt&&Jt.__assign||function(){return Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Yt.apply(this,arguments)},Xt=Jt&&Jt.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Qt=Jt&&Jt.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.NoOpTracker=Jt.TangerineBoxEventTracker=void 0,Jt.setupClientListeners=hr;var Zt={},en=Zt&&Zt.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},tn=Zt&&Zt.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.C2C_DATA_SESSION_KEY=Zt.C2C_CONFIG_SESSION_KEY=void 0,Zt.setupConsoleToCodeListeners=function(e){var t,n;try{var r=null===(t=null===window||void 0===window?void 0:window.top)||void 0===t?void 0:t.location.pathname.split("/")[1];if(!r)throw Error("consoleName: ".concat(r," is undefined"));e.middlewareStack.add((function(e,t){return function(n){return function(e,t,n,r){var a,i,o,s,c,u=performance.now();try{if(o=t.clientName,s=t.commandName,c=n.input,!o||!s)throw Error("service: ".concat(o," or operation: ").concat(s," are undefined"));var l=er();(null==l?void 0:l.recording)&&((null==l?void 0:l.allowAllConsoles)||(null===(a=null==l?void 0:l.allowedConsoles)||void 0===a?void 0:a.includes(r)))&&function(e,t,n,r,a,i){return en(this,void 0,void 0,(function(){return tn(this,(function(o){switch(o.label){case 0:return[4,Qn(e,t,n,r,a)];case 1:return ar(o.sent(),r).then((function(){var n;null===(n=Xn())||void 0===n||n.addEvent({eventType:"success",eventName:"CaptureSuccess",service:e,operation:t,sdkVersion:"V3",latency:(null===performance||void 0===performance?void 0:performance.now())-i})})).catch((function(n){var r;null===(r=Xn())||void 0===r||r.addError(n,{eventName:"StoreFailed",service:e,operation:t,sdkVersion:"V3",latency:(null===performance||void 0===performance?void 0:performance.now())-i})})),[2]}}))}))}(o,s,c,l,r,u).catch((function(e){var t;null===(t=Xn())||void 0===t||t.addError(e,{eventName:"GenerateFailed",service:o,operation:s,sdkVersion:"V3",latency:(null===performance||void 0===performance?void 0:performance.now())-u})}))}catch(e){null===(i=Xn())||void 0===i||i.addError(e,{eventName:"CaptureInitFailed",service:o,operation:s,sdkVersion:"V3",latency:(null===performance||void 0===performance?void 0:performance.now())-u})}return e(n)}(e,t,n,r)}}),{step:"serialize",name:"ConsoleToCodeListener"})}catch(e){null===(n=Xn())||void 0===n||n.addError(e,{eventName:"SetupListenersFailed",sdkVersion:"V3"})}},Zt.generateCommandHistoryItem=Qn,Zt.reduceParameters=Zn,Zt.getC2CConfigSession=er,Zt.isStorageOverLimit=tr,Zt.reduceCommands=nr,Zt.appendCommand=rr,Zt.storeCommandHistoryItem=ar;var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.MetaDataProvider=nn.TenantTracker=nn.ScheduledEventTracker=nn.BrowserCredentials=void 0;var rn={},an=rn&&rn.__assign||function(){return an=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},an.apply(this,arguments)},on=rn&&rn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},sn=rn&&rn.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(rn,"__esModule",{value:!0}),rn.BrowserCredentials=void 0;var cn={},un=cn&&cn.__assign||function(){return un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},un.apply(this,arguments)},ln=cn&&cn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},dn=cn&&cn.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(cn,"__esModule",{value:!0}),cn.HttpClient=cn.MAX_RETRIES=void 0;var hn,mn={},pn=mn&&mn.__extends||(hn=function(e,t){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},hn(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}hn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(mn,"__esModule",{value:!0}),mn.RefreshCredentialError=mn.InvalidCredentialsError=mn.MetaTagParsingError=mn.TelemetryBrokerNotAvailableError=mn.FailureRequestError=mn.TerminalRequestError=mn.TangerineBoxError=void 0;var fn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.originalError=n,r.name=r.constructor.name,n&&(r.stack+="\nCaused by: "+n.stack),r}return pn(t,e),t}(Error);mn.TangerineBoxError=fn;var vn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.metadata=n,r}return pn(t,e),t}(fn);mn.TerminalRequestError=vn;var gn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.metadata=n,r}return pn(t,e),t}(fn);mn.FailureRequestError=gn;var wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t}(fn);mn.TelemetryBrokerNotAvailableError=wn;var yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t}(fn);mn.MetaTagParsingError=yn;var bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t}(fn);mn.InvalidCredentialsError=bn;var En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pn(t,e),t}(fn);mn.RefreshCredentialError=En,cn.MAX_RETRIES=4;var Cn=function(e){return Math.random()*Math.min(10,Math.pow(2,e))*100},Tn=function(){function e(e){this.jsonReplacer=e}return e.prototype.call=function(e){var t,n,r;return ln(this,void 0,void 0,(function(){var a,i,o,s,c;return dn(this,(function(u){switch(u.label){case 0:a=new Date,o=0,u.label=1;case 1:return o<=(null!==(t=e.maxRetries)&&void 0!==t?t:cn.MAX_RETRIES)?o?[4,(d=Cn(o),new Promise((function(e){return setTimeout(e,d)})))]:[3,3]:[3,7];case 2:u.sent(),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,this.callWithFetch(e,o)];case 4:return s=u.sent(),i=s.requestId,(l=s.status)>=500||429===l?[3,6]:[2,{finalHttpStatusCode:s.status,finalRequestId:i,data:s.data,retries:o,startTimestamp:a,latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!1}];case 5:if(c=u.sent(),o>=(null!==(n=e.maxRetries)&&void 0!==n?n:cn.MAX_RETRIES)&&c instanceof Error)throw new mn.TerminalRequestError(c.message,{finalHttpStatusCode:500,finalRequestId:i,retries:o,code:c.metadata.code,startTimestamp:a,latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!0});return[3,6];case 6:return o++,[3,1];case 7:throw new mn.TerminalRequestError("Too many retries",{finalHttpStatusCode:500,finalRequestId:i,retries:null!==(r=e.maxRetries)&&void 0!==r?r:cn.MAX_RETRIES,startTimestamp:a,code:"MaxRetriesExceeded",latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!0})}var l,d}))}))},e.prototype.callWithFetch=function(e,t){var n,r,a;return ln(this,void 0,void 0,(function(){var i,o,s,c,u,l;return dn(this,(function(d){switch(d.label){case 0:i={method:e.method,headers:un({"X-Retries":"".concat(t)},e.headers),keepalive:!0},void 0!==e.timeout&&e.timeout>0&&(o=new AbortController,setTimeout((function(){return o.abort()}),e.timeout+t*(e.timeoutIncreasePerRetry||0)),i.signal=o.signal),"GET"!==e.method.toUpperCase()&&(i.body=this.createBody(e)),d.label=1;case 1:return d.trys.push([1,7,,8]),[4,fetch(e.url,i)];case 2:return s=d.sent(),c=null!==(r=null===(n=null==s?void 0:s.headers)||void 0===n?void 0:n.get("X-Amzn-Requestid"))&&void 0!==r?r:void 0,(u=null===(a=null==s?void 0:s.headers)||void 0===a?void 0:a.get("Content-Type"))&&/application\/json/.test(u)?[4,s.json()]:[3,4];case 3:return[2,{data:d.sent(),retries:t,status:s.status,requestId:c}];case 4:return[4,s.text()];case 5:return[2,{data:d.sent(),retries:t,status:s.status,requestId:c}];case 6:return[3,8];case 7:throw(l=d.sent())instanceof Error&&"AbortError"===l.name?new mn.FailureRequestError("Request timeout",{code:"RequestTimeout",finalHttpStatusCode:500,retries:t}):new mn.FailureRequestError("Request encountered an error",{code:"RequestFailed",finalHttpStatusCode:500,retries:t});case 8:return[2]}}))}))},e.prototype.createBody=function(e){var t=e.data;return t?"string"==typeof t?t:"object"==typeof t?JSON.stringify(t,this.jsonReplacer):String(t):null},e}();cn.HttpClient=Tn;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.CookieObserver=void 0;var Dn={},kn=Dn&&Dn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},In=Dn&&Dn.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.DataParser=void 0;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.TELEMETRY_BROKER_PROPERTY_NAME=void 0,An.TELEMETRY_BROKER_PROPERTY_NAME="_internal_tb_telemetry_broker";var Pn=function(){function e(e){this.windowWithTelemetryBroker=this.findWindowWithTelemetryBroker(),this.metaTagContentCache=e,this.sessionDataCache=this.parseSessionDataMetaTag(this.windowWithTelemetryBroker)}return e.getInstance=function(t){return this.metaDataProviderInstance||(this.metaDataProviderInstance=new e(t)),this.metaDataProviderInstance},e.prototype.getTelemetryBrokerWindow=function(){return this.windowWithTelemetryBroker},e.prototype.getMetaTagContent=function(){return this.metaTagContentCache||(this.metaTagContentCache=this.parseTangerineBoxMetaTag()),this.metaTagContentCache},e.prototype.getTelemetryMetaTagContent=function(){return this.telemetryMetaTagContentCache||(this.telemetryMetaTagContentCache=this.parseTangerineBoxTelemetryMetaTag()),this.telemetryMetaTagContentCache},e.prototype.getCredentialsConfig=function(){return{browserCredsFullPath:this.getMetaTagContent().browserCredsFullPath,csrfToken:this.getMetaTagContent().csrfToken}},e.prototype.parseTangerineBoxMetaTag=function(){var e=this.parseMetaTag("tb-data");if(!e)throw new mn.MetaTagParsingError("TangerineBox meta tag not found");try{return JSON.parse(e)}catch(e){throw new mn.MetaTagParsingError("Unable to parse TangerineBox meta tag contents",e instanceof Error?e:new Error(String(e)))}},e.prototype.parseTangerineBoxTelemetryMetaTag=function(){var e=this.parseMetaTag("tbt-data");if(!e)throw new mn.MetaTagParsingError("TangerineBox Telemetry meta tag not found");try{return JSON.parse(e)}catch(e){throw new mn.MetaTagParsingError("Unable to parse TangerineBox Telemetry meta tag contents",e instanceof Error?e:new Error(String(e)))}},e.prototype.parseMetaTag=function(e,t){var n=(t?t.document:document).querySelector("meta[name='".concat(e,"']"));if(n)return n.content},e.prototype.parseCookie=function(e,t){void 0===t&&(t=document.cookie);var n=t.match("".concat(e,"=([^;]*)"));if(n&&n[1])return n[1]},e.prototype.triggerLoggedOutDialog=function(){var e,t=void 0!==this.parseMetaTag("awsc-widget-nav")||void 0!==this.parseMetaTag("awsc-widget-next"),n=null!==(e=this.windowWithTelemetryBroker)&&void 0!==e?e:window;void 0!==n&&(t?n.dispatchEvent(this.createCustomEvent("auth-change-detected")):n.AWSC&&"function"==typeof this.windowWithTelemetryBroker.AWSC.jQuery&&n.AWSC.jQuery(n.AWSC).trigger("auth-change-detected"))},e.prototype.createCustomEvent=function(e){if("undefined"!=typeof window&&"function"==typeof window.CustomEvent)return new CustomEvent(e);var t={bubbles:!1,cancelable:!1,detail:null},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},e.prototype.parseSessionDataMetaTag=function(e){var t=this.parseMetaTag("awsc-session-data",e);if(!t)throw new mn.MetaTagParsingError("Session data meta tag not found");try{return JSON.parse(t)}catch(e){throw new mn.MetaTagParsingError("Unable to parse session data meta tag content",e instanceof Error?e:new Error(String(e)))}},e.prototype.getSessionDataValue=function(e){return kn(this,void 0,void 0,(function(){return In(this,(function(t){return[2,this.sessionDataCache[e]]}))}))},e.prototype.getLogoutDetectionCookieName=function(){if(this.isPrismModeEnabled()){if(!this.sessionDataCache.sessionDifferentiator)throw new mn.MetaTagParsingError("sessionDifferentiator is not found in prism mode");return e=this.sessionDataCache.sessionDifferentiator,"".concat("__Secure-aws-session-id","-").concat(e)}var e;return"aws-userInfo"},e.prototype.isPrismModeEnabled=function(){var e=this.getMetaTagContent().prismModeEnabled;return"boolean"==typeof e?e:!!this.sessionDataCache.prismModeEnabled},e.prototype.findWindowWithTelemetryBroker=function(){for(var e=window;;){if(e[An.TELEMETRY_BROKER_PROPERTY_NAME])return e;if(e===e.parent)return;e=e.parent}},e}();Dn.DataParser=Pn;var On=function(){function e(e,t,n){void 0===t&&(t=2e3),this.cookieName=e,this.listeners=[],this.dataParser=null!=n?n:Dn.DataParser.getInstance(),this.lastSeenCookieValue=this.dataParser.parseCookie(e),setInterval(this.poll.bind(this),t)}return e.prototype.addChangeListener=function(e){this.listeners.push(e)},e.prototype.poll=function(){var e=this.dataParser.parseCookie(this.cookieName);this.lastSeenCookieValue!==e&&this.getCookieListener().forEach((function(e){return e()})),this.lastSeenCookieValue=e},e.prototype.getCookieListener=function(){return this.listeners},e}();Sn.CookieObserver=On;var _n={},Rn=_n&&_n.__assign||function(){return Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Rn.apply(this,arguments)};Object.defineProperty(_n,"__esModule",{value:!0}),_n.ScheduledEventTracker=void 0;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.BrokerWrapper=void 0;var Nn=function(){function e(e){this.telemetryBroker=e[An.TELEMETRY_BROKER_PROPERTY_NAME]}return e.prototype.register=function(e){return this.telemetryBroker.register(e)},e.prototype.addEvent=function(e){this.telemetryBroker.addEvent(e)},e.prototype.dangerouslyFlushEvents=function(){this.telemetryBroker.dangerouslyFlushEvents()},e.prototype.registerTenant=function(e,t){var n,r;null===(r=(n=this.telemetryBroker).registerTenant)||void 0===r||r.call(n,e,t)},e.prototype.getTenants=function(){return this.telemetryBroker.getTenants?this.telemetryBroker.getTenants():{hash:"",tenants:[]}},e}();Ln.BrokerWrapper=Nn;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.PACKAGE_VERSION=void 0,Mn.PACKAGE_VERSION="2.0.188287.0#be4f5427";var xn,Bn,Un=function(){function e(e,t){this.props=e;var n=function(){var e=t.tokensForPublicEvents;if(void 0!==e)return e;var n=t.parentToken;return void 0!==n?[n]:void 0}();this.id=this.props.broker.register({source:"weblib-v2",telemetryToken:t.token,telemetryTokensForPublicEvents:n})}return e.getInstance=function(t){var n=null!=t?t:{token:Dn.DataParser.getInstance().getTelemetryMetaTagContent().telemetryToken},r=Dn.DataParser.getInstance().getTelemetryBrokerWindow();if(void 0===r)throw new mn.TelemetryBrokerNotAvailableError("Telemetry broker not found");return new e({broker:new Ln.BrokerWrapper(r)},n)},e.prototype.addEvent=function(e,t){var n={type:"log",content:e,version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:n},t))},e.prototype.addError=function(e,t,n){var r={type:"error",content:Rn({error:e},t),version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addFatalError=function(e,t,n,r){var a={type:"fatal-error",content:Rn({error:e},t),fatalErrorMetadata:n,version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:a},r))},e.prototype.addAwsSdkEvent=function(e,t){var n={type:"aws-sdk-metric",awsSdkMetric:e,content:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:n},t))},e.prototype.addFmsEvaluationEvent=function(e,t,n){var r={type:"fms-evaluation",fmsEvaluation:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addAwsArachnidQueryEvent=function(e,t,n){var r={type:"aws-arachnid-query",awsArachnidQuery:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addAwsArachnidCredentialEvent=function(e,t,n){var r={type:"aws-arachnid-credential",awsArachnidCredential:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addJanusApiEvent=function(e,t,n){var r={type:"janus-api",janusApi:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addJanusCredentialEvent=function(e,t,n){var r={type:"janus-credential",janusCredential:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addLotusCspEvent=function(e,t,n){var r={type:"lotus-csp",lotusCsp:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addLotusIsolatedIFrameEvent=function(e,t,n){var r={type:"lotus-isolated-iframe",lotusIsolatedIFrame:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addLotusImportPackageEvent=function(e,t,n){var r={type:"lotus-import-package",lotusImportPackage:e.lotusImportPackage,lotusMetadata:e.lotusMetadata,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addModuleLifecycleEvent=function(e,t,n){var r={type:"module-lifecycle",moduleLifecycle:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addCloudEditorEvent=function(e,t,n){var r={type:"cloud-editor",cloudEditor:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addCloudEditorLspEvent=function(e,t,n){var r={type:"cloud-editor-lsp",cloudEditorLsp:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addPapiProxyEvent=function(e,t,n){var r={type:"papi-proxy",papiProxy:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addPapiCredentialEvent=function(e,t,n){var r={type:"papi-credential",papiCredential:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.addBootstrapEvent=function(e,t,n){var r={type:"tb-bootstrap",tbBootstrap:e,content:null!=t?t:{},version:Mn.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(Rn({tenantId:this.id,event:r},n))},e.prototype.dangerouslyFlushEvents=function(){this.props.broker.dangerouslyFlushEvents()},e}();_n.ScheduledEventTracker=Un;var Fn=function(){function e(e,t,n,r,a){var i=this;this.isLoggedOut=!1,this.loggedOutMessage="User Logged Out",this.dataParser=a,this.credentialsConfig=e,this.eventTracker=n,this.httpClient=t,this.cookieObserver=r,this.addLogoutListener((function(){i.isLoggedOut=!0,xn&&(xn.accessKeyId="",xn.secretAccessKey="",xn.sessionToken="",xn.expiration=new Date(0))}))}return e.getInstance=function(){if(!this.browserCredentialsInstance){var t=Dn.DataParser.getInstance(),n=void 0;try{n=_n.ScheduledEventTracker.getInstance()}catch(e){console.error("BrowserCredentials cannot instantiate ScheduledEventTracker",e)}var r=t.getCredentialsConfig(),a=new cn.HttpClient;this.browserCredentialsInstance=new e(r,a,n,new Sn.CookieObserver(t.getLogoutDetectionCookieName()),t)}return this.browserCredentialsInstance},e.prototype.getCredentials=function(){return on(this,void 0,void 0,(function(){var e;return sn(this,(function(t){switch(t.label){case 0:if(this.isLoggedOut)throw new mn.RefreshCredentialError(this.loggedOutMessage);if((null==xn?void 0:xn.expiration)&&new Date(xn.expiration).getTime()-Date.now()>3e5)return[2,xn];Bn||(Bn=this.requestCredentials()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,Bn];case 2:return e=t.sent(),[2,xn=e];case 3:return Bn=void 0,[7];case 4:return[2]}}))}))},e.prototype.requestCredentials=function(){return on(this,void 0,void 0,(function(){var e,t,n,r,a;return sn(this,(function(i){switch(i.label){case 0:e={url:this.credentialsConfig.browserCredsFullPath,method:"POST",headers:{"x-csrf-token":this.credentialsConfig.csrfToken},timeout:5e3,timeoutIncreasePerRetry:1e3,maxRetries:4},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.httpClient.call(e)];case 2:return t=i.sent(),[3,4];case 3:throw n=i.sent(),this.emitClientErrorEvent(n),new mn.RefreshCredentialError("Fail to request credentials",n);case 4:if(this.emitClientResponseEvent(t),!(t.finalHttpStatusCode>=200&&t.finalHttpStatusCode<300)){if([401,403].includes(t.finalHttpStatusCode))throw r=401===t.finalHttpStatusCode?"Unauthorized":"InvalidCsrfTokenError",this.dataParser.triggerLoggedOutDialog(),this.cookieObserver.getCookieListener().forEach((function(e){return e()})),this.loggedOutMessage="".concat(r,": Session is invalid"),new mn.RefreshCredentialError(this.loggedOutMessage);a=void 0;try{a=JSON.parse(t.data.toString()).error}catch(e){a="HTTP status code ".concat(t.finalHttpStatusCode)}throw new mn.RefreshCredentialError(a)}return this.validate(t.data),[2,t.data]}}))}))},e.prototype.validate=function(e){for(var t=0,n=["accessKeyId","secretAccessKey","sessionToken"];t<n.length;t++){var r=n[t];if(!e[r])throw new mn.InvalidCredentialsError('Invalid credentials, missing property: "'.concat(r,'"'))}},e.prototype.addLogoutListener=function(e){this.cookieObserver.addChangeListener(e)},e.prototype.emitClientErrorEvent=function(e){var t,n={attemptCount:1+e.metadata.retries,latencyMillseconds:e.metadata.latencyMillseconds,maxRetriesExceeded:e.metadata.maxRetriesExceeded,finalRequestId:e.metadata.finalRequestId,startTimestamp:e.metadata.startTimestamp,finalSdkException:e.metadata.code,finalSdkExceptionMessage:e.message,operation:"RefreshCredentials",service:"TangerineBox",region:""};null===(t=this.eventTracker)||void 0===t||t.addAwsSdkEvent(n)},e.prototype.emitClientResponseEvent=function(e){var t,n={attemptCount:1+e.retries,finalHttpStatusCode:e.finalHttpStatusCode,finalRequestId:e.finalRequestId,latencyMillseconds:e.latencyMillseconds,maxRetriesExceeded:e.maxRetriesExceeded,startTimestamp:e.startTimestamp,operation:"RefreshCredentials",service:"TangerineBox",region:""};e.finalHttpStatusCode>=400&&(n=an({finalSdkException:"RequestFailed",finalSdkExceptionMessage:"Request failed with status code ".concat(e.finalHttpStatusCode),finalHttpStatusCode:e.finalHttpStatusCode},n)),null===(t=this.eventTracker)||void 0===t||t.addAwsSdkEvent(n)},e}();rn.BrowserCredentials=Fn,Object.defineProperty(nn,"BrowserCredentials",{enumerable:!0,get:function(){return rn.BrowserCredentials}}),Object.defineProperty(nn,"ScheduledEventTracker",{enumerable:!0,get:function(){return _n.ScheduledEventTracker}});var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.TenantTracker=void 0;var zn=function(){function e(){}return e.registerTenant=function(e,t){this.getBrokerWrapper().registerTenant(e,t)},e.getTenants=function(){return this.getBrokerWrapper().getTenants()},e.getBrokerWrapper=function(){if(this.brokerWrapper)return this.brokerWrapper;var e=Dn.DataParser.getInstance().getTelemetryBrokerWindow();if(void 0===e)throw new mn.TelemetryBrokerNotAvailableError("Telemetry broker not found");return this.brokerWrapper=new Ln.BrokerWrapper(e),this.brokerWrapper},e}();Vn.TenantTracker=zn,Object.defineProperty(nn,"TenantTracker",{enumerable:!0,get:function(){return Vn.TenantTracker}});var jn={},Hn=jn&&jn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},qn=jn&&jn.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(jn,"__esModule",{value:!0}),jn.MetaDataProvider=void 0;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.ripRegion=void 0;var Gn;Gn=JSON.parse('{"ap-southeast-6":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isof-south-1":{"websiteDomain":"csphome.hci.ic.gov","websiteDomainDualstack":"awshome.hci.ic.gov"},"us-iso-west-1":{"websiteDomain":"c2shome.ic.gov","websiteDomainDualstack":"awshome.ic.gov"},"eu-north-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"me-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"cn-north-1":{"websiteDomain":"amazonaws.cn","websiteDomainDualstack":"amazonwebservices.cn"},"ap-southeast-7":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-west-3":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-3":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-east-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"af-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-iso-east-1":{"websiteDomain":"c2shome.ic.gov","websiteDomainDualstack":"awshome.ic.gov"},"eu-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"me-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isob-west-1":{"websiteDomain":"sc2shome.sgov.gov","websiteDomainDualstack":"awshome.scloud"},"eu-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"sa-east-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-east-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-south-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-east-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-northeast-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-northeast-3":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-5":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isob-east-1":{"websiteDomain":"sc2shome.sgov.gov","websiteDomainDualstack":"awshome.scloud"},"eu-west-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isof-east-1":{"websiteDomain":"csphome.hci.ic.gov","websiteDomainDualstack":"awshome.hci.ic.gov"},"us-northeast-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-4":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-isoe-west-1":{"websiteDomain":"csphome.adc-e.uk","websiteDomainDualstack":"awshome.adc-e.uk"},"ap-northeast-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-gov-east-1":{"websiteDomain":"amazonaws-us-gov.com","websiteDomainDualstack":"aws-us-gov.com"},"us-gov-west-1":{"websiteDomain":"amazonaws-us-gov.com","websiteDomainDualstack":"aws-us-gov.com"},"us-west-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"mx-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"me-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"sa-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eusc-de-east-1":{"websiteDomain":"amazonaws-eusc.eu","websiteDomainDualstack":"aws.eu"},"il-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-east-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ca-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ca-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-south-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"cn-northwest-1":{"websiteDomain":"amazonaws.cn","websiteDomainDualstack":"amazonwebservices.cn"},"eu-central-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"}}'),Wn.ripRegion=function(e){return Gn[e]};var Kn=function(){function e(e){this.dataParser=e}return e.getInstance=function(){return this.metaDataProviderInstance||(this.metaDataProviderInstance=new e(Dn.DataParser.getInstance())),this.metaDataProviderInstance},e.prototype.getCdnUrl=function(e){return/^(http|https|ws|wss):\/\//.test(e)?e:"".concat(this.dataParser.getMetaTagContent().cdn).concat(e)},e.prototype.getCustomContext=function(e){return this.dataParser.getMetaTagContent().custom[e]},e.prototype.getAssetUrl=function(e,t){var n=this.getCustomContext(e)+"/".concat(t);return this.getCdnUrl(n)},e.prototype.getConsoleTelemetryToken=function(){return this.dataParser.getTelemetryMetaTagContent().telemetryToken},e.prototype.getSessionARN=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionARN")]}))}))},e.prototype.getAccountId=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("accountId")]}))}))},e.prototype.getIdentityToken=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("identityToken")]}))}))},e.prototype.getSessionId=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionId")]}))}))},e.prototype.getInfrastructureRegion=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("infrastructureRegion")]}))}))},e.prototype.getVpc=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("vpc")]}))}))},e.prototype.getAccountAlias=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("accountAlias")]}))}))},e.prototype.getDisplayName=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("displayName")]}))}))},e.prototype.getSessionDifferentiator=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionDifferentiator")]}))}))},e.prototype.isMultiSessionEnabled=function(){return Hn(this,void 0,void 0,(function(){return qn(this,(function(e){switch(e.label){case 0:return[4,this.dataParser.getSessionDataValue("prismModeEnabled")];case 1:return[2,!!e.sent()]}}))}))},e.prototype.getCustomServiceEndpoint=function(e){var t=this.dataParser.getMetaTagContent().endpoints;return t?t["CUSTOM_".concat(e)]:void 0},e.prototype.getHelpPanelApiEndpoint=function(){return(this.dataParser.getMetaTagContent().endpoints||{}).STANDARD_HelpPanelAPI},e.prototype.getHelpPanelApiFallbackEndpoint=function(){return(this.dataParser.getMetaTagContent().endpoints||{}).STANDARD_HelpPanelAPI_Fallback},e.prototype.getIamAdminStandardConfig=function(){var e=(this.dataParser.getMetaTagContent().endpoints||{}).STANDARD_iamadmin,t=this.getCustomContext("STANDARD_iamadmin_signing_region");if(e&&t)return{region:t,endpoint:e}},e.prototype.getUserPreferenceServiceEndpoint=function(){return Hn(this,void 0,void 0,(function(){var e,t,n,r;return qn(this,(function(a){switch(a.label){case 0:return[4,this.dataParser.getSessionDataValue("dualstackEnabledDomain")];case 1:return e=a.sent(),[4,this.getInfrastructureRegion()];case 2:return t=a.sent(),n=(0,Wn.ripRegion)(t),r=e?n.websiteDomainDualstack:n.websiteDomain,[2,"https://".concat(t,".console.").concat(r,"/p/pref/1")]}}))}))},e}();jn.MetaDataProvider=Kn,Object.defineProperty(nn,"MetaDataProvider",{enumerable:!0,get:function(){return jn.MetaDataProvider}}),Zt.C2C_CONFIG_SESSION_KEY="alchemist_commands",Zt.C2C_DATA_SESSION_KEY="c2c_data";var $n,Jn,Yn=new Set(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","Buffer","ArrayBuffer","ArrayBufferView","Readable","ReadableStream","ReadableStreamOptionalType","BlobOptionalType"]);function Xn(){try{return nn.ScheduledEventTracker.getInstance({token:"v1/0766ecf6a48e11e6007d3fc37a2c5480e9423b27c67612e362feb5bb202ffe26"})}catch(e){console.error("[C2C] Telemetry init failed")}}function Qn(e,t,n,r,a){return en(this,void 0,void 0,(function(){var i,o,s,c,u;return tn(this,(function(l){return i={service:e,operation:t,consoleName:a,title:null===(s=null===(o=null===window||void 0===window?void 0:window.top)||void 0===o?void 0:o.document)||void 0===s?void 0:s.title,href:null===(u=null===(c=null===window||void 0===window?void 0:window.top)||void 0===c?void 0:c.location)||void 0===u?void 0:u.href,uuid:crypto.randomUUID(),date:new Date},n&&(i.parameters=Zn(n,r)),[2,i]}))}))}function Zn(e,t){var n=function(e){for(var r,a,i,o,s,c,u=0,l=Object.keys(e);u<l.length;u++){var d=l[u];"object"!=typeof e[d]||"Object"!==(null===(a=null===(r=e[d])||void 0===r?void 0:r.constructor)||void 0===a?void 0:a.name)&&"Array"!==(null===(o=null===(i=e[d])||void 0===i?void 0:i.constructor)||void 0===o?void 0:o.name)?("string"==typeof e[d]&&e[d].length>t.paramReduction.stringLimit||(null==Yn?void 0:Yn.has(null===(c=null===(s=e[d])||void 0===s?void 0:s.constructor)||void 0===c?void 0:c.name)))&&(e[d]=t.paramReduction.paramPlaceholder+d):n(e[d])}return e};return e=n(structuredClone(e))}function er(){var e=sessionStorage.getItem(Zt.C2C_CONFIG_SESSION_KEY)||"{}";return JSON.parse(e)}function tr(e,t){return e.length>t.sessionReduction.sessionByteLimit}function nr(e,t){var n=JSON.parse(e);return n.splice(0,t.sessionReduction.reduceCommandsBy),JSON.stringify(n)}function rr(e,t){return"[]"===e?"["+JSON.stringify(t)+"]":e.slice(0,-1)+","+JSON.stringify(t)+"]"}function ar(e,t){return en(this,void 0,void 0,(function(){var n,r;return tn(this,(function(a){return n=sessionStorage.getItem(Zt.C2C_DATA_SESSION_KEY)||"[]",tr(n,t)&&(n=nr(n,t)),n=rr(n,e),sessionStorage.setItem(Zt.C2C_DATA_SESSION_KEY,n),null===(r=null===window||void 0===window?void 0:window.top)||void 0===r||r.dispatchEvent(new Event("AlchemistStorageChange")),[2]}))}))}(Jn=$n||($n={})).STANDARD="standard",Jn.ADAPTIVE="adaptive";$n.STANDARD;const ir=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];class or{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),429===(n=e).$metadata?.httpStatusCode||ir.includes(n.name)||1==n.$retryable?.throttling){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var n;const r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const sr=100,cr=()=>{let e=sr;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}},ur=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>n});class lr{constructor(e){this.maxAttempts=e,this.mode=$n.STANDARD,this.capacity=500,this.retryBackoffStrategy=cr(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return ur({retryDelay:sr,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:sr);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,i=this.getCapacityCost(n);return this.capacity-=i,ur({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}var dr=function(){function e(e){this.scheduledEventTracker=e}return e.getInstance=function(t){try{return new e(nn.ScheduledEventTracker.getInstance(t))}catch(e){return console.error("[TangerineBox] Telemetry configuration is missing. Error: ".concat(e)),new pr}},e.prototype.addEvent=function(e,t){this.scheduledEventTracker.addEvent(e,t)},e.prototype.addError=function(e,t,n){this.scheduledEventTracker.addError(e,t,n)},e.prototype.addFatalError=function(e,t,n,r){this.scheduledEventTracker.addFatalError(e,t,n,r)},e.prototype.emitAwsSdkMetrics=function(e,t){var n=this;hr(e,(function(e){return Xt(n,void 0,void 0,(function(){return Qt(this,(function(n){return[2,this.scheduledEventTracker.addAwsSdkEvent(e,t)]}))}))})),(0,Zt.setupConsoleToCodeListeners)(e)},e}();function hr(e,t){var n,r,a,i=this,o=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()};e.middlewareStack.add((function(s,c){return function(u){return Xt(i,void 0,void 0,(function(){var i,l,d,h,m,p,f,v,g,w,y;return Qt(this,(function(b){switch(b.label){case 0:return i=c.commandName.replace(/Command$/,""),l=c.clientName.replace(/Client$/,""),[4,e.config.retryStrategy()];case 1:return d=b.sent(),[4,e.config.maxAttempts()];case 2:return h=b.sent(),d instanceof lr?"number"!=typeof d.maxAttempts?[3,3]:(m=d.maxAttempts,[3,5]):[3,6];case 3:return[4,d.maxAttempts()];case 4:m=b.sent(),b.label=5;case 5:return h=m,[3,8];case 6:return d instanceof class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=$n.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new or,this.standardRetryStrategy=new lr(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}?[4,d.maxAttemptsProvider()]:[3,8];case 7:h=b.sent(),b.label=8;case 8:return[4,e.config.region()];case 9:r=b.sent(),n=o(),a=Date.now(),b.label=10;case 10:return b.trys.push([10,13,,15]),[4,s(u)];case 11:return p=b.sent(),y=Yt(Yt({},mr(p.output.$metadata,h)),{latencyMillseconds:Math.max(0,Math.round(o()-n)),operation:i,service:l,region:r,startTimestamp:new Date(a),finalSdkException:void 0,finalAwsException:void 0}),[4,t(y)];case 12:return b.sent(),[2,p];case 13:return f=b.sent(),v=mr(f.$metadata,h),E=f,g=Boolean(E instanceof Error&&E.$fault&&E.$metadata),w=g?void 0:f.message,y=Yt(Yt({},v),{latencyMillseconds:Math.max(0,Math.round(o()-n)),operation:i,service:l,region:r,startTimestamp:new Date(a),finalSdkException:g&&"client"===f.$fault?f.name:w,finalAwsException:g&&"server"===f.$fault?f.name:void 0}),[4,t(y)];case 14:throw b.sent(),f;case 15:return[2]}var E}))}))}}),{step:"serialize",name:"TangerineBoxSDKRequestMetric"})}function mr(e,t){var n,r,a;return e?{attemptCount:null!==(n=e.attempts)&&void 0!==n?n:0,finalHttpStatusCode:e.httpStatusCode,maxRetriesExceeded:t<=(null!==(r=e.attempts)&&void 0!==r?r:0),finalRequestId:null!==(a=e.requestId)&&void 0!==a?a:void 0}:{attemptCount:0,finalHttpStatusCode:void 0,maxRetriesExceeded:!0,finalRequestId:void 0}}Jt.TangerineBoxEventTracker=dr;var pr=function(){function e(){}return e.prototype.addEvent=function(e,t){},e.prototype.addError=function(e,t,n){},e.prototype.addFatalError=function(e,t,n,r){},e.prototype.emitAwsSdkMetrics=function(e,t){},e}();Jt.NoOpTracker=pr,Object.defineProperty($t,"TangerineBoxEventTracker",{enumerable:!0,get:function(){return Jt.TangerineBoxEventTracker}});var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.NoOpScheduledEventTracker=fr.TangerineBoxEventTrackerForAwtObserve=void 0;var vr=function(){function e(e){this.internalEventTracker=e}return e.getInstance=function(t){return new e(t().then((function(e){return Promise.resolve(nn.ScheduledEventTracker.getInstance(e))})).catch((function(e){return console.error("[TangerineBox] Telemetry configuration is missing. ".concat(e)),Promise.resolve(new gr)})))},e.prototype.addEvent=function(e,t){this.internalEventTracker.then((function(n){return n.addEvent(e,t)}))},e.prototype.addError=function(e,t,n){this.internalEventTracker.then((function(r){return r.addError(e,t,n)}))},e.prototype.addFatalError=function(e,t,n,r){this.internalEventTracker.then((function(a){return a.addFatalError(e,t,n,r)}))},e.prototype.emitAwsSdkMetrics=function(e,t){var n=this;(0,Jt.setupClientListeners)(e,(function(e){return n.internalEventTracker.then((function(n){return n.addAwsSdkEvent(e,t)}))}))},e}();fr.TangerineBoxEventTrackerForAwtObserve=vr;var gr=function(){function e(){}return e.prototype.addEvent=function(e,t){},e.prototype.addError=function(e,t,n){},e.prototype.addFatalError=function(e,t,n,r){},e.prototype.addAwsSdkEvent=function(e,t){},e}();fr.NoOpScheduledEventTracker=gr,Object.defineProperty($t,"TangerineBoxEventTrackerForAwtObserve",{enumerable:!0,get:function(){return fr.TangerineBoxEventTrackerForAwtObserve}});var wr={},yr=wr&&wr.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=wr&&wr.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Er=wr&&wr.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(wr,"__esModule",{value:!0}),wr.TangerineBoxCredentials=wr.TangerineBoxCredentialsBase=void 0;var Cr={},Tr=Cr&&Cr.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.SdkError=void 0;var Sr=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.message=t,a.code=n,a.originalError=r,a.name=a.constructor.name,r&&(a.stack+="\nCaused by: "+r.stack),a}return Tr(t,e),t}(Error);Cr.SdkError=Sr;var Dr=function(){function e(e){var t=this;this.browserCredentials=e,e.addLogoutListener((function(){t.credentials&&(t.credentials.expiration=new Date(0),t.credentials.accessKeyId="",t.credentials.secretAccessKey="",t.credentials.sessionToken&&(t.credentials.sessionToken=""))}))}return e.prototype.getTangerineBoxCredentials=function(){var e=this;return function(){return e.fetchCredentials()}},e.prototype.fetchCredentials=function(){return br(this,void 0,void 0,(function(){var e;return Er(this,(function(t){switch(t.label){case 0:return e=this,[4,this.browserCredentials.getCredentials().then((function(e){return{expiration:new Date(e.expiration),accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,sessionToken:e.sessionToken}})).catch((function(e){throw new Cr.SdkError(e.message,"TangerineBoxCredentialsProviderFailure")}))];case 1:return e.credentials=t.sent(),[2,this.credentials]}}))}))},e}();wr.TangerineBoxCredentialsBase=Dr;var kr=function(e){function t(t){return e.call(this,t)||this}return yr(t,e),t.getInstance=function(){return this.tangerineBoxCredentialsInstance||(this.tangerineBoxCredentialsInstance=new t(nn.BrowserCredentials.getInstance())),this.tangerineBoxCredentialsInstance},t}(Dr);wr.TangerineBoxCredentials=kr,Object.defineProperty($t,"TangerineBoxCredentials",{enumerable:!0,get:function(){return wr.TangerineBoxCredentials}});var Ir={},Ar=Ir&&Ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Pr=Ir&&Ir.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.TangerineBoxSdkClientProvider=void 0;var Or={},_r=Or&&Or.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Rr=Or&&Or.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.SdkClientProvider=void 0;var Lr=function(){function e(e,t,n,r){this.dataParser=e,this.metaDataProvider=t,this.credentialsProvider=n,this.eventTracker=r}return e.getInstance=function(){return this.instance||(this.instance=new e(Dn.DataParser.getInstance(),nn.MetaDataProvider.getInstance(),wr.TangerineBoxCredentials.getInstance(),Jt.TangerineBoxEventTracker.getInstance())),this.instance},e.prototype.getAwsSdkClientConfig=function(e){return _r(this,arguments,void 0,(function(e,t){var n=void 0===t?{}:t,r=n.region,a=n.includeTangerineBoxCredentials,i=void 0===a||a;return Rr(this,(function(t){return[2,this.getAwsSdkClientConfigFromServiceId(new e({}).config.serviceId,{region:r,includeTangerineBoxCredentials:i})]}))}))},e.prototype.getAwsSdkClientConfigFromServiceId=function(e){return _r(this,arguments,void 0,(function(e,t){var n,r=void 0===t?{}:t,a=r.region,i=r.includeTangerineBoxCredentials,o=void 0===i||i;return Rr(this,(function(t){switch(t.label){case 0:return null==a?[3,1]:(a,[3,3]);case 1:return[4,this.metaDataProvider.getInfrastructureRegion()];case 2:a=t.sent(),t.label=3;case 3:if(!(n=this.getServiceEndpoint(e,a)))throw new Error("Unable to create client config for ".concat(e,"."));return[2,{region:a,endpoint:n,credentials:o?this.credentialsProvider.getTangerineBoxCredentials():void 0}]}}))}))},e.prototype.getAwsSdkClient=function(e){return _r(this,arguments,void 0,(function(e,t){var n,r,a=void 0===t?{}:t,i=a.region,o=a.includeTangerineBoxCredentials,s=void 0===o||o,c=a.includeTangerineBoxTelemetry,u=void 0===c||c;return Rr(this,(function(t){switch(t.label){case 0:return[4,this.getAwsSdkClientConfig(e,{region:i,includeTangerineBoxCredentials:s})];case 1:return n=t.sent(),r=new e(n),u&&this.eventTracker.emitAwsSdkMetrics(r),[2,r]}}))}))},e.prototype.getIamAdminStandardConfig=function(){var e,t=(null!==(e=this.dataParser.getMetaTagContent().endpoints)&&void 0!==e?e:{}).STANDARD_iamadmin,n=this.metaDataProvider.getCustomContext("STANDARD_iamadmin_signing_region");if(!t||!n)throw new Error("Unable to get IamAdminConfig config.");return{region:n,endpoint:t,credentials:this.credentialsProvider.getTangerineBoxCredentials()}},e.prototype.getUserPreferenceStandardConfig=function(){return _r(this,void 0,void 0,(function(){var e,t,n,r;return Rr(this,(function(a){switch(a.label){case 0:return[4,this.dataParser.getSessionDataValue("dualstackEnabledDomain")];case 1:return e=a.sent(),[4,this.metaDataProvider.getInfrastructureRegion()];case 2:return t=a.sent(),n=(0,Wn.ripRegion)(t),r=e?n.websiteDomainDualstack:n.websiteDomain,[2,{region:t,endpoint:"https://".concat(t,".console.").concat(r,"/p/pref/1"),credentials:this.credentialsProvider.getTangerineBoxCredentials()}]}}))}))},e.prototype.getServiceEndpoint=function(e,t){var n=this.dataParser.getMetaTagContent().endpoints;return null==n?void 0:n["SDK_".concat(t,"_").concat(e)]},e}();Or.SdkClientProvider=Lr;var Nr=function(){function e(e){this.provider=e}return e.getInstance=function(){return this.instance||(this.instance=new e(Or.SdkClientProvider.getInstance())),this.instance},e.prototype.getAwsSdkClientConfig=function(e){return Ar(this,arguments,void 0,(function(e,t){var n=void 0===t?{}:t,r=n.region,a=n.includeTangerineBoxCredentials,i=void 0===a||a;return Pr(this,(function(t){return[2,this.provider.getAwsSdkClientConfig(e,{region:r,includeTangerineBoxCredentials:i})]}))}))},e.prototype.getAwsSdkClient=function(e){return Ar(this,arguments,void 0,(function(e,t){var n=void 0===t?{}:t,r=n.region,a=n.includeTangerineBoxCredentials,i=void 0===a||a,o=n.includeTangerineBoxTelemetry,s=void 0===o||o;return Pr(this,(function(t){return[2,this.provider.getAwsSdkClient(e,{region:r,includeTangerineBoxCredentials:i,includeTangerineBoxTelemetry:s})]}))}))},e.prototype.getIamAdminStandardConfig=function(){return this.provider.getIamAdminStandardConfig()},e.prototype.getUserPreferenceStandardConfig=function(){return Ar(this,void 0,void 0,(function(){return Pr(this,(function(e){switch(e.label){case 0:return[4,this.provider.getUserPreferenceStandardConfig()];case 1:return[2,e.sent()]}}))}))},e}();Ir.TangerineBoxSdkClientProvider=Nr,Object.defineProperty($t,"TangerineBoxSdkClientProvider",{enumerable:!0,get:function(){return Ir.TangerineBoxSdkClientProvider}}),Object.defineProperty($t,"TangerineBoxMetaDataProvider",{enumerable:!0,get:function(){return nn.MetaDataProvider}});class Mr{constructor(){t(i)(this,"eventTracker",void 0);const{TBT_TOKENS:e,DOMAINS:n}=Ie,r=window.location.hostname,a=!Ie.DOMAINS.NONPROD.test(r)&&n.PROD.test(r);try{this.eventTracker=$t.TangerineBoxEventTracker.getInstance({token:a?e.PROD:e.NON_PROD})}catch(e){console.log("Failed to initialize TBT tracker.")}}static getInstance(){return Mr.instance||(Mr.instance=new Mr),Mr.instance}isTelemetryAvailable(){return!!this.eventTracker}trackPanoramaOperationalEvent(e,t,n=Mr.UNIT.COUNT,r,a){try{r?this.eventTracker?.addError(r,{metric:e,value:t,unit:n,details:a}):this.eventTracker?.addEvent({metric:e,value:t,unit:n,details:a})}catch(e){return}}}t(i)(Mr,"instance",void 0),t(i)(Mr,"UNIT",{COUNT:"count",MILLISECONDS:"milliseconds"});class xr{constructor(e){if(t(i)(this,"batchingTime",void 0),t(i)(this,"blockOutqueue",void 0),t(i)(this,"bufferSize",void 0),t(i)(this,"commonBatchAttr",void 0),t(i)(this,"commonHeader",void 0),t(i)(this,"commonPayloadAttr",void 0),t(i)(this,"core",void 0),t(i)(this,"isConsole",void 0),t(i)(this,"functionName",void 0),t(i)(this,"localStorageAvailable",void 0),t(i)(this,"maxPostBytes",void 0),t(i)(this,"maxSinglePostBytes",void 0),t(i)(this,"maxRetries",void 0),t(i)(this,"mutSnowplowState",void 0),t(i)(this,"namespace",void 0),t(i)(this,"sanitizer",void 0),t(i)(this,"trackerStats",void 0),t(i)(this,"useLocalStorage",void 0),t(i)(this,"waitTime",void 0),t(i)(this,"cookieHandler",new Kt),t(i)(this,"networkFailureBatches",[]),t(i)(this,"inFlightBatches",{}),t(i)(this,"pageLoaded",!1),t(i)(this,"timer",void 0),t(i)(this,"totalPayloadSize",0),t(i)(this,"configCollectorUrl",void 0),t(i)(this,"executingQueue",!1),t(i)(this,"numRetries",0),t(i)(this,"region",void 0),t(i)(this,"service",void 0),t(i)(this,"appEntity",void 0),t(i)(this,"urlPath",void 0),t(i)(this,"outQueue",[]),t(i)(this,"telemetryTracker",Mr.getInstance()),t(i)(this,"isFirstCall",!0),t(i)(this,"overrideCollectorUrl",!1),t(i)(this,"triggerExecution",(()=>{this.executeQueue()})),e&&Object.assign(this,e),this.batchingTime=e.batchingTime?e.batchingTime:2e3,this.waitTime=this.batchingTime,this.localStorageAvailable=pt(),this.localStorageAvailable)try{for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t?.startsWith("awsc_panorama_preference")&&localStorage.removeItem(t)}}catch(e){pe(e)}this.outQueue=[],this.mutSnowplowState.outQueues.push(this.outQueue),this.mutSnowplowState.bufferFlushers.push((()=>{this.executeQueue({bypassInterval:!0})})),this.timer=setTimeout((()=>{this.triggerExecution()}),this.batchingTime),window.addEventListener("online",(()=>{be("panoNetworkRestored",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoNetworkRestored",1),this.networkFailureBatches.forEach((e=>this.retryOnFailure(e))),this.networkFailureBatches.length=0}))}updateCommonBatchAttr(e){this.commonBatchAttr=e}enqueueRequest(e,t,n,r){this.configCollectorUrl=r+this.urlPath,this.commonHeader=n,this.updateCommonBatchAttr(t);const a=Wt(e);if(a.bytes>=this.maxSinglePostBytes){if(a.bytes>99e4)return void this.trackerStats.numExceededLimit++;if(this.blockOutqueue)return;pe("Event of size "+a.bytes+" bytes is too long - the maximum size is "+this.maxSinglePostBytes);let e=this.initializeXMLHttpRequest(this.configCollectorUrl,n);const{batchRequestId:r,dataToSend:i}=this.encloseInPayloadDataEnvelope([a.evt],t);return e.send(i),this.trackerStats.sentEvents+=1,void delete this.inFlightBatches[r]}this.isPayloadLimitExceeded(a)&&(this.executeQueue({queueFull:!0}),this.totalPayloadSize=0),this.totalPayloadSize+=a.bytes,this.trackerStats.totalPayloadSize+=a.bytes,this.outQueue.push(a),Re("onQueued",a)}isPayloadLimitExceeded(e){const t=this.totalPayloadSize+e.bytes;return this.trackerStats.totalPayloadSize+=e.bytes,t>=this.maxPostBytes}initializeXMLHttpRequest(e,t){let n=new XMLHttpRequest;this.overrideCollectorUrl&&(e=this.urlPath,this.overrideCollectorUrl=!1),n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json; charset=UTF-8");try{n.setRequestHeader("Panorama-AppEntity",this.appEntity||"")}catch(e){be("panoXhrAppEntityHeaderFailed",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoXhrAppEntityHeaderFailed",1,Mr.UNIT.COUNT,e)}if(t)for(const e of Object.keys(t))n.setRequestHeader(e,t[e]);return n}encloseInPayloadDataEnvelope(e,n,r,a){const i=a||this.service||(n&&n.consoleService?n.consoleService:""),o=r||this.region;if(this.commonPayloadAttr.service=i,this.commonPayloadAttr.consoleRegion=o,void 0!==this.service)for(let n=0;n<e.length;n++)if(this.pageLoaded||(e[n]=t(gt)(e[n],this.commonPayloadAttr,((e,t,n)=>["serviceConsolePage","serviceSubSection","variant"].includes(n)?e:t))),this.sanitizer)try{e[n]=this.sanitizer(e[n])}catch(e){pe(e)}let s;this.pageLoaded||(this.pageLoaded=!0),this.cookieHandler.storageStrategy="cookie";try{s=encodeURI(this.cookieHandler.getCookie("aws-userInfo")||"")}catch(e){be("clogCapturedUserInfoError",1,"error: ",e?.message),this.telemetryTracker.trackPanoramaOperationalEvent("panoClogCapturedUserInfoError",1,Mr.UNIT.COUNT,e)}const c=We(),u={browserColorDepth:n?n.browserColorDepth:"",browserCookies:n?n.browserCookies:"",browserLanguage:n?n.browserLanguage:"",deviceResolutionWidth:n?n.deviceResolutionWidth:"",deviceResolutionHeight:n?n.deviceResolutionHeight:"",deviceTimeZone:n?n.deviceTimeZone:"",domain:n?n.domain:"",modality:n?n.modality:"",tabId:n?n.tabId:"",version:n?n.version:"",appEntity:n?n.appEntity:"",awsUserInfo:n?n.awsUserInfo:"",awsUserInfoSigned:n?n.awsUserInfoSigned:"",awsIdentityToken:n?n.awsIdentityToken:"",batchRequest:e,batchRequestId:c,consoleRegion:o,consoleService:i,visitorInfo:n?n.visitorInfo:"",clogCapturedUserInfo:s},l=JSON.stringify(u);return this.inFlightBatches[c]={batch:l,length:e.length,retries:0,status:void 0},{dataToSend:l,batchRequestId:c}}retryWithConnectionCheck(e){this.isFirstCall&&window.panorama&&this.isConsole&&(window.panorama.useProxy=!0,this.overrideCollectorUrl=!0,this.isFirstCall=!1);const{batchRequestId:t,err:n}=e;window.navigator.onLine?(n&&n.message&&n.message.match(/abort/gi)&&(be("panoRoutingTimeoutExceeded",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoRoutingTimeoutExceeded",1)),this.retryOnFailure(t)):this.networkFailureBatches.push(t),this.executingQueue=!1}sendFetchRequest(e,t,n,r,a=!1){let i={...r};try{i={...i,"Content-Type":"application/json; charset=UTF-8","Panorama-AppEntity":this.appEntity||""}}catch(e){be("panoFetchAppEntityHeaderFailed",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoFetchAppEntityHeaderFailed",1)}this.trackerStats.numOfApiCalls++,jt(e,{method:"POST",headers:i,body:n,mode:"cors",keepalive:a,timeout:2e4}).then((e=>{if(e)return this.inFlightBatches[t].status=e.status,e.json();throw new Error("No response received.")})).then((e=>this.onFetchComplete(e))).catch((e=>{this.retryWithConnectionCheck({batchRequestId:t,err:e})}))}onFetchComplete(e){const{batchRequestId:t}=e,n=this.inFlightBatches[t].status;try{const{status:r}=e;"SUCCESS"===r&&n>=200&&n<400?this.onSuccessHandler(t):("FAILURE"===r||n>=500||0===n)&&this.retryWithConnectionCheck({batchRequestId:t,err:new Error("onFetchComplete response error")})}catch(e){be("panoFetchResParseErr",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoFetchResParseErr",1,Mr.UNIT.COUNT,e),n>=200&&n<400?this.onSuccessHandler(t):n>=500&&this.retryWithConnectionCheck({batchRequestId:t,err:new Error("onFetchComplete error")})}finally{this.executingQueue=!1,Re("afterSend",n),this.isFirstCall&&(this.isFirstCall=!1)}}retryOnFailure(e){if(ne(this.inFlightBatches,e)){const t=this.inFlightBatches[e];if(t.retries<this.maxRetries)this.sendData(t.batch,e,!1),t.retries+=1,this.numRetries++,this.trackerStats.retries=this.numRetries;else{this.trackerStats.droppedEvents+=t.length;const n=JSON.parse(t.batch).batchRequest;n.forEach((e=>{const{eventSource:t,eventName:n,eventType:r}=e;let a=t+".";a+="clog"===t?n:r,this.trackerStats.droppedEventsDetails[a]?this.trackerStats.droppedEventsDetails[a]++:this.trackerStats.droppedEventsDetails[a]=1})),Re("onDiscard",n);let r=t&&t.length?t.length:0;be("panoBatchDrop",1,`${r}`),this.telemetryTracker.trackPanoramaOperationalEvent("panoBatchDrop",r),delete this.inFlightBatches[e]}}}onSuccessHandler(e){ne(this.inFlightBatches,e)&&(this.trackerStats.sentEvents+=this.inFlightBatches[e].length,delete this.inFlightBatches[e])}setBlockOutqueue(e){this.blockOutqueue=e}executeQueue(e={runOnce:!1}){if(this.blockOutqueue&&!e.runOnce)return;clearTimeout(this.timer),e.runOnce||(this.timer=setTimeout((()=>{this.triggerExecution()}),this.batchingTime));const t=!(!e||!e.bypassInterval)&&e.bypassInterval,n=this.outQueue.map((e=>e.evt));if(this.outQueue.length=0,this.totalPayloadSize=0,n.length<1)return;for(;n.length&&"string"!=typeof n[0]&&"object"!=typeof n[0];)n.shift();const{dataToSend:r,batchRequestId:a}=this.encloseInPayloadDataEnvelope(n,this.commonBatchAttr,this.region,this.service);if(i=this.configCollectorUrl,!Q(i,"string"))throw"No Panorama collector configured, cannot track";var i;this.executingQueue=!0,n.length>0&&this.sendData(r,a,t)}sendData(e,t,n){if(Re("beforeSend",e),window.Promise||window.fetch)this.overrideCollectorUrl&&(this.configCollectorUrl=this.urlPath,this.overrideCollectorUrl=!1),this.sendFetchRequest(this.configCollectorUrl,t,e,this.commonHeader,n);else{be("panoXmlHttpReqUsed",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoXmlHttpReqUsed",1);let n=this.initializeXMLHttpRequest(this.configCollectorUrl,this.commonHeader),r=setTimeout((()=>{n.abort(),this.executingQueue=!1,be("panoRoutingTimeoutExceeded",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoRoutingTimeoutExceeded",1)}),2e4);n.onreadystatechange=()=>{try{if(n.readyState===n.DONE&&n.status>0){const e=JSON.parse(n.response);"SUCCESS"===e.status&&n.status>=200&&n.status<400?this.onSuccessHandler(t):("FAILURE"===e.status||n.status>=500)&&this.retryWithConnectionCheck({batchRequestId:t,err:new Error("xhrOnReadyStateChange status 500")})}else 0===n.status&&this.retryWithConnectionCheck({batchRequestId:t,err:new Error("xhrOnReadyStateChange status 0")})}catch(e){be("panoXmlHttpResParseError",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoXmlHttpResParseError",e),n.status>=200&&n.status<400?this.onSuccessHandler(t):n.status>=500&&this.retryWithConnectionCheck({batchRequestId:t,err:new Error("xhrOnReadyStateChange error")})}finally{this.executingQueue=!1,clearTimeout(r),Re("afterSend",n.status),this.isFirstCall&&(this.isFirstCall=!1)}},n.send(e),this.trackerStats.numOfApiCalls++}}setSanitizerFunction(e){this.sanitizer=e}}function Br(e,t,n=!0){let r=null;return function(){const a=this,i=arguments,o=n&&!r,s=function(){e.apply(a,i)};r&&clearTimeout(r),r=setTimeout(s,t),o&&s()}}let Ur;var Fr;let Vr;var zr;(Fr=Ur||(Ur={})).INTEG="integ",Fr.PREPROD="preprod",Fr.PROD="prod",(zr=Vr||(Vr={})).AWS="aws",zr.AWS_CN="aws-cn",zr.AWS_US_GOV="aws-us-gov",zr.AWS_ISO="aws-iso",zr.AWS_ISO_B="aws-iso-b";const jr={[Vr.AWS]:{subDomain:{[Ur.PREPROD]:"awsc-preprod.aws",[Ur.INTEG]:"awsc-integ.aws",[Ur.PROD]:"console.aws"},rootDomain:"amazon.com"},[Vr.AWS_CN]:{subDomain:{[Ur.PREPROD]:"awsc-preprod",[Ur.INTEG]:"awsc-integ",[Ur.PROD]:"console"},rootDomain:"amazonaws.cn"},[Vr.AWS_US_GOV]:{subDomain:{[Ur.PREPROD]:"awsc-preprod",[Ur.INTEG]:"awsc-integ",[Ur.PROD]:"console"},rootDomain:"amazonaws-us-gov.com"},[Vr.AWS_ISO]:{subDomain:{[Ur.PREPROD]:"awsc-preprod.c2s-border",[Ur.INTEG]:"awsc-integ.c2s-border",[Ur.PROD]:"console.c2shome"},rootDomain:"ic.gov"},[Vr.AWS_ISO_B]:{subDomain:{[Ur.PREPROD]:"awsc-preprod.sc2shome",[Ur.INTEG]:"awsc-integ.sc2shome",[Ur.PROD]:"console.sc2shome"},rootDomain:"sgov.gov"}};function Hr(e,t){const n=function(e){const{AWS_PARTITION_NAME:t}=Ie;return e.startsWith("us-gov-")?t.AwsUsGov:e.startsWith("us-iso-")?t.AwsIso:e.startsWith("us-isob-")?t.AwsIsoB:e.startsWith("cn-")?t.AwsCn:t.Aws}(e);return`${e}.${`${jr[n].subDomain[t]}.${jr[n].rootDomain}`}`}function qr(){const e=window.location.hostname;return/aws-dev/.test(e)}function Wr(){const e=document.cookie;function t(t){const n=`${t}=`,r=e.split(";");for(let e=0;e<r.length;e++){let t=r[e].trim();if(0===t.indexOf(n))return t.substring(n.length,t.length)}return null}let n=!1;try{const e=t("aws-prism-private-beta-allowlisted"),r=t("aws-prism-opt-in");n="true"===e&&"true"===r}catch(e){}return n}Symbol.for("awsui-visual-refresh-flag");const Gr=Symbol.for("awsui-global-flags");function Kr(){return"undefined"!=typeof window?window:globalThis}function $r(e,t){var n;return null===(n=null==e?void 0:e[Gr])||void 0===n?void 0:n[t]}(e=>{try{const t=$r(Kr(),e);void 0!==t||$r(window.top,e)}catch(e){return}})("analyticsMetadata");const Jr=e=>{try{const t=e.dataset.awsuiReferrerId;return t?(e.ownerDocument||e).querySelector(`[id="${t}"]`):e.parentElement}catch(e){return null}};function Yr(e,t=document.body){let n=e;for(;n&&n!==t&&!Xr(n);)n=Jr(n);return n&&Xr(n)?n:null}const Xr=e=>{const t=e.dataset.awsuiAnalytics;if(!t)return!1;try{const e=JSON.parse(t);return!!e.component&&!!e.component.name}catch(e){return!1}};function Qr(e,t){let n=e;for(;n&&"body"!==n.tagName&&!n.matches(t);)n=Jr(n);return n&&"body"!==n.tagName?n:null}const Zr=(e,t)=>{if(null===t)return"";const n=ea(t),r=n.selector;if(Array.isArray(r))for(const t of r){const r=ta(e,t,n.root,n.rootSelector);if(r)return r}return ta(e,r,n.root,n.rootSelector)},ea=e=>"string"==typeof e?{selector:e}:e,ta=(e,t,n="self",r)=>{if(!e)return"";if(r)return ta(Qr(e,r),t);if("component"===n)return ta(Yr(e),t);if("body"===n)return ta(e.ownerDocument.body,t);let a=e;return t&&(a=a.querySelector(t)),a&&a.dataset.awsuiAnalyticsLabel?Zr(a,a.dataset.awsuiAnalyticsLabel):na(a)},na=e=>{if(!e)return"";const t=e.getAttribute("aria-label");if(t)return t.trim();const n=e.getAttribute("aria-labelledby");if(n){const t=document.querySelector(`[id="${n.split(" ")[0]}"]`);if(t!==e)return na(t)}return e.textContent?e.textContent.trim():""},ra=(e,t)=>{const n=ia(e,t);return n.component&&n.component.name&&(n.contexts=[...n.contexts||[],{type:"component",detail:n.component}],delete n.component),n},aa=(e,t)=>Object.keys(t).reduce(((n,r)=>(r.toLowerCase().match(/label$/)?n[r]=Zr(e,t[r]):"string"==typeof t[r]||Array.isArray(t[r])?n[r]=t[r]:n[r]=aa(e,t[r]),n)),{}),ia=(e,t)=>{const n={},r=e||{},a=t||{},i=Object.keys(r),o=Object.keys(a),s=new Set([...i,...o]);for(const e of s)r[e]&&!a[e]?n[e]=r[e]:r[e]||null==a[e]?"string"==typeof r[e]||Array.isArray(r[e])?n[e]=a[e]:n[e]=ia(r[e],a[e]):n[e]=a[e];return JSON.parse(JSON.stringify(n))},oa=e=>{let t={},n=e;for(;n;)try{const e=n.dataset.awsuiAnalytics;if(e){const r=JSON.parse(e);t=ra(t,aa(n,r))}}catch(e){}finally{n=Jr(n)}return t};var sa={};Object.defineProperty(sa,"__esModule",{value:!0}),sa.isPanoramaEnabled=sa.emitPanoramaCustomEvent=sa.redactBasic=sa.purifyUrl=sa.redact=void 0;var ca={};Object.defineProperty(ca,"__esModule",{value:!0}),ca.purifyUrl=ca.redactBasic=ca.redact=void 0;var ua={};Object.defineProperty(ua,"__esModule",{value:!0}),ua.emitPanoramaCustomEvent=ua.isPanoramaEnabled=void 0;ua.isPanoramaEnabled=()=>window.panorama&&"function"==typeof window.panorama;const la=[],da=e=>{la.push(e),(0,ua.isPanoramaEnabled)()&&la.forEach((e=>{(0,ua.emitPanoramaCustomEvent)(e)}))};ua.emitPanoramaCustomEvent=e=>{(0,ua.isPanoramaEnabled)()?window.panorama("trackCustomEvent",{...e,timestamp:Date.now()}):da(e)};var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),ha.url=ha.digits=ha.credentials=ha.password=ha.username=ha.emailAddress=ha.usSocialSecurityNumber=ha.ipAddress=ha.phoneNumber=ha.zipcode=ha.streetAddress=ha.creditCardNumber=void 0;ha.creditCardNumber=/\d{4}[ -]?\d{4}[ -]?\d{4}[ -]?\d{4}|\d{4}[ -]?\d{6}[ -]?\d{4}\d?/g,ha.streetAddress=new RegExp("(\\d+\\s*(\\w+ ){1,2}"+/(street|st|road|rd|avenue|ave|drive|dr|loop|court|ct|circle|cir|lane|ln|boulevard|blvd|way)\.?\b/gi.source+"(\\s+"+/(apt|bldg|dept|fl|hngr|lot|pier|rm|ste|slip|trlr|unit|#)\.? *[a-z0-9-]+\b/gi.source+")?)|("+/P\.? ?O\.? *Box +\d+/gi.source+")","gi"),ha.zipcode=/\b\d{5}\b(-\d{4})?\b/g,ha.phoneNumber=/(\(?\+?[0-9]{1,2}\)?[-. ]?)?(\(?[0-9]{3}\)?|[0-9]{3})[-. ]?([0-9]{3}[-. ]?[0-9]{4}|\b[A-Z0-9]{7}\b)/g,ha.ipAddress=/(\d{1,3}(\.\d{1,3}){3}|[0-9A-F]{4}(:[0-9A-F]{4}){5}(::|(:0000)+))/gi,ha.usSocialSecurityNumber=/\b\d{3}[ -.]\d{2}[ -.]\d{4}\b/g,ha.emailAddress=/([a-z0-9_\-.+]+)@\w+(\.\w+)*/gi,ha.username=/(user( ?name)?|login): \S+/gi,ha.password=/(pass(word|phrase)?|secret): \S+/gi,ha.credentials=/(login( cred(ential)?s| info(rmation)?)?|cred(ential)?s) ?:\s*\S+\s+\/?\s*\S+/gi,ha.digits=/\b\d{4,}\b/g,ha.url=/([^\s:/?#]+):\/\/([^/?#\s]*)([^?#\s]*)(\?([^#\s]*))?(#([^\s]*))?/g;const ma={CREDIT_CARD_NUMBER:ha.creditCardNumber,STREET_ADDRESS:ha.streetAddress,ZIPCODE:ha.zipcode,PHONE_NUMBER:ha.phoneNumber,IP_ADDRESS:ha.ipAddress,US_SOCIAL_SECURITY_NUMBER:ha.usSocialSecurityNumber,EMAIL_ADDRESS:ha.emailAddress,USERNAME:ha.username,PASSWORD:ha.password,CREDENTIALS:ha.credentials};ha.default=ma;function pa(e){return Object.keys(ha.default).forEach((t=>{e=e.replace(ha.default[t],`[REDACTED-${t}]`)})),e}ca.redact=function(e){try{e=pa(e)}catch(e){(0,ua.emitPanoramaCustomEvent)({eventSource:"panoramaInternal",eventType:"autoCaptureError",eventContext:"redact",eventDetail:e?e.toString():""})}return e},ca.redactBasic=pa,ca.purifyUrl=function(e){const t=new URL(e),n=t.pathname,r=t.search,a=t.hash,i=pa(n),o=pa(r),s=pa(a);return`${t.protocol}//${t.host}${i}${o}${s}`.substring(0,4e3)},Object.defineProperty(sa,"redact",{enumerable:!0,get:function(){return ca.redact}}),Object.defineProperty(sa,"purifyUrl",{enumerable:!0,get:function(){return ca.purifyUrl}}),Object.defineProperty(sa,"redactBasic",{enumerable:!0,get:function(){return ca.redactBasic}}),Object.defineProperty(sa,"emitPanoramaCustomEvent",{enumerable:!0,get:function(){return ua.emitPanoramaCustomEvent}}),Object.defineProperty(sa,"isPanoramaEnabled",{enumerable:!0,get:function(){return ua.isPanoramaEnabled}});const fa=["awsui.Alert","awsui.BoardItem","awsui.Board","awsui.Container","awsui.HelpPanel","awsui.Flashbar","awsui.Form","awsui.Header","awsui.Modal","awsui.SideNavigation","awsui.SplitPanel","awsui.Table","awsui.ExpandableSection","awsui.Wizard"],va=e=>e?e.replace(/^awsui\./,""):e,ga=e=>{const t={};if(!e.parentElement)return t;const n=oa(e),r={},a=(e,t)=>{"string"==typeof t&&(r[e]=t)},i=(e,t)=>{r[e]||a(e,t)};if(n.action&&("expand"===n.action&&"true"===n.detail?.expanded?t.autoCaptureAction="expand":"expand"===n.action&&"false"===n.detail?.expanded?t.autoCaptureAction="collapse":"selectAll"===n.action&&"true"===n.detail?.selected?t.autoCaptureAction="selectAll":"selectAll"===n.action&&"false"===n.detail?.selected?t.autoCaptureAction="deselectAll":"select"===n.action&&"true"===n.detail?.selected?t.autoCaptureAction="select":"select"===n.action&&"false"===n.detail?.selected?t.autoCaptureAction="deselect":t.autoCaptureAction=n.action),"string"==typeof n.detail?.label&&(t.autoCaptureDetails=n.detail.label),a("variant",n.detail?.variant),"true"===n.detail?.sortingDescending?r.sortingOrder="desc":"false"===n.detail?.sortingDescending&&(r.sortingOrder="asc"),a("position",n.detail?.position),a("columnId",n.detail?.columnId),a("href",n.detail?.href),a("external",n.detail?.external),n.contexts?.length){const e=n.contexts[0];if("component"===e.type){const n=e.detail;t.autoCaptureComponent=va(n.name),"string"==typeof n.label&&(t.autoCaptureLabel=n.label),a("variant",n.properties?.variant),a("pagesCount",n.properties?.pagesCount),a("currentPageIndex",n.properties?.currentPageIndex),"true"===n.properties?.sortingDescending?a("sortingOrder","desc"):"false"===n.properties?.sortingDescending&&a("sortingOrder","asc"),a("position",n.innerContext?.position),a("columnId",n.innerContext?.columnId),a("columnLabel",n.innerContext?.columnLabel)}if(n.contexts?.length>1){const r=n.contexts.slice(1).find((e=>"component"===e.type&&fa.includes(e.detail.name)&&e.detail.label));if(r){const n=r.detail;t.autoCaptureContextComponent=va(n.name),"string"==typeof n.label&&(t.autoCaptureContextLabel=n.label),i("variant",n.properties?.variant),i("position",n.innerContext?.position),i("position",n.innerContext?.position),i("columnId",n.innerContext?.columnId),i("columnLabel",n.innerContext?.columnLabel),"true"===n.properties?.sortingDescending?i("sortingOrder","desc"):"false"===n.properties?.sortingDescending&&i("sortingOrder","asc"),"component"===e.type&&"awsui.Link"===e.detail?.name&&"component"===r.type&&"awsui.Table"===n.name&&"string"==typeof n.innerContext?.columnLabel&&(t.autoCaptureLabel=n.innerContext?.columnLabel,t.autoCaptureDetails=void 0)}}}t.autoCaptureDetails&&(t.autoCaptureDetails=(0,sa.redact)(t.autoCaptureDetails)),t.autoCaptureLabel&&(t.autoCaptureLabel=(0,sa.redact)(t.autoCaptureLabel)),t.autoCaptureContextLabel&&(t.autoCaptureContextLabel=(0,sa.redact)(t.autoCaptureContextLabel));const o=Object.entries(r).filter((([,e])=>void 0!==e)).reduce(((e,[t,n])=>(e[t]=n,e)),{});return Object.keys(o).length&&(t.autoCaptureMetadata=o),t};var wa,ya={},ba={};ba=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Ea,Ca={},Ta={};Ea="object"==typeof e&&e&&e.Object===Object&&e;var Sa="object"==typeof self&&self&&self.Object===Object&&self,Da=Ea||Sa||Function("return this")();Ca=function(){return Ta.Date.now()};var ka={},Ia={},Aa={},Pa=/\s/;Aa=function(e){for(var t=e.length;t--&&Pa.test(e.charAt(t)););return t};var Oa=/^\s+/;Ia=function(e){return e?e.slice(0,Aa(e)+1).replace(Oa,""):e};var _a,Ra={},La={};_a=(Ta=Da).Symbol;var Na={},Ma=Object.prototype,xa=Ma.hasOwnProperty,Ba=Ma.toString,Ua=_a?_a.toStringTag:void 0;Na=function(e){var t=xa.call(e,Ua),n=e[Ua];try{e[Ua]=void 0;var r=!0}catch(e){}var a=Ba.call(e);return r&&(t?e[Ua]=n:delete e[Ua]),a};var Fa={},Va=Object.prototype.toString;Fa=function(e){return Va.call(e)};var za=_a?_a.toStringTag:void 0;La=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":za&&za in Object(e)?Na(e):Fa(e)};var ja={};ja=function(e){return null!=e&&"object"==typeof e};Ra=function(e){return"symbol"==typeof e||ja(e)&&"[object Symbol]"==La(e)};var Ha=/^[-+]0x[0-9a-f]+$/i,qa=/^0b[01]+$/i,Wa=/^0o[0-7]+$/i,Ga=parseInt;ka=function(e){if("number"==typeof e)return e;if(Ra(e))return NaN;if(ba(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ba(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ia(e);var n=qa.test(e);return n||Wa.test(e)?Ga(e.slice(2),n?2:8):Ha.test(e)?NaN:+e};var Ka=Math.max,$a=Math.min;ya=function(e,t,n){var r,a,i,o,s,c,u=0,l=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,i=a;return r=a=void 0,u=t,o=e.apply(i,n)}function p(e){return u=e,s=setTimeout(v,t),l?m(e):o}function f(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=i}function v(){var e=Ca();if(f(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-c);return d?$a(n,i-(e-u)):n}(e))}function g(e){return s=void 0,h&&r?m(e):(r=a=void 0,o)}function w(){var e=Ca(),n=f(e);if(r=arguments,a=this,c=e,n){if(void 0===s)return p(c);if(d)return clearTimeout(s),s=setTimeout(v,t),m(c)}return void 0===s&&(s=setTimeout(v,t)),o}return t=ka(t)||0,ba(n)&&(l=!!n.leading,i=(d="maxWait"in n)?Ka(ka(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=a=s=void 0},w.flush=function(){return void 0===s?o:g(Ca())},w};wa=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ba(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ya(e,t,{leading:r,maxWait:t,trailing:a})};const Ja=["scroll","resize"],Ya=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"];class Xa{constructor({timeIntervalEllapsedCallbacks:e=[],absoluteTimeEllapsedCallbacks:n=[],checkCallbacksIntervalMs:r=100,browserTabInactiveCallbacks:a=[],idleCallbacks:o=[],stopTimerOnTabchange:s=!0,activeCallbacks:c=[],browserTabActiveCallbacks:u=[],idleTimeoutMs:l=3e3}){t(i)(this,"running",void 0),t(i)(this,"times",void 0),t(i)(this,"totalTimes",[]),t(i)(this,"idle",void 0),t(i)(this,"checkCallbackIntervalId",void 0),t(i)(this,"currentIdleTimeMs",void 0),t(i)(this,"idleTimeoutMs",void 0),t(i)(this,"checkCallbacksIntervalMs",void 0),t(i)(this,"stopTimerOnTabchange",void 0),t(i)(this,"browserTabActiveCallbacks",void 0),t(i)(this,"browserTabInactiveCallbacks",void 0),t(i)(this,"idleCallbacks",void 0),t(i)(this,"activeCallbacks",void 0),t(i)(this,"timeIntervalEllapsedCallbacks",void 0),t(i)(this,"absoluteTimeEllapsedCallbacks",void 0),t(i)(this,"onBrowserTabInactive",(()=>{this.isRunning()&&this.stopTimerOnTabchange&&this.stopTimer(),this.browserTabInactiveCallbacks.forEach((e=>e(this.getTimeInMilliseconds())))})),t(i)(this,"onBrowserTabActive",(()=>{this.reset(),this.currentIdleTimeMs=0,this.browserTabActiveCallbacks.forEach((e=>e(this.getTimeInMilliseconds())))})),t(i)(this,"onBrowserActiveChange",(()=>{"visible"===document.visibilityState?this.onBrowserTabActive():this.onBrowserTabInactive()})),t(i)(this,"onTimePassed",(()=>{if(this.absoluteTimeEllapsedCallbacks.forEach((({callback:e,pending:t,timeInMilliseconds:n},r)=>{t&&n<=this.getTimeInMilliseconds()&&(e(this.getTimeInMilliseconds()),this.absoluteTimeEllapsedCallbacks[r].pending=!1)})),this.timeIntervalEllapsedCallbacks.forEach((({callback:e,timeInMilliseconds:t,multiplier:n},r)=>{t<=this.getTimeInMilliseconds()&&(e(this.getTimeInMilliseconds()),this.timeIntervalEllapsedCallbacks[r].timeInMilliseconds=n(t))})),this.currentIdleTimeMs>=this.idleTimeoutMs&&this.isRunning()){this.idle=!0,this.stopTimer();const e=this.times[this.times.length-1];e&&e.stop&&(e.stop=e.stop-this.idleTimeoutMs),this.idleCallbacks.forEach((e=>e(this.getTimeInMilliseconds())))}else this.currentIdleTimeMs+=this.checkCallbacksIntervalMs})),t(i)(this,"resetIdleTime",(()=>{this.isRunning()&&!this.isIdle()||this.startTimer(),this.activeCallbacks.forEach((e=>e(this.getTimeInMilliseconds()))),this.idle=!1,this.currentIdleTimeMs=0})),t(i)(this,"registerEventListeners",(()=>{const e={passive:!0},n={...e,capture:!0};document.addEventListener("visibilitychange",this.onBrowserActiveChange);const r=t(wa)(this.resetIdleTime,2e3,{leading:!0,trailing:!1});Ja.forEach((e=>{window.addEventListener(e,r,n)})),Ya.forEach((t=>document.addEventListener(t,r,e)))})),t(i)(this,"unregisterEventListeners",(()=>{document.removeEventListener("visibilitychange",this.onBrowserActiveChange),Ja.forEach((e=>window.removeEventListener(e,this.resetIdleTime))),Ya.forEach((e=>document.removeEventListener(e,this.resetIdleTime)))})),t(i)(this,"checkCallbacksOnInterval",(()=>{this.checkCallbackIntervalId=window.setInterval((()=>{this.onTimePassed()}),this.checkCallbacksIntervalMs)})),t(i)(this,"startTimer",(()=>{this.checkCallbackIntervalId||this.checkCallbacksOnInterval();const e=this.times[this.times.length-1];if(e&&null===e.stop)return;const t={start:performance.now(),stop:null};this.times.push({...t}),this.totalTimes.push({...t}),this.running=!0})),t(i)(this,"stopTimer",(()=>{if(!this.times.length)return;const e=performance.now();this.times[this.times.length-1].stop=e,this.totalTimes[this.totalTimes.length-1].stop=e,this.running=!1})),t(i)(this,"addTimeIntervalEllapsedCallback",(e=>{this.timeIntervalEllapsedCallbacks.push(e)})),t(i)(this,"addAbsoluteTimeEllapsedCallback",(e=>{this.absoluteTimeEllapsedCallbacks.push(e)})),t(i)(this,"addBrowserTabInactiveCallback",(e=>{this.browserTabInactiveCallbacks.push(e)})),t(i)(this,"addBrowserTabActiveCallback",(e=>{this.browserTabActiveCallbacks.push(e)})),t(i)(this,"addIdleCallback",(e=>{this.idleCallbacks.push(e)})),t(i)(this,"addActiveCallback",(e=>{this.activeCallbacks.push(e)})),t(i)(this,"getTimeInMilliseconds",(()=>this.times.reduce(((e,t)=>(t.stop?e+=t.stop-t.start:e+=performance.now()-t.start,e)),0))),t(i)(this,"getTotalTimeInMilliseconds",(()=>this.totalTimes.reduce(((e,t)=>(t.stop?e+=t.stop-t.start:e+=performance.now()-t.start,e)),0))),t(i)(this,"isRunning",(()=>this.running)),t(i)(this,"isIdle",(()=>this.idle)),t(i)(this,"reset",(()=>{this.times=[],this.totalTimes=[]})),t(i)(this,"destroy",(()=>{this.unregisterEventListeners(),this.checkCallbackIntervalId&&window.clearInterval(this.checkCallbackIntervalId)})),this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.stopTimerOnTabchange=s,this.browserTabActiveCallbacks=u,this.browserTabInactiveCallbacks=a,this.checkCallbacksIntervalMs=r,this.idleTimeoutMs=l,this.timeIntervalEllapsedCallbacks=e,this.absoluteTimeEllapsedCallbacks=n,this.idleCallbacks=o,this.activeCallbacks=c,this.registerEventListeners()}}function Qa(e,t){var n;return t?(n=new RegExp("#.*"),e.replace(n,"")):e.substring(0,Ie.MAX_FIELD_LENGTH)}function Za(e,t=document){if(e)try{const n=t.querySelector(e);if(n?.textContent)return n.textContent}catch(e){Ee({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"extractTextContentFromTracker",eventDetail:e?e.toString():""})}return""}function ei(e,t=document){let n;try{let r;if(t.querySelectorAll("[data-analytics-substep]").length>0?r=t.querySelectorAll("[data-analytics-substep]"):t.querySelectorAll("[data-analytics-funnel-substep]").length>0&&(r=t.querySelectorAll("[data-analytics-funnel-substep]")),!r)return;r.forEach(((t,r)=>{t!==e||(n=r+1)}))}catch(e){Ee({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"extractSubStepNumberFromSelectorFromTracker",eventDetail:e?e.toString():""})}return n}function ti(e=document){let t;try{const n=e.querySelector('[data-analytics-funnel-key="step-name"]')||e.querySelector('[data-analytics-funnel-key="funnel-name"]')||document.querySelector('[data-analytics-funnel-key="step-name"]')||document.querySelector('[data-analytics-funnel-key="funnel-name"]');n&&(t=n.textContent)}catch(e){Ee({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"generateStepName",eventDetail:e?e.toString():""})}return t}function ni(e){let t;try{const n=e.querySelector('[data-analytics-funnel-key="substep-name"]');n&&(t=n.textContent)}catch(e){Ee({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"generateSubStepName",eventDetail:e?e.toString():""})}return t}function ri(e){let t="";try{t=e.innerText,t.length>Ie.MAX_FIELD_LENGTH&&(t=t.substring(0,Ie.MAX_FIELD_LENGTH))}catch(e){Ee({eventSource:"panoramaInternal",eventType:"panoInnerTextError",eventContext:"extractAndTrimInnerText",eventDetail:e?e.toString():""})}return t}function ai(e){let t=[],n=[],r={},a={};const i=[];let o={};try{o=ga(e)}catch(e){Ee({eventSource:"panoramaInternal",eventType:"autoCaptureError",eventContext:"getNewAutocaptureAttributes",eventDetail:e?e.toString():""})}for(t=[];e&&1==e.nodeType;e=e.parentNode){if(e.hasAttribute("data-analytics")){const t=e.getAttribute("data-analytics-type")?e.getAttribute("data-analytics-type"):"tag",a=e.getAttribute("data-analytics");n.unshift(`${t}(${a})`),t&&!r[t]&&(r[t]=a)}if(e.hasAttribute("data-analytics-label-selector")||e.hasAttribute("data-analytics-field-label-selector")||e.hasAttribute("data-analytics-field-label")){const t=Za(e.getAttribute("data-analytics-label-selector")||e.getAttribute("data-analytics-field-label-selector")||e.getAttribute("data-analytics-field-label"),e.ownerDocument);a.fieldName=t}if(e.hasAttribute("data-analytics-error-selector")||e.hasAttribute("data-analytics-field-error-selector")||e.hasAttribute("data-analytics-field-error")){const t=Za(e.getAttribute("data-analytics-error-selector")||e.getAttribute("data-analytics-field-error-selector")||e.getAttribute("data-analytics-field-error"),e.ownerDocument);a.fieldError=t}if(e.hasAttribute("data-analytics-substep-index")||e.hasAttribute("data-analytics-funnel-substep-index")){const t=e.getAttribute("data-analytics-substep-index")||e.hasAttribute("data-analytics-funnel-substep-index");a.subStepNumber=t;const n=ni(e);n&&(a.subStepName=n)}if(e.hasAttribute("data-analytics-substep")||e.hasAttribute("data-analytics-funnel-substep")){const t=ei(e,e.ownerDocument);t&&(a.subStepNumber=t);const n=ni(e);n&&(a.subStepName=n)}if(e.hasAttribute("data-analytics-step-index")||e.hasAttribute("data-analytics-funnel-step-index")||e.hasAttribute("data-analytics-funnel-step")){const t=e.getAttribute("data-analytics-step-index")||e.getAttribute("data-analytics-funnel-step-index")||e.getAttribute("data-analytics-funnel-step");a.stepNumber=Number(t);const n=ti(e.ownerDocument);n&&(a.stepName=n)}if(e.hasAttribute("data-analytics-funnel-interaction-id")||e.hasAttribute("data-analytics-task-interaction-id")){const t=e.getAttribute("data-analytics-funnel-interaction-id")||e.getAttribute("data-analytics-task-interaction-id");a.funnelInteractionId=t}if(e.hasAttribute("data-analytics-component-type")||e.hasAttribute("data-analytics-field-component-type")){const t=e.getAttribute("data-analytics-component-type")||e.getAttribute("data-analytics-field-component-type");a.componentType=t}if(e.hasAttribute("data-analytics-flashbar")){const t=e.getAttribute("data-analytics-flashbar");a.flashType=t,r.eventContext=t,a.flashContent=(0,sa.redact)(ri(e))}if(e.hasAttribute("data-analytics-alert")){const t=e.getAttribute("data-analytics-alert");a.alertType=t,a.alertContent=(0,sa.redact)(ri(e))}if(e.hasAttribute("data-analytics-widget-id")||e.hasAttribute("data-module-id")){const t=e.getAttribute("data-analytics-widget-id")||e.getAttribute("data-module-id");i.includes(t)||i.push(t)}const o=e.__awsuiMetadata__;if(o&&o.errorContext){const{errorCategory:e="",errorSubCategory:t="",errorMessage:n=""}=o.errorContext;a.errorCategory=e,a.errorSubCategory=t,a.errorMessage=n}if(e.hasAttribute("id")){var s=e.getAttribute("id");if(t.unshift(e.localName.toLowerCase()+'[@id="'+s+'"]'),"c"===s)break}else if(e.hasAttribute("class"))t.unshift(e.localName.toLowerCase()+'[@class="'+e.getAttribute("class")+'"]');else{let n,r=e.previousSibling;for(n=1;r;r=r.previousSibling)r.localName==e.localName&&n++;const a=n>1?`[${n-1}]`:"";t.unshift(e.localName.toLowerCase()+a)}}return{xpath:t.length?"/"+t.join("/"):"",analyticsPath:n.length>0?"/"+n.join("/"):"",analyticsData:r,widgetIds:i,eventInteractionMetaData:{...a,...o}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)});var ii,oi,si,ci={};oi=function(e){var t,n,r=gi(e),a=r[0],i=r[1],o=new mi(function(e,t,n){return 3*(t+n)/4-n}(0,a,i)),s=0,c=i>0?a-4:a;for(n=0;n<c;n+=4)t=hi[e.charCodeAt(n)]<<18|hi[e.charCodeAt(n+1)]<<12|hi[e.charCodeAt(n+2)]<<6|hi[e.charCodeAt(n+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;2===i&&(t=hi[e.charCodeAt(n)]<<2|hi[e.charCodeAt(n+1)]>>4,o[s++]=255&t);1===i&&(t=hi[e.charCodeAt(n)]<<10|hi[e.charCodeAt(n+1)]<<4|hi[e.charCodeAt(n+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t);return o},si=function(e){for(var t,n=e.length,r=n%3,a=[],i=16383,o=0,s=n-r;o<s;o+=i)a.push(wi(e,o,o+i>s?s:o+i));1===r?(t=e[n-1],a.push(di[t>>2]+di[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(di[t>>10]+di[t>>4&63]+di[t<<2&63]+"="));return a.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var ui,li,di=[],hi=[],mi="undefined"!=typeof Uint8Array?Uint8Array:Array,pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fi=0,vi=pi.length;fi<vi;++fi)di[fi]=pi[fi],hi[pi.charCodeAt(fi)]=fi;function gi(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function wi(e,t,n){for(var r,a,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(di[(a=r)>>18&63]+di[a>>12&63]+di[a>>6&63]+di[63&a]);return i.join("")}hi["-".charCodeAt(0)]=62,hi["_".charCodeAt(0)]=63,ui=function(e,t,n,r,a){var i,o,s=8*a-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?a-1:0,h=n?-1:1,m=e[t+d];for(d+=h,i=m&(1<<-l)-1,m>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=h,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+d],d+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,r),i-=u}return(m?-1:1)*o*Math.pow(2,i-r)},li=function(e,t,n,r,a,i){var o,s,c,u=8*i-a-1,l=(1<<u)-1,d=l>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,p=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*c-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+m]=255&s,m+=p,s/=256,a-=8);for(o=o<<a|s,u+=a;u>0;e[n+m]=255&o,m+=p,o/=256,u-=8);e[n+m-p]|=128*f};const yi="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ii=Ci;const bi=2147483647;function Ei(e){if(e>bi)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,Ci.prototype),t}function Ci(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return Di(e)}return Ti(e,t,n)}function Ti(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Ci.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|Pi(e,t);let r=Ei(n);const a=r.write(e,t);a!==n&&(r=r.slice(0,a));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(uo(e,Uint8Array)){const t=new Uint8Array(e);return Ii(t.buffer,t.byteOffset,t.byteLength)}return ki(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(uo(e,ArrayBuffer)||e&&uo(e.buffer,ArrayBuffer))return Ii(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(uo(e,SharedArrayBuffer)||e&&uo(e.buffer,SharedArrayBuffer)))return Ii(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return Ci.from(r,t,n);const a=function(e){if(Ci.isBuffer(e)){const t=0|Ai(e.length),n=Ei(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||lo(e.length)?Ei(0):ki(e);if("Buffer"===e.type&&Array.isArray(e.data))return ki(e.data)}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Ci.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function Si(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Di(e){return Si(e),Ei(e<0?0:0|Ai(e))}function ki(e){const t=e.length<0?0:0|Ai(e.length),n=Ei(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function Ii(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,Ci.prototype),r}function Ai(e){if(e>=bi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+bi.toString(16)+" bytes");return 0|e}function Pi(e,t){if(Ci.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||uo(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return oo(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return so(e).length;default:if(a)return r?-1:oo(e).length;t=(""+t).toLowerCase(),a=!0}}function Oi(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return qi(this,t,n);case"utf8":case"utf-8":return Vi(this,t,n);case"ascii":return ji(this,t,n);case"latin1":case"binary":return Hi(this,t,n);case"base64":return Fi(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wi(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _i(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ri(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),lo(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=Ci.from(t,r)),Ci.isBuffer(t))return 0===t.length?-1:Li(e,t,n,r,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Li(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function Li(e,t,n,r,a){let i,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*o}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function Ni(e,t,n,r){n=Number(n)||0;const a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;const i=t.length;let o;for(r>i/2&&(r=i/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(lo(r))return o;e[n+o]=r}return o}function Mi(e,t,n,r){return co(oo(t,e.length-n),e,n,r)}function xi(e,t,n,r){return co(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Bi(e,t,n,r){return co(so(t),e,n,r)}function Ui(e,t,n,r){return co(function(e,t){let n,r,a;const i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function Fi(e,t,n){return 0===t&&n===e.length?si(e):si(e.slice(t,n))}function Vi(e,t,n){n=Math.min(e.length,n);const r=[];let a=t;for(;a<n;){const t=e[a];let i=null,o=t>239?4:t>223?3:t>191?2:1;if(a+o<=n){let n,r,s,c;switch(o){case 1:t<128&&(i=t);break;case 2:n=e[a+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[a+1],r=e[a+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[a+1],r=e[a+2],s=e[a+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,o=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),a+=o}return function(e){const t=e.length;if(t<=zi)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=zi));return n}(r)}Ci.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Ci.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ci.prototype,"parent",{enumerable:!0,get:function(){if(Ci.isBuffer(this))return this.buffer}}),Object.defineProperty(Ci.prototype,"offset",{enumerable:!0,get:function(){if(Ci.isBuffer(this))return this.byteOffset}}),Ci.poolSize=8192,Ci.from=function(e,t,n){return Ti(e,t,n)},Object.setPrototypeOf(Ci.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ci,Uint8Array),Ci.alloc=function(e,t,n){return function(e,t,n){return Si(e),e<=0?Ei(e):void 0!==t?"string"==typeof n?Ei(e).fill(t,n):Ei(e).fill(t):Ei(e)}(e,t,n)},Ci.allocUnsafe=function(e){return Di(e)},Ci.allocUnsafeSlow=function(e){return Di(e)},Ci.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Ci.prototype},Ci.compare=function(e,t){if(uo(e,Uint8Array)&&(e=Ci.from(e,e.offset,e.byteLength)),uo(t,Uint8Array)&&(t=Ci.from(t,t.offset,t.byteLength)),!Ci.isBuffer(e)||!Ci.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},Ci.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ci.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Ci.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=Ci.allocUnsafe(t);let a=0;for(n=0;n<e.length;++n){let t=e[n];if(uo(t,Uint8Array))a+t.length>r.length?(Ci.isBuffer(t)||(t=Ci.from(t)),t.copy(r,a)):Uint8Array.prototype.set.call(r,t,a);else{if(!Ci.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,a)}a+=t.length}return r},Ci.byteLength=Pi,Ci.prototype._isBuffer=!0,Ci.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)_i(this,t,t+1);return this},Ci.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)_i(this,t,t+3),_i(this,t+1,t+2);return this},Ci.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)_i(this,t,t+7),_i(this,t+1,t+6),_i(this,t+2,t+5),_i(this,t+3,t+4);return this},Ci.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?Vi(this,0,e):Oi.apply(this,arguments)},Ci.prototype.toLocaleString=Ci.prototype.toString,Ci.prototype.equals=function(e){if(!Ci.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Ci.compare(this,e)},Ci.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},yi&&(Ci.prototype[yi]=Ci.prototype.inspect),Ci.prototype.compare=function(e,t,n,r,a){if(uo(e,Uint8Array)&&(e=Ci.from(e,e.offset,e.byteLength)),!Ci.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const s=Math.min(i,o),c=this.slice(r,a),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){i=c[e],o=u[e];break}return i<o?-1:o<i?1:0},Ci.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Ci.prototype.indexOf=function(e,t,n){return Ri(this,e,t,n,!0)},Ci.prototype.lastIndexOf=function(e,t,n){return Ri(this,e,t,n,!1)},Ci.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return Ni(this,e,t,n);case"utf8":case"utf-8":return Mi(this,e,t,n);case"ascii":case"latin1":case"binary":return xi(this,e,t,n);case"base64":return Bi(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ui(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Ci.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const zi=4096;function ji(e,t,n){let r="";n=Math.min(e.length,n);for(let a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function Hi(e,t,n){let r="";n=Math.min(e.length,n);for(let a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function qi(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let a="";for(let r=t;r<n;++r)a+=ho[e[r]];return a}function Wi(e,t,n){const r=e.slice(t,n);let a="";for(let e=0;e<r.length-1;e+=2)a+=String.fromCharCode(r[e]+256*r[e+1]);return a}function Gi(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ki(e,t,n,r,a,i){if(!Ci.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function $i(e,t,n,r,a){no(t,r,a,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function Ji(e,t,n,r,a){no(t,r,a,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function Yi(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Xi(e,t,n,r,a){return t=+t,n>>>=0,a||Yi(e,0,n,4),li(e,t,n,r,23,4),n+4}function Qi(e,t,n,r,a){return t=+t,n>>>=0,a||Yi(e,0,n,8),li(e,t,n,r,52,8),n+8}Ci.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,Ci.prototype),r},Ci.prototype.readUintLE=Ci.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Gi(e,t,this.length);let r=this[e],a=1,i=0;for(;++i<t&&(a*=256);)r+=this[e+i]*a;return r},Ci.prototype.readUintBE=Ci.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Gi(e,t,this.length);let r=this[e+--t],a=1;for(;t>0&&(a*=256);)r+=this[e+--t]*a;return r},Ci.prototype.readUint8=Ci.prototype.readUInt8=function(e,t){return e>>>=0,t||Gi(e,1,this.length),this[e]},Ci.prototype.readUint16LE=Ci.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Gi(e,2,this.length),this[e]|this[e+1]<<8},Ci.prototype.readUint16BE=Ci.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Gi(e,2,this.length),this[e]<<8|this[e+1]},Ci.prototype.readUint32LE=Ci.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Gi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Ci.prototype.readUint32BE=Ci.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Gi(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Ci.prototype.readBigUInt64LE=mo((function(e){ro(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ao(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,a=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(a)<<BigInt(32))})),Ci.prototype.readBigUInt64BE=mo((function(e){ro(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ao(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],a=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(a)})),Ci.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Gi(e,t,this.length);let r=this[e],a=1,i=0;for(;++i<t&&(a*=256);)r+=this[e+i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},Ci.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Gi(e,t,this.length);let r=t,a=1,i=this[e+--r];for(;r>0&&(a*=256);)i+=this[e+--r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},Ci.prototype.readInt8=function(e,t){return e>>>=0,t||Gi(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Ci.prototype.readInt16LE=function(e,t){e>>>=0,t||Gi(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Ci.prototype.readInt16BE=function(e,t){e>>>=0,t||Gi(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Ci.prototype.readInt32LE=function(e,t){return e>>>=0,t||Gi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Ci.prototype.readInt32BE=function(e,t){return e>>>=0,t||Gi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Ci.prototype.readBigInt64LE=mo((function(e){ro(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ao(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),Ci.prototype.readBigInt64BE=mo((function(e){ro(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||ao(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),Ci.prototype.readFloatLE=function(e,t){return e>>>=0,t||Gi(e,4,this.length),ui(this,e,!0,23,4)},Ci.prototype.readFloatBE=function(e,t){return e>>>=0,t||Gi(e,4,this.length),ui(this,e,!1,23,4)},Ci.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Gi(e,8,this.length),ui(this,e,!0,52,8)},Ci.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Gi(e,8,this.length),ui(this,e,!1,52,8)},Ci.prototype.writeUintLE=Ci.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){Ki(this,e,t,n,Math.pow(2,8*n)-1,0)}let a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},Ci.prototype.writeUintBE=Ci.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){Ki(this,e,t,n,Math.pow(2,8*n)-1,0)}let a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},Ci.prototype.writeUint8=Ci.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,1,255,0),this[t]=255&e,t+1},Ci.prototype.writeUint16LE=Ci.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Ci.prototype.writeUint16BE=Ci.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Ci.prototype.writeUint32LE=Ci.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Ci.prototype.writeUint32BE=Ci.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Ci.prototype.writeBigUInt64LE=mo((function(e,t=0){return $i(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Ci.prototype.writeBigUInt64BE=mo((function(e,t=0){return Ji(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Ci.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);Ki(this,e,t,n,r-1,-r)}let a=0,i=1,o=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/i>>0)-o&255;return t+n},Ci.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);Ki(this,e,t,n,r-1,-r)}let a=n-1,i=1,o=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/i>>0)-o&255;return t+n},Ci.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Ci.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Ci.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Ci.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Ci.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Ki(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Ci.prototype.writeBigInt64LE=mo((function(e,t=0){return $i(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Ci.prototype.writeBigInt64BE=mo((function(e,t=0){return Ji(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Ci.prototype.writeFloatLE=function(e,t,n){return Xi(this,e,t,!0,n)},Ci.prototype.writeFloatBE=function(e,t,n){return Xi(this,e,t,!1,n)},Ci.prototype.writeDoubleLE=function(e,t,n){return Qi(this,e,t,!0,n)},Ci.prototype.writeDoubleBE=function(e,t,n){return Qi(this,e,t,!1,n)},Ci.prototype.copy=function(e,t,n,r){if(!Ci.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const a=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),a},Ci.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Ci.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{const i=Ci.isBuffer(e)?e:Ci.from(e,r),o=i.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=i[a%o]}return this};const Zi={};function eo(e,t,n){Zi[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function to(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function no(e,t,n,r,a,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let a;throw a=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new Zi.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,n){ro(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||ao(t,e.length-(n+1))}(r,a,i)}function ro(e,t){if("number"!=typeof e)throw new Zi.ERR_INVALID_ARG_TYPE(t,"number",e)}function ao(e,t,n){if(Math.floor(e)!==e)throw ro(e,n),new Zi.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new Zi.ERR_BUFFER_OUT_OF_BOUNDS;throw new Zi.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}eo("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),eo("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),eo("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,a=n;return Number.isInteger(n)&&Math.abs(n)>2**32?a=to(String(n)):"bigint"==typeof n&&(a=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(a=to(a)),a+="n"),r+=` It must be ${t}. Received ${a}`,r}),RangeError);const io=/[^+/0-9A-Za-z-_]/g;function oo(e,t){let n;t=t||1/0;const r=e.length;let a=null;const i=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function so(e){return oi(function(e){if((e=(e=e.split("=")[0]).trim().replace(io,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function co(e,t,n,r){let a;for(a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function uo(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function lo(e){return e!=e}const ho=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let a=0;a<16;++a)t[r+a]=e[n]+e[a]}return t}();function mo(e){return"undefined"==typeof BigInt?po:e}function po(){throw new Error("BigInt not supported")}var fo,vo,go,wo,yo=ii;fo=a("3LZM1"),vo=a("3hKrT").utf8,go=a("3hKrT").bin,(wo=function(e,t){var n=fo.wordsToBytes(function(e){e.constructor==String?e=vo.stringToBytes(e):void 0!==yo&&"function"==typeof yo.isBuffer&&yo.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=fo.bytesToWords(e),n=8*e.length,r=[],a=1732584193,i=-271733879,o=-1732584194,s=271733878,c=-1009589776;t[n>>5]|=128<<24-n%32,t[15+(n+64>>>9<<4)]=n;for(var u=0;u<t.length;u+=16){for(var l=a,d=i,h=o,m=s,p=c,f=0;f<80;f++){if(f<16)r[f]=t[u+f];else{var v=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=v<<1|v>>>31}var g=(a<<5|a>>>27)+c+(r[f]>>>0)+(f<20?1518500249+(i&o|~i&s):f<40?1859775393+(i^o^s):f<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514);c=s,s=o,o=i<<30|i>>>2,i=a,a=g}a+=l,i+=d,o+=h,s+=m,c+=p}return[a,i,o,s,c]}(e));return t&&t.asBytes?n:t&&t.asString?go.bytesToString(n):fo.bytesToHex(n)})._blocksize=16,wo._digestsize=20,ci=wo;class bo{constructor(e){t(i)(this,"pluginStore",{}),t(i)(this,"tracker",void 0),t(i)(this,"listPlugins",(()=>{let e={};return Object.keys(this.pluginStore).forEach(((t,n)=>{e[this.pluginStore[t].name]=this.pluginStore[t].plugin})),e})),t(i)(this,"getPlugin",(e=>this.listPlugins()[e])),Object.assign(this,e)}addPlugins(e){for(let t=0;t<e.length;t++){const n=e[t];this.addPlugin(n)}}addPlugin(e){const t=ci(e.setup.toString());this.pluginStore[t]={name:e.name,plugin:e,enabled:!1,fingerprint:t}}removePlugin(e){const t=ci(e.setup.toString());delete this.pluginStore[t]}enablePlugin(e){e.setup();const t=ci(e.setup.toString());this.pluginStore[t].enabled=!0}disablePlugin(e){e.teardown();const t=ci(e.setup.toString());this.pluginStore[t].enabled=!1}attachTracker(e){for(let e in this.pluginStore)if(this.pluginStore.hasOwnProperty(e)){const t=this.pluginStore[e];this.enablePlugin(t.plugin)}}}const{CLOG_METRICS_TO_IGNORE:Eo}=Ie;class Co{constructor(e){t(i)(this,"name","ClogPlugin"),t(i)(this,"enabled",!1),t(i)(this,"tracker",void 0),Object.assign(this,e)}getName(){return this.name}setup(){if(this.tracker&&!this.tracker.isConsole)return;const e=window;this.enabled=!0,e.panorama&&(e.panorama.clogEnabled=!0),this.emitBufferedEvents();const t=document.createEvent("CustomEvent");t.initCustomEvent("onClogPluginLoad",!0,!0,{enabled:!0}),window.dispatchEvent(t)}teardown(){this.enabled=!1;const e=window;e.panorama&&(e.panorama.clogEnabled=!1)}emitBufferedEvents(){const e=window;let t=[];if(e.AWSC&&e.AWSC.Clog&&e.AWSC.Clog.bufferedQueue&&e.AWSC.Clog.bufferedQueue.length>0){t=e.AWSC.Clog.bufferedQueue,e.AWSC.Clog.bufferedQueue=[];for(let e=0;e<t.length;e++){const n=t[e].metric,r=t[e].ts;Eo.indexOf(n.key)>=0||this.tracker.trackCustomEvent({eventSource:"clog",eventName:n.key,eventContext:JSON.stringify({pageId:n.pageId,unit:n.unit,metricType:n.metricType,logLevel:n.logLevel}),eventDetail:n.detail||"",eventValue:"0"==n.value?"0":n.value,timestamp:r})}t=[]}}}class To{getName(){return this.name}constructor(e){t(i)(this,"name","StacktracePlugin"),t(i)(this,"enabled",!1),t(i)(this,"errorsToIgnore",["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications."]),t(i)(this,"tracker",void 0),t(i)(this,"buildErrorObject",(e=>{const t={};return e.message&&(t.message=e.message),e.filename&&(t.filename=e.filename),e.lineno&&(t.lineno=e.lineno),void 0!==e.colno&&(t.colno=e.colno),e.error&&e.error.stack&&(t.error=e.error.stack),t})),t(i)(this,"isExtensionError",(e=>{try{return/eval|debugger|[a-zA-Z]*-extension/i.test(e)}catch(e){return!1}})),t(i)(this,"isErrorToIgnore",(e=>{try{return this.errorsToIgnore.indexOf(e)>=0}catch(e){return!1}})),t(i)(this,"errorHandler",(e=>{this.isExtensionError(e.filename)||this.isErrorToIgnore(e.message)||this.tracker.trackOperationalEvents({metricList:[{metricName:"clientError",metricValue:1,metricDetails:JSON.stringify(this.buildErrorObject(e))}]})})),Object.assign(this,e)}setup(){this.enabled=!0,window.addEventListener("error",this.errorHandler)}teardown(){this.enabled&&(this.enabled=!1,window.removeEventListener("error",this.errorHandler))}}class So{getName(){return this.name}constructor(e){t(i)(this,"name","PerformancePlugin"),t(i)(this,"enabled",!1),t(i)(this,"tracker",void 0),t(i)(this,"DETAILED_PERFORMANCE_METRICS",void 0),t(i)(this,"MAX_MEASURE_TIME",void 0),t(i)(this,"FID_THRESHOLD",void 0),t(i)(this,"FRAME_THRESHOLD",void 0),t(i)(this,"RESOURCE_THRESHOLD",void 0),t(i)(this,"navigationObserver",null),t(i)(this,"eventType","performance"),t(i)(this,"logDOMContentLoadedTime",((e=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart)=>{const t=Math.round(e);this.tracker.trackCustomEvent({eventSource:"panorama",eventType:"performance",eventContext:"pageLoad",eventValue:t,timestamp:Date.now()}),this.tracker.trackOperationalEvents({metricList:[{metricName:"domContentLoadedTime",metricValue:t,metricUnit:"Milliseconds"}]},void 0,this.eventType)})),t(i)(this,"logPageLoadTime",((e=window.performance.timing.loadEventEnd-window.performance.timing.navigationStart)=>{this.tracker.trackOperationalEvents({metricList:[{metricName:"pageLoadTime",metricValue:Math.round(e),metricUnit:"Milliseconds",metricDetails:JSON.stringify({rawPerformance:window.performance})}]},void 0,this.eventType)})),t(i)(this,"logDocumentSize",(e=>{this.tracker.trackOperationalEvents({metricList:[{metricName:"pageLoadDocumentSize",metricValue:Math.round(e/1e3),metricUnit:"Kilobytes"}]},void 0,this.eventType)})),t(i)(this,"logPerformanceDetail",((e,t)=>{t>this.MAX_MEASURE_TIME||this.tracker.trackCustomEvent({eventSource:"panorama",eventType:`performanceDetail.${e.entryType}`,eventContext:e.name,eventDetail:JSON.stringify(e),eventValue:t,timestamp:Date.now()})})),Object.assign(this,e)}setup(){if(window.performance){try{this.navigationObserver=new PerformanceObserver((e=>{e.getEntries().forEach((e=>{if(e.entryType===Ie.NAVIGATION){const t=e.domContentLoadedEventEnd,n=e.duration;this.logPageLoadTime(n),this.logDOMContentLoadedTime(t),e.transferSize&&e.transferSize>0&&this.logDocumentSize(e.transferSize)}}))})),this.navigationObserver.observe({entryTypes:[Ie.NAVIGATION]})}catch(e){0===window.performance.timing.domContentLoadedEventEnd?document.addEventListener("DOMContentLoaded",(()=>{this.logDOMContentLoadedTime()})):this.logDOMContentLoadedTime(),0===window.performance.timing.loadEventEnd?window.addEventListener("load",(()=>{this.logPageLoadTime()})):this.logPageLoadTime()}if(window.PerformanceObserver&&this.DETAILED_PERFORMANCE_METRICS){new PerformanceObserver((e=>{e.getEntries().forEach((e=>{switch(e.entryType){case"paint":"first-paint"!==e.name&&"first-contentful-paint"!==e.name||this.logPerformanceDetail(e,e.startTime);break;case"longtask":this.logPerformanceDetail(e,e.duration);break;case"first-input":const t=e.processingStart-e.startTime;t>this.FID_THRESHOLD&&this.logPerformanceDetail(e,t);break;case"frame":e.duration>this.FRAME_THRESHOLD&&this.logPerformanceDetail(e,e.duration);break;case"resource":e.duration>this.RESOURCE_THRESHOLD&&this.logPerformanceDetail(e,e.duration)}}))})).observe({entryTypes:["paint","frame","longtask","resource","first-input"],buffered:!0})}this.enabled=!0}}teardown(){this.enabled&&(document.removeEventListener("DOMContentLoaded",(()=>this.logDOMContentLoadedTime)),window.removeEventListener("load",(()=>this.logPageLoadTime)),this.navigationObserver?.disconnect?.(),this.enabled=!1)}}class Do{getName(){return this.name}constructor(e){t(i)(this,"name","CSPErrorHandlerPlugin"),t(i)(this,"enabled",!1),t(i)(this,"tracker",void 0),t(i)(this,"buildErrorObject",(e=>{const t={};return e.blockedURI&&(t.blockedURI=e.blockedURI),e.violatedDirective&&(t.violatedDirective=e.violatedDirective),e.originalPolicy&&(t.originalPolicy=e.originalPolicy),e.disposition&&(t.disposition=e.disposition),e.columnNumber&&(t.columnNumber=e.columnNumber),e.documentURI&&(t.documentURI=e.documentURI),e.effectiveDirective&&(t.effectiveDirective=e.effectiveDirective),e.lineNumber&&(t.lineNumber=e.lineNumber),e.referrer&&(t.referrer=e.referrer),e.sample&&(t.sample=e.sample),e.sourceFile&&(t.sourceFile=e.sourceFile),e.statusCode&&(t.statusCode=e.statusCode),t})),t(i)(this,"cspCallback",(e=>{const t=this.buildErrorObject(e);this.tracker.trackOperationalEvents({metricList:[{metricName:"clientCspError",metricValue:1,metricDetails:JSON.stringify(t)}]})})),Object.assign(this,e)}setup(){this.enabled=!0,"SecurityPolicyViolationEvent"in window&&(window.addEventListener?window.addEventListener("securitypolicyviolation",this.cspCallback,!1):window.attachEvent&&window.attachEvent("securitypolicyviolation",this.cspCallback,!1))}teardown(){this.enabled&&(window.removeEventListener?window.removeEventListener("securitypolicyviolation",this.cspCallback):window.detachEvent&&window.detachEvent("securitypolicyviolation",this.cspCallback),this.enabled=!1)}}const ko="[data-analytics-render]:not([data-analytics-processed])",Io="[data-analytics-alert]",Ao="[data-analytics-flashbar]";class Po{getName(){return this.name}constructor(e){t(i)(this,"name","ContextPlugin"),t(i)(this,"observer",void 0),t(i)(this,"enabled",!1),t(i)(this,"tracker",void 0),t(i)(this,"handleMutation",(()=>{const e=document.querySelectorAll(".custom-home__header:not([data-analytics-pagepattern-processed])");if(e.length){for(let t=0;t<e.length;t++){e[t]?.setAttribute("data-analytics-pagepattern-processed","true")}const t=document.querySelector("h1")?.textContent||"",n={eventSource:Qe,eventType:"pagePatternIdentified",eventContext:t,eventInteractionMetaData:{patternIdentified:"home",flowName:t},timestamp:Date.now()};this.tracker.trackCustomEvent(n)}if(null!==document.querySelector(ko)){const e=document.querySelectorAll(ko);for(let t=0;t<e.length;t++){const n=e[t];n.setAttribute("data-analytics-processed","true");const r=ai(n),a={eventSource:Qe,eventType:"render",eventPath:r.analyticsPath,contentId:r.xpath,eventValue:"1",eventDetail:"",timestamp:Date.now(),widgetIds:r.widgetIds?r.widgetIds:void 0};Object.assign(a,r.analyticsData),this.tracker.trackCustomEvent(a)}}["[data-analytics-widget-id]:not([data-analytics-widget-render-processed])","[data-module-id]:not([data-analytics-widget-render-processed])"].forEach((e=>{if(null!==document.querySelector(e)){const t=document.querySelectorAll(e);for(let e=0;e<t.length;e++){const n=t[e];n.setAttribute("data-analytics-widget-render-processed","true");const r=ai(n),a={eventSource:Qe,eventType:"pano_widget_render",eventPath:r.analyticsPath,contentId:r.xpath,eventValue:"1",eventDetail:"",timestamp:Date.now(),widgetIds:r.widgetIds?r.widgetIds:void 0};Object.assign(a,r.analyticsData),this.tracker.trackCustomEvent(a)}}}));if(["[data-analytics-widget-id]:not([data-analytics-widget-inviewport-processed])","[data-module-id]:not([data-analytics-widget-inviewport-processed])"].forEach((e=>{if(null!==document.querySelector(e)){const t=document.querySelectorAll(e);for(let e=0;e<t.length;e++){const n=t[e],r=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting&&!e.target.getAttribute("data-analytics-widget-inviewport-processed")){const t=e.target;if(t.setAttribute("data-analytics-widget-inviewport-processed","true"),!Te(t,Ee)||!Se(t,Ee))return;const n=ai(t),a={eventSource:Qe,eventType:"pano_widget_inviewport",eventPath:n.analyticsPath,contentId:n.xpath,eventValue:"1",eventDetail:"",timestamp:Date.now(),widgetIds:n.widgetIds?n.widgetIds:void 0};this.tracker.trackCustomEvent(a),r.unobserve(t)}}))}));r.observe(n)}}})),null!==document.querySelector(Io)){const e=document.querySelectorAll(Io);for(let t=0;t<e.length;t++){const n=e[t];if(!Te(n,Ee)||De(n,"data-analytics-alert",Ee))continue;const r=n.getAttribute("data-analytics-alert")||"true";n.setAttribute("data-analytics-processed",r);const a=ai(n);let{analyticsPath:i,eventInteractionMetaData:o,xpath:s,analyticsData:c}=a;!o.funnelInteractionId&&this.tracker.funnelInteractionMetadata.id&&(o={...o,funnelInteractionId:this.tracker.funnelInteractionMetadata.id});const u={eventSource:Qe,eventType:"pano_alert",eventPath:i,eventInteractionMetaData:o,contentId:s,eventValue:"1",eventContext:r,eventDetail:"",timestamp:Date.now()};Object.assign(u,c),this.tracker.trackCustomEvent(u)}}if(null!==document.querySelector(Ao)){const e=document.querySelectorAll(Ao);for(let t=0;t<e.length;t++){const n=e[t];if(!Te(n)||De(n,"data-analytics-flashbar"))continue;const r=n.getAttribute("data-analytics-flashbar")||"true",a=n.hasAttribute("data-analytics-suppress-flow-events");n.setAttribute("data-analytics-processed",r);const i=ai(n);let{analyticsPath:o,eventInteractionMetaData:s,xpath:c,analyticsData:u}=i;if(!a&&!s.funnelInteractionId){let e;if(this.tracker.funnelInteractionMetadata.id)e=this.tracker.funnelInteractionMetadata.id;else if(document.querySelector("[data-analytics-funnel-interaction-id]")){e=document.querySelector("[data-analytics-funnel-interaction-id]")?.getAttribute("data-analytics-funnel-interaction-id")}e&&(s={...s,funnelInteractionId:e})}a&&"funnelInteractionId"in s&&delete s.funnelInteractionId;const l={eventSource:Qe,eventType:"pano_flashbar",eventPath:o,eventInteractionMetaData:s,contentId:c,eventValue:"1",eventDetail:"",timestamp:Date.now()};Object.assign(l,u),this.tracker.trackCustomEvent(l)}}})),Object.assign(this,e)}setup(){if(!window.MutationObserver)return;this.observer=new MutationObserver(Br(this.handleMutation,1e3)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),this.enabled=!0}teardown(){this.observer.disconnect(),this.enabled=!1}}const Oo=(e,t)=>{void 0===t.retries&&(t.retries=3),void 0===t.waitTime&&(t.waitTime=1e3);let n=!1,r=0,a=0;const i=()=>{if(e())return t.onTrue&&(t.onTrue(),n=!0),void(a&&window.clearInterval(a));t.onFalse&&t.onFalse(),r++,t.retries&&r>t.retries&&a&&window.clearInterval(a)};i(),n||(a=window.setInterval(i,t.waitTime))};class _o{getName(){return this.name}constructor(e){t(i)(this,"name","ConsoleParametersPlugin"),t(i)(this,"enabled",!1),t(i)(this,"tracker",void 0),t(i)(this,"getRegionServiceFromUrl",(()=>{let e="";const t=window.location.href,n=rt.exec(t),r=Fe(t);r&&(e=r);return{region:e,service:n&&n[2]?n[2]:""}})),t(i)(this,"getRegionAndService",(()=>{let e,t,n;Ue(this.tracker.argmap)?Oo((()=>window.ConsoleNavService),{retries:10,onTrue:()=>{if(e=window.ConsoleNavService.Model.currentRegionId,t=window.ConsoleNavService.Model.currentService.id,!e){const t=Ve("awsc-mezz-region");t&&(e=t)}if(!t){const e=Ve("awsc-mezz-service");e&&(t=e)}this.tracker.updateRegionAndService({region:e,service:t})},onFalse:()=>{n=this.getRegionServiceFromUrl(),this.tracker.updateRegionAndService({region:n.region,service:n.service})}}):(n=this.getRegionServiceFromUrl(),t=ne(this.tracker,"argmap","service")?this.tracker.argmap.service:n.service,e=ne(this.tracker,"argmap","region")?this.tracker.argmap.region:n.region,this.tracker.updateRegionAndService({region:e,service:t}))})),Object.assign(this,e)}setup(){this.getRegionAndService(),this.enabled=!0}teardown(){this.enabled=!1}}var Ro,Lo,No,Mo,xo,Bo=-1,Uo=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Bo=t.timeStamp,e(t))}),!0)},Fo=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Vo=function(){var e=Fo();return e&&e.activationStart||0},zo=function(e,t){var n=Fo(),r="navigate";return Bo>=0?r="back-forward-cache":n&&(document.prerendering||Vo()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},jo=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Ho=function(e,t,n,r){var a,i;return function(o){t.value>=0&&(o||r)&&((i=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},qo=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Wo=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Go=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Ko=-1,$o=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Jo=function(e){"hidden"===document.visibilityState&&Ko>-1&&(Ko="visibilitychange"===e.type?e.timeStamp:0,Xo())},Yo=function(){addEventListener("visibilitychange",Jo,!0),addEventListener("prerenderingchange",Jo,!0)},Xo=function(){removeEventListener("visibilitychange",Jo,!0),removeEventListener("prerenderingchange",Jo,!0)},Qo=function(){return Ko<0&&(Ko=$o(),Yo(),Uo((function(){setTimeout((function(){Ko=$o(),Yo()}),0)}))),{get firstHiddenTime(){return Ko}}},Zo=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},es=[1800,3e3],ts=function(e,t){t=t||{},Zo((function(){var n,r=Qo(),a=zo("FCP"),i=jo("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(a.value=Math.max(e.startTime-Vo(),0),a.entries.push(e),n(!0)))}))}));i&&(n=Ho(e,a,es,t.reportAllChanges),Uo((function(r){a=zo("FCP"),n=Ho(e,a,es,t.reportAllChanges),qo((function(){a.value=performance.now()-r.timeStamp,n(!0)}))})))}))},ns=[.1,.25],rs={passive:!0,capture:!0},as=new Date,is=function(e,t){Ro||(Ro=t,Lo=e,No=new Date,cs(removeEventListener),os())},os=function(){if(Lo>=0&&Lo<No-as){var e={entryType:"first-input",name:Ro.type,target:Ro.target,cancelable:Ro.cancelable,startTime:Ro.timeStamp,processingStart:Ro.timeStamp+Lo};Mo.forEach((function(t){t(e)})),Mo=[]}},ss=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){is(e,t),a()},r=function(){a()},a=function(){removeEventListener("pointerup",n,rs),removeEventListener("pointercancel",r,rs)};addEventListener("pointerup",n,rs),addEventListener("pointercancel",r,rs)}(t,e):is(t,e)}},cs=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,ss,rs)}))},us=[100,300],ls=0,ds=1/0,hs=0,ms=function(e){e.forEach((function(e){e.interactionId&&(ds=Math.min(ds,e.interactionId),hs=Math.max(hs,e.interactionId),ls=hs?(hs-ds)/7+1:0)}))},ps=function(){return xo?ls:performance.interactionCount||0},fs=[200,500],vs=0,gs=function(){return ps()-vs},ws=[],ys={},bs=function(e){var t=ws[ws.length-1],n=ys[e.interactionId];if(n||ws.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ys[r.id]=r,ws.push(r)}ws.sort((function(e,t){return t.latency-e.latency})),ws.splice(10).forEach((function(e){delete ys[e.id]}))}},Es=function(e,t){t=t||{},Zo((function(){var n;"interactionCount"in performance||xo||(xo=jo("event",ms,{type:"event",buffered:!0,durationThreshold:0}));var r,a=zo("INP"),i=function(e){e.forEach((function(e){e.interactionId&&bs(e),"first-input"===e.entryType&&!ws.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&bs(e)}));var t,n=(t=Math.min(ws.length-1,Math.floor(gs()/50)),ws[t]);n&&n.latency!==a.value&&(a.value=n.latency,a.entries=n.entries,r())},o=jo("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=Ho(e,a,fs,t.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),Wo((function(){i(o.takeRecords()),a.value<0&&gs()>0&&(a.value=0,a.entries=[]),r(!0)})),Uo((function(){ws=[],vs=ps(),a=zo("INP"),r=Ho(e,a,fs,t.reportAllChanges)})))}))},Cs=[2500,4e3],Ts={},Ss=function(e,t){t=t||{},Zo((function(){var n,r=Qo(),a=zo("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(a.value=Math.max(t.startTime-Vo(),0),a.entries=[t],n())},o=jo("largest-contentful-paint",i);if(o){n=Ho(e,a,Cs,t.reportAllChanges);var s=Go((function(){Ts[a.id]||(i(o.takeRecords()),o.disconnect(),Ts[a.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),Wo(s),Uo((function(r){a=zo("LCP"),n=Ho(e,a,Cs,t.reportAllChanges),qo((function(){a.value=performance.now()-r.timeStamp,Ts[a.id]=!0,n(!0)}))}))}}))},Ds=[800,1800],ks=function e(t){document.prerendering?Zo((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Is=function(e,t){t=t||{};var n=zo("TTFB"),r=Ho(e,n,Ds,t.reportAllChanges);ks((function(){var a=Fo();if(a){var i=a.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-Vo(),0),n.entries=[a],r(!0),Uo((function(){n=zo("TTFB",0),(r=Ho(e,n,Ds,t.reportAllChanges))(!0)}))}}))};const As=Ge();class Ps{constructor(e){t(i)(this,"name","WebVitalsPlugin"),t(i)(this,"enabled",!1),t(i)(this,"eventType","performance"),t(i)(this,"isFrameLCPEmitted",!1),t(i)(this,"isFrameFCPEmitted",!1),t(i)(this,"webVitalLCPValue",void 0),t(i)(this,"tracker",void 0),t(i)(this,"validWebVitals",{CLS:"cumulativeLayoutShift",FCP:"firstContentfulPaint",FID:"firstInputDelay",LCP:"largestContentfulPaint",TTFB:"timeToFirstByte",INP:"interactionToNextPaint"}),t(i)(this,"validFrameWebVitals",{CLS:"iFrameCumulativeLayoutShift",FCP:"iFrameFirstContentfulPaint",FID:"iFrameFirstInputDelay",LCP:"iFrameLargestContentfulPaint",TTFB:"iFrameTimeToFirstByte",INP:"iFrameInteractionToNextPaint",CrossFrameNavInteraction:"iFrameLargestContentfulPaint"}),t(i)(this,"isPlatformAsset",((e,t)=>{try{if(["script","link"].includes(t)){const n="script"===t?`script[src="${e}"]`:`link[href="${e}"]`,r=document.querySelector(n);if(r)return r.hasAttribute("data-platform-asset")}}catch(n){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"isPlatformAsset",eventContext:JSON.stringify({assetName:e||"",assetType:t||""}),eventDetail:n?n.toString():"",eventValue:"1",timestamp:Date.now()})}return!1})),t(i)(this,"getPlatformAssetOwner",((e,t)=>{try{const n="script"===t?`script[src="${e}"]`:`link[href="${e}"]`,r=document.querySelector(n);if(r)return r.getAttribute("data-platform-asset")||""}catch(n){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"getPlatformAssetOwner",eventContext:JSON.stringify({assetName:e||"",assetType:t||""}),eventDetail:n?n.toString():"",eventValue:"1",timestamp:Date.now()})}return""})),t(i)(this,"logWebVital",(({name:e,delta:t,entries:n})=>{let r="";try{if("LCP"===e&&n&&n.length)n.forEach((({startTime:e,element:n})=>{e===t&&n&&(r=JSON.stringify({elementType:n.tagName,elementIdentifier:n.id,elementText:n.textContent?n.textContent.substring(0,50):"",nav2Enabled:As}))}));else if("INP"===e&&n&&n.length){const e=[];n.forEach((({entryType:t,duration:n,name:r,target:a})=>{e.push({entryType:t,duration:n,entryName:r,targetType:a?.tagName||"",targetIdentifier:a?.id||"",targetTestIdentifier:a?.getAttribute("data-test-id")||a?.getAttribute("data-testid")||"",targetText:a?.textContent?a.textContent.substring(0,50):""})})),r=JSON.stringify(e)}}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"lcpMetricDetails",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}if(this.tracker.trackOperationalEvents({metricList:[{metricName:this.validWebVitals[e],metricValue:"CLS"===e?1e3*t:t,metricUnit:"CLS"===e?void 0:"Milliseconds",metricDetails:r}]},void 0,this.eventType),"LCP"===e){this.webVitalLCPValue=t;try{let e=0,n=0;const r=[];let a=0,i=0;const o=[];let s=0,c=0;const u=[];let l=0,d=0;const h=[];performance.getEntriesByType("resource").forEach((m=>{const{startTime:p,transferSize:f=0,name:v,duration:g,initiatorType:w,renderBlockingStatus:y="non-blocking"}=m;if(p+g<t&&["script","link","img","css"].includes(w)){const t=this.isPlatformAsset(v,w);t&&(a+=g,f>0&&(i+=f),o.push({assetName:v,assetDuration:g,assetStartTime:p,assetOwner:this.getPlatformAssetOwner(v,w)})),"blocking"===y&&(s+=g,t&&(l+=g,h.push({assetName:v,assetDuration:g,assetStartTime:p,assetOwner:this.getPlatformAssetOwner(v,w)})),f>0&&(c+=f,d+=f),u.push({assetName:v,assetDuration:g,assetStartTime:p,assetOwner:this.getPlatformAssetOwner(v,w)})),e+=g,n+=f,r.push({assetName:v,assetDuration:g,assetStartTime:p,assetOwner:this.getPlatformAssetOwner(v,w)})}})),n>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpResourceLoadSize",metricValue:n,metricUnit:"Bytes"}]},void 0,this.eventType),e>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpResourceLoadTime",metricValue:e,metricUnit:"Milliseconds"}]},void 0,this.eventType),i>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformResourceLoadSize",metricValue:i,metricUnit:"Bytes",metricDetails:JSON.stringify(o)}]},void 0,this.eventType),a>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformResourceLoadTime",metricValue:a,metricUnit:"Milliseconds",metricDetails:JSON.stringify(o)}]},void 0,this.eventType),d>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformRenderBlockingResourceLoadSize",metricValue:d,metricUnit:"Bytes",metricDetails:JSON.stringify(h)}]},void 0,this.eventType),l>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformRenderBlockingResourceLoadTime",metricValue:l,metricUnit:"Milliseconds",metricDetails:JSON.stringify(h)}]},void 0,this.eventType),c>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpRenderBlockingResourceLoadSize",metricValue:c,metricUnit:"Bytes",metricDetails:JSON.stringify(u)}]},void 0,this.eventType),s>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpRenderBlockingResourceLoadTime",metricValue:s,metricUnit:"Milliseconds",metricDetails:JSON.stringify(u)}]},void 0,this.eventType)}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"lcpResourceTiming",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}try{const e=new PerformanceObserver((n=>{let r=0,a=0;n.getEntries().forEach((e=>{const{startTime:n,duration:i}=e;n+i<t&&(r+=i,a++)})),e.disconnect(),r>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpLongTaskDuration",metricValue:r,metricUnit:"Milliseconds",metricDetails:JSON.stringify({totalNoOfLongTasks:a})}]},void 0,this.eventType)}));e.observe({type:"longtask",buffered:!0})}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"lcpLongTaskTiming",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}}})),Object.assign(this,e)}getName(){return this.name}getNavigationStart(){return window.performance&&window.performance.timeOrigin?Math.round(performance.timeOrigin):window.performance.timing.navigationStart}getNavigationStartDelta(e){try{const t=e-this.getNavigationStart();return t>0?t:0}catch{return 0}}logFrameWebVitals(e){const{frameMetaData:{id:t="",name:n="",identifier:r="",navigationStart:a=this.getNavigationStart(),src:i=""}={},metric:{delta:o,name:s}={}}=e;if(o&&s&&this.validFrameWebVitals[s]){let c=this.validFrameWebVitals[s],u="CLS"===s?1e3*o:o,l="CrossFrameNavInteraction"===s;"LCP"!==s||this.isFrameLCPEmitted?"FCP"===s?(this.isFrameFCPEmitted||(u+=this.getNavigationStartDelta(a),c=`PageLoad${this.validFrameWebVitals[s]}`),this.isFrameFCPEmitted=!0):l&&!this.isFrameLCPEmitted&&(u=this.webVitalLCPValue||0,c=`PageLoad${this.validFrameWebVitals.LCP}`,this.isFrameLCPEmitted=!0):(u+=this.getNavigationStartDelta(a),c=`PageLoad${this.validFrameWebVitals[s]}`,this.isFrameLCPEmitted=!0);let d={frameId:t,frameName:n,frameSrc:i,frameDuration:"CLS"===s?1e3*o:o,frameIdentifier:r,nav2Enabled:String(As)};if(("LCP"===s||l)&&e.frameMetaData.element&&(d.element=e.frameMetaData.element),("LCP"===s||l)&&c.startsWith("PageLoad")&&void 0===this.webVitalLCPValue){setTimeout((()=>{void 0!==this.webVitalLCPValue&&(l&&(d.crossFrameNavDelta=o),this.tracker.trackOperationalEvents({metricList:[{metricName:c,metricValue:l?this.webVitalLCPValue:u,metricUnit:"Milliseconds",metricDetails:JSON.stringify(d)}]},void 0,this.eventType))}),l?200:1e4)}else this.tracker.trackOperationalEvents({metricList:[{metricName:c,metricValue:u,metricUnit:"CLS"===s?void 0:"Milliseconds",metricDetails:JSON.stringify(d)}]},void 0,this.eventType)}}setupFrameMessageListeners(){he(window,"message",(e=>{const{data:t}=e;t&&t.event_id&&"iFrame_Panorama_WebVital"===t.event_id&&this.logFrameWebVitals(t)}))}setup(){var e,t,n,r;this.enabled=!0,this.logWebVital&&this.logWebVital instanceof Function&&(n=this.logWebVital,r=(r={reportAllChanges:!0})||{},ts(Go((function(){var e,t=zo("CLS",0),a=0,i=[],o=function(n){n.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,i.push(e)):(a=e.value,i=[e])}})),a>t.value&&(t.value=a,t.entries=i,e())},s=jo("layout-shift",o);s&&(e=Ho(n,t,ns,r.reportAllChanges),Wo((function(){o(s.takeRecords()),e(!0)})),Uo((function(){a=0,t=zo("CLS",0),e=Ho(n,t,ns,r.reportAllChanges),qo((function(){return e()}))})),setTimeout(e,0))}))),e=this.logWebVital,t=t||{},Zo((function(){var n,r=Qo(),a=zo("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},o=function(e){e.forEach(i)},s=jo("first-input",o);n=Ho(e,a,us,t.reportAllChanges),s&&Wo(Go((function(){o(s.takeRecords()),s.disconnect()}))),s&&Uo((function(){var r;a=zo("FID"),n=Ho(e,a,us,t.reportAllChanges),Mo=[],Lo=-1,Ro=null,cs(addEventListener),r=i,Mo.push(r),os()}))})),Ss(this.logWebVital),ts(this.logWebVital),Is(this.logWebVital),Es(this.logWebVital)),this.tracker.service&&["cw","ec2","vpc","vpcconsole"].includes(this.tracker.service)&&this.setupFrameMessageListeners()}teardown(){this.enabled=!1}}class Os{constructor(e){t(i)(this,"name","ConsoleLatencyPlugin"),t(i)(this,"enabled",!1),t(i)(this,"eventType","performance"),t(i)(this,"isComponentReadyEmittedOnLoad",!1),t(i)(this,"locationChangeTime",performance.now()),t(i)(this,"updatedLocationChangeTime",void 0),t(i)(this,"visitedCloudscapeMarkers",new Set),t(i)(this,"cutOffTimer",3e4),t(i)(this,"transitionCutOffTimer",15e3),t(i)(this,"timerId",void 0),t(i)(this,"eventsToListen",["keydown","click","pagehide"]),t(i)(this,"iFrameConsoleList",["cw","ec2","vpc","vpcconsole"]),t(i)(this,"inViewportConsoleList",["cfr","iam-console","s3","cfo"]),t(i)(this,"tableEvents",["tableRendered","tableUpdated"]),t(i)(this,"buttonEvents",["primaryButtonRendered","primaryButtonUpdated"]),t(i)(this,"suppressDistractions",new Set(["Reload","Sign out","Abmelden","다시 로드","再ロード","Reset","Redefinir","サインアウト","Erneut laden","Enviar","Recharger","Recarregar","Réinitialiser","Volver a cargar","Muat ulang","Ricarica","Yeniden yükle","重新加载","重新載入","Cerrar sesión","Déconnexion","Keluar","Esci","로그아웃","Sair","Oturumu kapat","退出","登出"])),t(i)(this,"frameMetricNames",{tableReadinessTransition:"frameTransitionTimeToTableReady",buttonReadinessTransition:"frameTransitionTimeToButtonReady",tableReadiness:"frameTimeToTableReady",buttonReadiness:"frameTimeToButtonReady"}),t(i)(this,"tracker",void 0),t(i)(this,"telemetryTracker",Mr.getInstance()),t(i)(this,"consoleServiceId",Ye()),t(i)(this,"logTimeToStartExecutingConsoleAsset",(()=>{try{if(window&&window.performance&&"function"==typeof window.performance.getEntriesByName){const e=window.performance.getEntriesByName("timeToStartExecConsoleAsset")[0];if(e){const{startTime:t}=e;this.tracker.trackOperationalEvents({metricList:[{metricName:"timeToStartExecConsoleAsset",metricValue:t,metricUnit:"Milliseconds"}]},void 0,this.eventType),this.telemetryTracker.trackPanoramaOperationalEvent("timeToStartExecConsoleAsset",t,Mr.UNIT.MILLISECONDS,null,{serviceId:this.consoleServiceId})}}}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitPanoramaLatencyMetric",eventDetail:e?e.toString():""})}})),Object.assign(this,e),this.emitComponentReadyMetric=this.emitComponentReadyMetric.bind(this),this.visiblityChangeHandler=this.visiblityChangeHandler.bind(this),this.attachListenersOnLocationChange=this.attachListenersOnLocationChange.bind(this)}getName(){return this.name}canExecuteComponentReady(e){document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()}getActivationStart(){try{return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation")[0]&&window.performance.getEntriesByType("navigation")[0].activationStart||0}catch(e){return this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"getActivationStart",eventDetail:e?e.toString():""}),0}}isComponentInViewport(e){try{const{name:t,detail:n={}}=e;if(this.tableEvents.includes(t)&&this.tracker.service&&this.inViewportConsoleList.includes(this.tracker.service))return n?.inViewport??!0}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitComponentReadyMetric",eventDetail:"isComponentInViewport",eventValue:e?e.toString():""})}return!0}extractMetricToReport(e){let t=[],n=null,r=null;for(let t=e.length-1;t>=0;t--){const{name:a,detail:i={}}=e[t],o=i?.text||i?.header||"",s=i?.instanceId||i?.instanceIdentifier||"",c=this.isComponentOnPage(s),u=this.isComponentInViewport(e[t]);if("awsui"===i?.source&&!i?.loading&&(i?.instanceId||i?.instanceIdentifier)&&!this.visitedCloudscapeMarkers.has(i.instanceId||i.instanceIdentifier)&&!this.suppressDistractions.has(o)&&u&&(this.visitedCloudscapeMarkers.add(i.instanceId||i.instanceIdentifier),c&&(this.tableEvents.includes(a)&&!r?r=e[t]:this.buttonEvents.includes(a)&&!n&&(n=e[t]),r&&n)))break}return r&&t.push({componentName:"table",startTime:r.startTime,componentIdentifier:r.detail.text||r.detail.header||"",componentSelector:r.detail?.instanceId||r.detail?.instanceIdentifier||""}),n&&t.push({componentName:"primaryButton",startTime:n.startTime,componentIdentifier:n.detail.text||n.detail.header||"",componentSelector:n.detail?.instanceId||n.detail?.instanceIdentifier||""}),t}isComponentOnPage(e){try{return!!document.querySelector(`[data-analytics-performance-mark="${e}"]`)}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitComponentReadyMetric",eventDetail:"isComponentOnPage",eventValue:e?e.toString():""})}return!1}emitComponentReadyMetric(){try{if(window&&window.performance&&"function"==typeof window.performance.getEntriesByType){const e=window.performance.getEntriesByType("mark"),t=this.getActivationStart()||0,n=this.extractMetricToReport(e);if(n.length){let e,r,a=!1;n.forEach((n=>{const{startTime:i,componentIdentifier:o,componentName:s,componentSelector:c}=n,u=this.isComponentOnPage(c);let l="";r=t;let d=i-r;if(this.isComponentReadyEmittedOnLoad?(r=this.locationChangeTime,d=i-r,l="table"===s?"transitionTimeToTableReady":"transitionTimeToPrimaryButtonReady"):l="table"===s?"timeToTableReady":"timeToPrimaryButtonReady",e=JSON.stringify({componentName:s,componentIdentifier:o,componentOnPage:u}),d>0)this.tracker.trackOperationalEvents({metricList:[{metricName:l,metricValue:d,metricDetails:e,metricUnit:"Milliseconds"}]},void 0,this.eventType),this.telemetryTracker.trackPanoramaOperationalEvent(l,d,Mr.UNIT.MILLISECONDS,null,{serviceId:this.consoleServiceId}),performance.mark(l,{detail:{metricValue:d}}),a=!0;else if(u&&this.isComponentReadyEmittedOnLoad)try{e=JSON.stringify({componentName:s,componentIdentifier:o,originalMetricValue:d}),this.tracker.trackOperationalEvents({metricList:[{metricName:l,metricValue:0,metricDetails:e,metricUnit:"Milliseconds"}]},void 0,this.eventType),this.telemetryTracker.trackPanoramaOperationalEvent(l,0,Mr.UNIT.MILLISECONDS,null,{serviceId:this.consoleServiceId}),performance.mark(l,{detail:{metricValue:0}}),a=!0,this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitComponentReadyMetric",eventDetail:"negativeTimingValue"})}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitComponentReadyMetric",eventDetail:"negativeTimingValue",eventValue:e?e.toString():""})}})),a&&(!this.isComponentReadyEmittedOnLoad&&this.updatedLocationChangeTime&&(this.locationChangeTime=this.updatedLocationChangeTime),this.isComponentReadyEmittedOnLoad=!0)}}}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitComponentReadyMetric",eventDetail:e?e.toString():""})}finally{this.removeListenersForComponentReady()}}visiblityChangeHandler(){"hidden"===document.visibilityState&&this.emitComponentReadyMetric()}addOrRemoveListeners(e=!0){e?(this.eventsToListen.forEach((e=>{addEventListener(e,this.emitComponentReadyMetric,!0)})),document.addEventListener("visibilitychange",this.visiblityChangeHandler),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.emitComponentReadyMetric()}),this.isComponentReadyEmittedOnLoad?this.transitionCutOffTimer:this.cutOffTimer)):(this.eventsToListen.forEach((e=>{removeEventListener(e,this.emitComponentReadyMetric,!0)})),document.removeEventListener("visibilitychange",this.visiblityChangeHandler),this.timerId&&clearTimeout(this.timerId))}addListenersForComponentReady(){this.addOrRemoveListeners(!0)}removeListenersForComponentReady(){this.addOrRemoveListeners(!1)}attachListenersOnLocationChange(){if(this.isComponentReadyEmittedOnLoad){this.locationChangeTime=performance.now(),this.addListenersForComponentReady();try{if(this.tracker.service&&this.iFrameConsoleList.includes(this.tracker.service)){document.querySelectorAll("iframe").forEach((e=>{e.contentWindow?.postMessage({eventId:"framePanoramaMessage",eventName:"pageTransition"},"*")}))}}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"attachListenersOnLocationChangeError",eventContext:"frameTransitionCatch",eventDetail:e?e.toString():""})}}else this.updatedLocationChangeTime=performance.now()}getNavigationStart(){return window.performance&&window.performance.timeOrigin?Math.round(performance.timeOrigin):window.performance.timing.navigationStart}getNavigationStartDelta(e){try{const t=e-this.getNavigationStart();return t>0?t:0}catch{return 0}}formattedFrameMetricName(e){return this.frameMetricNames[this.isComponentReadyEmittedOnLoad?`${e}Transition`:e]}logFrameMetric(e){try{const{frameMetaData:{id:t="",name:n="",identifier:r="",navigationStart:a=this.getNavigationStart(),activationTime:i=0,src:o=""}={},metricList:s=[]}=e;let c=!1;s.length&&(s.forEach((e=>{const{startTime:s,name:u,componentStartTime:l=s,componentEventName:d="",componentIdentifier:h="",componentOnPage:m=!1}=e;if(s&&["buttonReadiness","tableReadiness"].includes(u)){const e=this.formattedFrameMetricName(u);let p=s;const f=this.getNavigationStartDelta(a);p+=f,this.isComponentReadyEmittedOnLoad?p-=this.locationChangeTime:p-=i;const v={frameId:t,frameName:n,frameSrc:o,frameDuration:s,frameIdentifier:r,componentEventName:d,componentIdentifier:h,componentStartTime:l,navigationStart:a,locationChangeTime:this.locationChangeTime,navigationStartDelta:f};p>0?(this.tracker.trackOperationalEvents({metricList:[{metricName:e,metricValue:p,metricUnit:"Milliseconds",metricDetails:JSON.stringify(v)}]},void 0,this.eventType),this.telemetryTracker.trackPanoramaOperationalEvent(e,p,Mr.UNIT.MILLISECONDS,null,{serviceId:this.consoleServiceId}),performance.mark(e,{detail:{metricValue:p}}),c=!0):this.isComponentReadyEmittedOnLoad&&m&&(this.tracker.trackOperationalEvents({metricList:[{metricName:e,metricValue:0,metricUnit:"Milliseconds",metricDetails:JSON.stringify({...v,originalMetricValue:p})}]},void 0,this.eventType),this.telemetryTracker.trackPanoramaOperationalEvent(e,0,Mr.UNIT.MILLISECONDS,null,{serviceId:this.consoleServiceId}),performance.mark(e,{detail:{metricValue:0}}),c=!0,this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"logFrameMetric",eventDetail:"negativeTimingValue"}))}})),c&&(!this.isComponentReadyEmittedOnLoad&&this.updatedLocationChangeTime&&(this.locationChangeTime=this.updatedLocationChangeTime),this.isComponentReadyEmittedOnLoad=!0))}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"logFrameMetric",eventDetail:e?e.toString():""})}}setupFrameMessageHandlers(){addEventListener("message",(e=>{const{data:t}=e;"iFrame_Panorama_ConsoleLatency"===t?.event_id&&this.logFrameMetric(t)})),this.eventsToListen.forEach((e=>{addEventListener(e,(()=>{document.querySelectorAll("iframe").forEach((e=>{e.contentWindow?.postMessage({eventId:"framePanoramaMessage",eventName:"userInteraction"},"*")}))}),!0)}))}setup(){window.performance&&(this.enabled=!0,this.logTimeToStartExecutingConsoleAsset(),this.canExecuteComponentReady((()=>{this.addListenersForComponentReady()})),Oe("onLocationChange",this.attachListenersOnLocationChange),this.tracker.service&&this.iFrameConsoleList.includes(this.tracker.service)&&this.setupFrameMessageHandlers())}teardown(){this.enabled=!1,_e("onLocationChange",this.attachListenersOnLocationChange)}}var _s={};
/*! For license information please see shortbread-cookie-reader.js.LICENSE.txt */window,_s=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=76)}([,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ESC_REGIONS=t.CONSENT_COOKIE_CHANGED_EVENT=t.DEFAULT_DOMAIN_ESC=t.DEFAULT_TANGERINEBOX_DEV_DOMAIN=t.DEFAULT_NEW_AWS_DOMAIN=t.DEFAULT_DOMAIN=t.DEFAULT_LANGUAGE=t.ALL_ALLOWED=t.DEFAULT_COOKIE=t.DEFAULT_COOKIE_AGE=t.COOKIE_VERSION=void 0,t.COOKIE_VERSION="1",t.DEFAULT_COOKIE_AGE=31536e3,t.DEFAULT_COOKIE={essential:!0,functional:!1,performance:!1,advertising:!1},t.ALL_ALLOWED={essential:!0,functional:!0,performance:!0,advertising:!0},t.DEFAULT_LANGUAGE="en-us",t.DEFAULT_DOMAIN=".aws.amazon.com",t.DEFAULT_NEW_AWS_DOMAIN=".aws.com",t.DEFAULT_TANGERINEBOX_DEV_DOMAIN=".aws-dev.amazon.com",t.DEFAULT_DOMAIN_ESC=".amazonaws-eusc.eu",t.CONSENT_COOKIE_CHANGED_EVENT="cookie-consent-changed",t.ESC_REGIONS=["eusc-de-east-1"]},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.isESCPartition=t.isRegionInESCPartition=t.isHostnameInESCDomain=t.getRegion=t.getSessionData=t.isConsoleSession=t.isProdConsole=void 0,t.update=function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e},t.convertToArray=function(e){return Array.prototype.slice.call(e)};var i=n(37),o=n(3),s={NONPROD:/alpha|beta|gamma|integ|preprod|pre-prod|aws-dev|local/i,PROD:/aws.amazon.com|amazonaws.cn|amazonaws-us-gov.com|aws.com|amazonaws.eu/i};t.isProdConsole=function(){var e=window.location.hostname;return s.PROD.test(e)&&!s.NONPROD.test(e)},t.isConsoleSession=function(){return r(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,(0,t.getSessionData)()];case 1:return[2,!!e.sent()]}}))}))},t.getSessionData=function(){return r(void 0,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,null===(t=i.SessionDataProvider.getInstance())||void 0===t?void 0:t.getSessionData()];case 1:return[2,n.sent()];case 2:return e=n.sent(),console.error("Failed to get session data:",e),[2,void 0];case 3:return[2]}}))}))},t.getRegion=function(){return r(void 0,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,(0,t.getSessionData)()];case 1:return[2,(null==(e=n.sent())?void 0:e.infrastructureRegion)?e.infrastructureRegion:void 0]}}))}))},t.isHostnameInESCDomain=function(){return window.location.hostname.endsWith(o.DEFAULT_DOMAIN_ESC)},t.isRegionInESCPartition=function(){return r(void 0,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,(0,t.getRegion)()];case 1:return[2,!(!(e=n.sent())||!o.ESC_REGIONS.includes(e))]}}))}))},t.isESCPartition=function(){return r(void 0,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return(e=(0,t.isHostnameInESCDomain)())?[3,2]:[4,(0,t.isRegionInESCPartition)()];case 1:e=n.sent(),n.label=2;case 2:return[2,e]}}))}))}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshCredentialError=t.InvalidCredentialsError=t.MetaTagParsingError=t.TelemetryBrokerNotAvailableError=t.FailureRequestError=t.TerminalRequestError=t.TangerineBoxError=void 0;var i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.originalError=n,r.name=r.constructor.name,n&&(r.stack+="\nCaused by: "+n.stack),r}return a(t,e),t}(Error);t.TangerineBoxError=i;var o=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.metadata=n,r}return a(t,e),t}(i);t.TerminalRequestError=o;var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.metadata=n,r}return a(t,e),t}(i);t.FailureRequestError=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i);t.TelemetryBrokerNotAvailableError=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i);t.MetaTagParsingError=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i);t.InvalidCredentialsError=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i);t.RefreshCredentialError=d},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataParser=void 0;var i=n(5),o=n(13),s=function(){function e(e){this.windowWithTelemetryBroker=this.findWindowWithTelemetryBroker(),this.metaTagContentCache=e,this.sessionDataCache=this.parseSessionDataMetaTag(this.windowWithTelemetryBroker)}return e.getInstance=function(t){return this.metaDataProviderInstance||(this.metaDataProviderInstance=new e(t)),this.metaDataProviderInstance},e.prototype.getTelemetryBrokerWindow=function(){return this.windowWithTelemetryBroker},e.prototype.getMetaTagContent=function(){return this.metaTagContentCache||(this.metaTagContentCache=this.parseTangerineBoxMetaTag()),this.metaTagContentCache},e.prototype.getTelemetryMetaTagContent=function(){return this.telemetryMetaTagContentCache||(this.telemetryMetaTagContentCache=this.parseTangerineBoxTelemetryMetaTag()),this.telemetryMetaTagContentCache},e.prototype.getCredentialsConfig=function(){return{browserCredsFullPath:this.getMetaTagContent().browserCredsFullPath,csrfToken:this.getMetaTagContent().csrfToken}},e.prototype.parseTangerineBoxMetaTag=function(){var e=this.parseMetaTag("tb-data");if(!e)throw new i.MetaTagParsingError("TangerineBox meta tag not found");try{return JSON.parse(e)}catch(e){throw new i.MetaTagParsingError("Unable to parse TangerineBox meta tag contents",e instanceof Error?e:new Error(String(e)))}},e.prototype.parseTangerineBoxTelemetryMetaTag=function(){var e=this.parseMetaTag("tbt-data");if(!e)throw new i.MetaTagParsingError("TangerineBox Telemetry meta tag not found");try{return JSON.parse(e)}catch(e){throw new i.MetaTagParsingError("Unable to parse TangerineBox Telemetry meta tag contents",e instanceof Error?e:new Error(String(e)))}},e.prototype.parseMetaTag=function(e,t){var n=(t?t.document:document).querySelector("meta[name='".concat(e,"']"));if(n)return n.content},e.prototype.parseCookie=function(e,t){void 0===t&&(t=document.cookie);var n=t.match("".concat(e,"=([^;]*)"));if(n&&n[1])return n[1]},e.prototype.triggerLoggedOutDialog=function(){var e,t=void 0!==this.parseMetaTag("awsc-widget-nav")||void 0!==this.parseMetaTag("awsc-widget-next"),n=null!==(e=this.windowWithTelemetryBroker)&&void 0!==e?e:window;void 0!==n&&(t?n.dispatchEvent(this.createCustomEvent("auth-change-detected")):n.AWSC&&"function"==typeof this.windowWithTelemetryBroker.AWSC.jQuery&&n.AWSC.jQuery(n.AWSC).trigger("auth-change-detected"))},e.prototype.createCustomEvent=function(e){if("undefined"!=typeof window&&"function"==typeof window.CustomEvent)return new CustomEvent(e);var t={bubbles:!1,cancelable:!1,detail:null},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},e.prototype.parseSessionDataMetaTag=function(e){var t=this.parseMetaTag("awsc-session-data",e);if(!t)throw new i.MetaTagParsingError("Session data meta tag not found");try{return JSON.parse(t)}catch(e){throw new i.MetaTagParsingError("Unable to parse session data meta tag content",e instanceof Error?e:new Error(String(e)))}},e.prototype.getSessionDataValue=function(e){return r(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.sessionDataCache[e]]}))}))},e.prototype.getLogoutDetectionCookieName=function(){if(this.isPrismModeEnabled()){if(!this.sessionDataCache.sessionDifferentiator)throw new i.MetaTagParsingError("sessionDifferentiator is not found in prism mode");return e=this.sessionDataCache.sessionDifferentiator,"".concat("__Secure-aws-session-id","-").concat(e)}var e;return"aws-userInfo"},e.prototype.isPrismModeEnabled=function(){var e=this.getMetaTagContent().prismModeEnabled;return"boolean"==typeof e?e:!!this.sessionDataCache.prismModeEnabled},e.prototype.findWindowWithTelemetryBroker=function(){for(var e=window;;){if(e[o.TELEMETRY_BROKER_PROPERTY_NAME])return e;if(e===e.parent)return;e=e.parent}},e}();t.DataParser=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNIT=t.TELEMETRY_TOKEN=t.METRICS=void 0,t.METRICS={BANNER_CHECK:"checkForCookieConsent",BANNER_SHOW:"bannerShown",UI_MOUNTED:"uiMounted",CLICK_ACCEPT_ON_BANNER:"acceptAll",CLICK_DECLINE_ON_BANNER:"decline",SAVE_CUSTOMISED_COOKIE:"customize",CANCEL_CUSTOMISED_COOKIE:"cancel",MANNUAL_OPEN_PREFERENCE_MODAL:"customizeCookies",CHECK_GEOLOCATION_SUCCESS:"geolocationLatency",SAVED_COOKIE:"SaveConsentClicked"},t.TELEMETRY_TOKEN={AWS:{PROD:"v1/9f5686a423270882693358982d9633c38dce8ce8a428936aa03c6ae420d332ce",GAMMA:"v1/e79f94465ef88edeff2eca4a76f97feaceb56490c3b06e8b0eacca1598958fab",BETA:"v1/f98974f7e8c3e20c9a3d2869bfb3414cf1a377d5f970cb6b4488ccc353dc9ecc"},ESC:{PROD:"v1/6faf86d25ce66c45fe623b16fd3667452a74cc9672bc0187d5fdf4e21179c5e7",GAMMA:"v1/d0bcac4b35cdea524008a1d4feb0028df4642ae069c38660cc52cdf7c1ef47e9",BETA:"v1/55f340570ba892f208aabda2c6e37c2877bc897c0d169f2b71cb880849b39135"}},t.UNIT={COUNT:"count",MILLISECONDS:"milliseconds"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.validateConfiguration=s,t.getConsentCookie=function(e,t){void 0===e&&(e=function(){return document.cookie});var n=c(e(),t);if(n)return{essential:n.essential,performance:n.performance,functional:n.functional,advertising:n.advertising}},t.getId=u,t.setConsentCookie=function(e,t,n,c,d,h,m,p,f){void 0===n&&(n=i.DEFAULT_COOKIE_AGE),void 0===c&&(c=a.default),void 0===d&&(d=l),void 0===h&&(h=s),void 0===t&&(t=(0,o.isHostnameInESCDomain)()?i.DEFAULT_DOMAIN_ESC:i.DEFAULT_DOMAIN),h({domain:t,log:m},"customize");var v,g=u()||c(m,p,f),w=r(r({},e),{id:g,version:i.COOKIE_VERSION}),y={e:(v=w).essential?1:0,p:v.performance?1:0,f:v.functional?1:0,a:v.advertising?1:0,i:v.id,v:v.version};return d("awsccc=".concat(btoa(JSON.stringify(y)),"; domain=").concat(t,"; path=/; max-age=").concat(n,"; secure=true; SameSite=Lax")),w};var a=n(16),i=n(3),o=n(4);function s(e,t){var n=e.domain,r=void 0===n?i.DEFAULT_DOMAIN:n,a=e.log,o=function(e){return"."===e.charAt(0)&&(e=e.slice(1)),e}(r),s=window.location.hostname;return!!s.endsWith(o)||((a?a("error"):function(){})("domainMismatch",{detail:"Domain mismatch",source:t,configuredDomain:r,actualDomain:s}),console.error("Shortbread failed to set user's cookie preference because the domain name that was passed in does not match the hostname of the application. \n        Configured domain: ".concat(r,".\n        Actual domain: ").concat(s,".\n        As a fallback, Shortbread is only allowing 'essential' cookies to be used.")),!1)}function c(e,t){var n,r,a=e.match("(^|;)\\s*awsccc\\s*=\\s*([^;]+)"),i=t?t("error"):function(){};if(a&&a.length>0)try{var o=JSON.parse(atob(a[a.length-1]));return 1===(r=o).e&&"number"==typeof r.p&&"number"==typeof r.f&&"number"==typeof r.a&&"string"==typeof r.i&&"string"==typeof r.v?{essential:1===(n=o).e,performance:1===n.p,functional:1===n.f,advertising:1===n.a,id:n.i,version:n.v}:void i("getCookie",{detail:"Cookie format is not valid",cookie:o})}catch(e){return void i("getCookie",{detail:"Error parsing cookie",cookie:a[a.length-1]})}}function u(e){void 0===e&&(e=function(){return document.cookie});var t=c(e());if(t&&t.id)return t.id}function l(e){document.cookie=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTBREAD_VERSION=t.COMMIT_HASH=void 0,t.COMMIT_HASH="cf1152489808ec3ae17b8939f12f6b6dfcb2e3af",t.SHORTBREAD_VERSION="1.0.14.2"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_CONFIG_MISSING_MSG=void 0,t.TELEMETRY_CONFIG_MISSING_MSG="[TangerineBox] Telemetry configuration is missing, events will not be emitted"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetaDataProvider=t.TenantTracker=t.ScheduledEventTracker=t.BrowserCredentials=void 0;var r=n(25);Object.defineProperty(t,"BrowserCredentials",{enumerable:!0,get:function(){return r.BrowserCredentials}});var a=n(14);Object.defineProperty(t,"ScheduledEventTracker",{enumerable:!0,get:function(){return a.ScheduledEventTracker}});var i=n(29);Object.defineProperty(t,"TenantTracker",{enumerable:!0,get:function(){return i.TenantTracker}});var o=n(30);Object.defineProperty(t,"MetaDataProvider",{enumerable:!0,get:function(){return o.MetaDataProvider}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_BROKER_PROPERTY_NAME=void 0,t.TELEMETRY_BROKER_PROPERTY_NAME="_internal_tb_telemetry_broker"},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduledEventTracker=void 0;var a=n(6),i=n(15),o=n(28),s=n(5),c=function(){function e(e,t){this.props=e;var n=function(){var e=t.tokensForPublicEvents;if(void 0!==e)return e;var n=t.parentToken;return void 0!==n?[n]:void 0}();this.id=this.props.broker.register({source:"weblib-v2",telemetryToken:t.token,telemetryTokensForPublicEvents:n})}return e.getInstance=function(t){var n=null!=t?t:{token:a.DataParser.getInstance().getTelemetryMetaTagContent().telemetryToken},r=a.DataParser.getInstance().getTelemetryBrokerWindow();if(void 0===r)throw new s.TelemetryBrokerNotAvailableError("Telemetry broker not found");return new e({broker:new i.BrokerWrapper(r)},n)},e.prototype.addEvent=function(e,t){var n={type:"log",content:e,version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:n},t))},e.prototype.addError=function(e,t,n){var a={type:"error",content:r({error:e},t),version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addFatalError=function(e,t,n,a){var i={type:"fatal-error",content:r({error:e},t),fatalErrorMetadata:n,version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:i},a))},e.prototype.addAwsSdkEvent=function(e,t){var n={type:"aws-sdk-metric",awsSdkMetric:e,content:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:n},t))},e.prototype.addFmsEvaluationEvent=function(e,t,n){var a={type:"fms-evaluation",fmsEvaluation:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addAwsArachnidQueryEvent=function(e,t,n){var a={type:"aws-arachnid-query",awsArachnidQuery:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addAwsArachnidCredentialEvent=function(e,t,n){var a={type:"aws-arachnid-credential",awsArachnidCredential:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addJanusApiEvent=function(e,t,n){var a={type:"janus-api",janusApi:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addJanusCredentialEvent=function(e,t,n){var a={type:"janus-credential",janusCredential:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addLotusCspEvent=function(e,t,n){var a={type:"lotus-csp",lotusCsp:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addLotusIsolatedIFrameEvent=function(e,t,n){var a={type:"lotus-isolated-iframe",lotusIsolatedIFrame:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addLotusImportPackageEvent=function(e,t,n){var a={type:"lotus-import-package",lotusImportPackage:e.lotusImportPackage,lotusMetadata:e.lotusMetadata,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addModuleLifecycleEvent=function(e,t,n){var a={type:"module-lifecycle",moduleLifecycle:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addCloudEditorEvent=function(e,t,n){var a={type:"cloud-editor",cloudEditor:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addCloudEditorLspEvent=function(e,t,n){var a={type:"cloud-editor-lsp",cloudEditorLsp:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addPapiProxyEvent=function(e,t,n){var a={type:"papi-proxy",papiProxy:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addPapiCredentialEvent=function(e,t,n){var a={type:"papi-credential",papiCredential:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.addBootstrapEvent=function(e,t,n){var a={type:"tb-bootstrap",tbBootstrap:e,content:null!=t?t:{},version:o.PACKAGE_VERSION,timestamp:new Date};this.props.broker.addEvent(r({tenantId:this.id,event:a},n))},e.prototype.dangerouslyFlushEvents=function(){this.props.broker.dangerouslyFlushEvents()},e}();t.ScheduledEventTracker=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrokerWrapper=void 0;var r=n(13),a=function(){function e(e){this.telemetryBroker=e[r.TELEMETRY_BROKER_PROPERTY_NAME]}return e.prototype.register=function(e){return this.telemetryBroker.register(e)},e.prototype.addEvent=function(e){this.telemetryBroker.addEvent(e)},e.prototype.dangerouslyFlushEvents=function(){this.telemetryBroker.dangerouslyFlushEvents()},e.prototype.registerTenant=function(e,t){var n,r;null===(r=(n=this.telemetryBroker).registerTenant)||void 0===r||r.call(n,e,t)},e.prototype.getTenants=function(){return this.telemetryBroker.getTenants?this.telemetryBroker.getTenants():{hash:"",tenants:[]}},e}();t.BrokerWrapper=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);t.default=function(e,t,n){void 0===t&&(t=r.v4),void 0===n&&(n=function(){return"ts-".concat(Date.now().toString())});var a=e?e("error"):function(){};try{return t()}catch(e){return a("uuid",{detail:"Error generating UUID",errorMessage:e.message||""}),n()}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOGGER=t.createLogger=t.DEFAULT_CONSOLE_INTEGRATION_FALLBACK_LOGGER_PIXEL_URL=t.DEFAULT_CONSOLE_INTEGRATION_LOGGER_PIXEL_URL=t.DEFAULT_LOGGER_PIXEL_URL=void 0;var o=n(10),s=n(8),c=n(22),u=n(4);t.DEFAULT_LOGGER_PIXEL_URL="https://prod.log.shortbread.aws.dev/1x1.png",t.DEFAULT_CONSOLE_INTEGRATION_LOGGER_PIXEL_URL="https://prod.log.shortbread.console.api.aws/1x1.png",t.DEFAULT_CONSOLE_INTEGRATION_FALLBACK_LOGGER_PIXEL_URL="https://prod.log.shortbread.analytics.console.aws.a2z.com/1x1.png";var l=function(e,t,n,r){return a(void 0,void 0,void 0,(function(){var a;return i(this,(function(i){switch(i.label){case 0:return[4,(0,u.isESCPartition)()];case 1:if(i.sent())return[2];try{(a=new XMLHttpRequest).onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<300?r&&r():n&&n())},a.ontimeout=function(){n&&n()},a.onerror=function(){n&&n()},a.open("HEAD",e),a.timeout=t,a.send()}catch(e){console.log("Error attempting to post a log message: {e}"),n&&n()}return[2]}}))}))},d=function(e,t,n,a){void 0===a&&(a={});var i=r({timestamp:Date.now(),logVersion:"1",domain:window.location.host,url:window.location.href,shortbreadCommit:o.SHORTBREAD_VERSION||"dev"},a);return e+"?"+"severity=".concat(encodeURIComponent(t),"&message=").concat(encodeURIComponent(n),"&payload=").concat(encodeURIComponent(JSON.stringify(i)))};t.createLogger=function(e){var n=e.baseUrl,r=void 0===n?t.DEFAULT_LOGGER_PIXEL_URL:n,a=e.timeout,i=void 0===a?5e3:a,o=e.onFail,s=e.onSuccess;return function(e){return function(n,a){void 0===a&&(a={});var c=d(r,e,n,a);h(e,n,a),l(c,i,(function(){if(r!==t.DEFAULT_LOGGER_PIXEL_URL){var c=d(t.DEFAULT_CONSOLE_INTEGRATION_FALLBACK_LOGGER_PIXEL_URL,e,n,a);l(c,i,(function(){o&&o()}),(function(){s&&s(c)}))}}),(function(){s&&s(c)}))}}};var h=function(e,t,n){var r="error"===e?new Error(t):void 0,a=s.UNIT.COUNT,i=1;t.includes("geolocationLatency")&&(a=s.UNIT.MILLISECONDS,i=n.latency),(0,c.trackEvent)({metric:t,value:i,unit:a,error:r,details:JSON.stringify(n)})};t.DEFAULT_LOGGER=(0,t.createLogger)({baseUrl:t.DEFAULT_LOGGER_PIXEL_URL}),t.default=t.createLogger},,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=void 0;var i=n(8),o=n(23),s=n(4),c=n(10);t.trackEvent=function(e){return r(void 0,void 0,void 0,(function(){var t,n,u,l,d,h,m,p;return a(this,(function(f){switch(f.label){case 0:return[4,(0,s.isConsoleSession)()];case 1:if(!f.sent())return[2];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,r(void 0,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,s.isESCPartition)()];case 1:return e=a.sent(),t=(0,s.isProdConsole)(),n=e?t?i.TELEMETRY_TOKEN.ESC.PROD:i.TELEMETRY_TOKEN.ESC.GAMMA:t?i.TELEMETRY_TOKEN.AWS.PROD:i.TELEMETRY_TOKEN.AWS.GAMMA,[2,o.TangerineBoxEventTrackerForWidget.getInstance({token:n})];case 2:return r=a.sent(),console.error("Failed to get tracker instance:",r),[2,null];case 3:return[2]}}))}))];case 3:return(t=f.sent())?(n=e.metric,u=e.value,l=e.unit,d=e.error,h=e.details,m=h?"".concat(h,", shortbreadVersion: ").concat(c.SHORTBREAD_VERSION):"shortbreadVersion: ".concat(c.SHORTBREAD_VERSION),null!=d?t.addError(d,{metric:n,value:u,unit:l,details:m}):t.addEvent({metric:n,value:u,unit:l,details:m}),[3,5]):[2];case 4:return p=f.sent(),console.log("Failed to track event.",p),[3,5];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TangerineBoxEventTrackerForWidget=t.TangerineBoxEventTrackerForLibrary=void 0;var r=n(24);Object.defineProperty(t,"TangerineBoxEventTrackerForLibrary",{enumerable:!0,get:function(){return r.TangerineBoxEventTrackerForLibrary}});var a=n(33);Object.defineProperty(t,"TangerineBoxEventTrackerForWidget",{enumerable:!0,get:function(){return a.TangerineBoxEventTrackerForWidget}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpTrackerForLibrary=t.TangerineBoxEventTrackerForLibrary=void 0;var r=n(11),a=n(12),i=function(){function e(e){this.scheduledEventTracker=e}return e.getInstance=function(t){try{return new e(a.ScheduledEventTracker.getInstance(t))}catch(e){return console.warn(r.TELEMETRY_CONFIG_MISSING_MSG),new o}},e.prototype.addEvent=function(e){this.scheduledEventTracker.addEvent(e,{publicEvent:!1})},e.prototype.addError=function(e,t,n){this.scheduledEventTracker.addError(e,t,n)},e.prototype.addFatalError=function(e,t,n,r){this.scheduledEventTracker.addFatalError(e,t,n,r)},e.prototype.addFmsEvaluationEvent=function(e,t,n){this.scheduledEventTracker.addFmsEvaluationEvent(e,t,n)},e.prototype.addAwsArachnidQueryEvent=function(e,t,n){this.scheduledEventTracker.addAwsArachnidQueryEvent(e,t,n)},e.prototype.addAwsArachnidCredentialEvent=function(e,t,n){this.scheduledEventTracker.addAwsArachnidCredentialEvent(e,t,n)},e.prototype.addJanusApiEvent=function(e,t,n){this.scheduledEventTracker.addJanusApiEvent(e,t,n)},e.prototype.addJanusCredentialEvent=function(e,t,n){this.scheduledEventTracker.addJanusCredentialEvent(e,t,n)},e.prototype.addLotusCspEvent=function(e,t,n){this.scheduledEventTracker.addLotusCspEvent(e,t,n)},e.prototype.addLotusIsolatedIFrameEvent=function(e,t,n){this.scheduledEventTracker.addLotusIsolatedIFrameEvent(e,t,n)},e.prototype.addLotusImportPackageEvent=function(e,t,n){this.scheduledEventTracker.addLotusImportPackageEvent(e,t,n)},e.prototype.addModuleLifecycleEvent=function(e,t,n){this.scheduledEventTracker.addModuleLifecycleEvent(e,t,n)},e.prototype.addCloudEditorEvent=function(e,t,n){this.scheduledEventTracker.addCloudEditorEvent(e,t,n)},e.prototype.addCloudEditorLspEvent=function(e,t,n){this.scheduledEventTracker.addCloudEditorLspEvent(e,t,n)},e.prototype.addPapiProxyEvent=function(e,t,n){this.scheduledEventTracker.addPapiProxyEvent(e,t,n)},e.prototype.addPapiCredentialEvent=function(e,t,n){this.scheduledEventTracker.addPapiCredentialEvent(e,t,n)},e.prototype.addBootstrapEvent=function(e,t,n){this.scheduledEventTracker.addBootstrapEvent(e,t,n)},e}();t.TangerineBoxEventTrackerForLibrary=i;var o=function(){function e(){}return e.prototype.addEvent=function(e,t){},e.prototype.addError=function(e,t,n){},e.prototype.addFatalError=function(e,t,n,r){},e.prototype.addFmsEvaluationEvent=function(e,t,n){},e.prototype.addAwsArachnidQueryEvent=function(e,t,n){},e.prototype.addAwsArachnidCredentialEvent=function(e,t,n){},e.prototype.addJanusApiEvent=function(e,t,n){},e.prototype.addJanusCredentialEvent=function(e,t,n){},e.prototype.addLotusCspEvent=function(e,t,n){},e.prototype.addLotusIsolatedIFrameEvent=function(e,t,n){},e.prototype.addLotusImportPackageEvent=function(e,t,n){},e.prototype.addModuleLifecycleEvent=function(e,t,n){},e.prototype.addCloudEditorEvent=function(e,t,n){},e.prototype.addCloudEditorLspEvent=function(e,t,n){},e.prototype.addPapiCredentialEvent=function(e,t,n){},e.prototype.addPapiProxyEvent=function(e,t,n){},e.prototype.addBootstrapEvent=function(e,t,n){},e}();t.NoOpTrackerForLibrary=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCredentials=void 0;var o,s,c=n(26),u=n(27),l=n(5),d=n(6),h=n(14),m=function(){function e(e,t,n,r,a){var i=this;this.isLoggedOut=!1,this.loggedOutMessage="User Logged Out",this.dataParser=a,this.credentialsConfig=e,this.eventTracker=n,this.httpClient=t,this.cookieObserver=r,this.addLogoutListener((function(){i.isLoggedOut=!0,o&&(o.accessKeyId="",o.secretAccessKey="",o.sessionToken="",o.expiration=new Date(0))}))}return e.getInstance=function(){if(!this.browserCredentialsInstance){var t=d.DataParser.getInstance(),n=void 0;try{n=h.ScheduledEventTracker.getInstance()}catch(e){console.error("BrowserCredentials cannot instantiate ScheduledEventTracker",e)}var r=t.getCredentialsConfig(),a=new c.HttpClient;this.browserCredentialsInstance=new e(r,a,n,new u.CookieObserver(t.getLogoutDetectionCookieName()),t)}return this.browserCredentialsInstance},e.prototype.getCredentials=function(){return a(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(this.isLoggedOut)throw new l.RefreshCredentialError(this.loggedOutMessage);if((null==o?void 0:o.expiration)&&new Date(o.expiration).getTime()-Date.now()>3e5)return[2,o];s||(s=this.requestCredentials()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,s];case 2:return e=t.sent(),[2,o=e];case 3:return s=void 0,[7];case 4:return[2]}}))}))},e.prototype.requestCredentials=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:e={url:this.credentialsConfig.browserCredsFullPath,method:"POST",headers:{"x-csrf-token":this.credentialsConfig.csrfToken},timeout:5e3,timeoutIncreasePerRetry:1e3,maxRetries:4},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.httpClient.call(e)];case 2:return t=i.sent(),[3,4];case 3:throw n=i.sent(),this.emitClientErrorEvent(n),new l.RefreshCredentialError("Fail to request credentials",n);case 4:if(this.emitClientResponseEvent(t),!(t.finalHttpStatusCode>=200&&t.finalHttpStatusCode<300)){if([401,403].includes(t.finalHttpStatusCode))throw r=401===t.finalHttpStatusCode?"Unauthorized":"InvalidCsrfTokenError",this.dataParser.triggerLoggedOutDialog(),this.cookieObserver.getCookieListener().forEach((function(e){return e()})),this.loggedOutMessage="".concat(r,": Session is invalid"),new l.RefreshCredentialError(this.loggedOutMessage);a=void 0;try{a=JSON.parse(t.data.toString()).error}catch(e){a="HTTP status code ".concat(t.finalHttpStatusCode)}throw new l.RefreshCredentialError(a)}return this.validate(t.data),[2,t.data]}}))}))},e.prototype.validate=function(e){for(var t=0,n=["accessKeyId","secretAccessKey","sessionToken"];t<n.length;t++){var r=n[t];if(!e[r])throw new l.InvalidCredentialsError('Invalid credentials, missing property: "'.concat(r,'"'))}},e.prototype.addLogoutListener=function(e){this.cookieObserver.addChangeListener(e)},e.prototype.emitClientErrorEvent=function(e){var t,n={attemptCount:1+e.metadata.retries,latencyMillseconds:e.metadata.latencyMillseconds,maxRetriesExceeded:e.metadata.maxRetriesExceeded,finalRequestId:e.metadata.finalRequestId,startTimestamp:e.metadata.startTimestamp,finalSdkException:e.metadata.code,finalSdkExceptionMessage:e.message,operation:"RefreshCredentials",service:"TangerineBox",region:""};null===(t=this.eventTracker)||void 0===t||t.addAwsSdkEvent(n)},e.prototype.emitClientResponseEvent=function(e){var t,n={attemptCount:1+e.retries,finalHttpStatusCode:e.finalHttpStatusCode,finalRequestId:e.finalRequestId,latencyMillseconds:e.latencyMillseconds,maxRetriesExceeded:e.maxRetriesExceeded,startTimestamp:e.startTimestamp,operation:"RefreshCredentials",service:"TangerineBox",region:""};e.finalHttpStatusCode>=400&&(n=r({finalSdkException:"RequestFailed",finalSdkExceptionMessage:"Request failed with status code ".concat(e.finalHttpStatusCode),finalHttpStatusCode:e.finalHttpStatusCode},n)),null===(t=this.eventTracker)||void 0===t||t.addAwsSdkEvent(n)},e}();t.BrowserCredentials=m},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.MAX_RETRIES=void 0;var o=n(5);t.MAX_RETRIES=4;var s=function(e){return Math.random()*Math.min(10,Math.pow(2,e))*100},c=function(){function e(e){this.jsonReplacer=e}return e.prototype.call=function(e){var n,r,c;return a(this,void 0,void 0,(function(){var a,u,l,d,h;return i(this,(function(i){switch(i.label){case 0:a=new Date,l=0,i.label=1;case 1:return l<=(null!==(n=e.maxRetries)&&void 0!==n?n:t.MAX_RETRIES)?l?[4,(p=s(l),new Promise((function(e){return setTimeout(e,p)})))]:[3,3]:[3,7];case 2:i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.callWithFetch(e,l)];case 4:return d=i.sent(),u=d.requestId,(m=d.status)>=500||429===m?[3,6]:[2,{finalHttpStatusCode:d.status,finalRequestId:u,data:d.data,retries:l,startTimestamp:a,latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!1}];case 5:if(h=i.sent(),l>=(null!==(r=e.maxRetries)&&void 0!==r?r:t.MAX_RETRIES)&&h instanceof Error)throw new o.TerminalRequestError(h.message,{finalHttpStatusCode:500,finalRequestId:u,retries:l,code:h.metadata.code,startTimestamp:a,latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!0});return[3,6];case 6:return l++,[3,1];case 7:throw new o.TerminalRequestError("Too many retries",{finalHttpStatusCode:500,finalRequestId:u,retries:null!==(c=e.maxRetries)&&void 0!==c?c:t.MAX_RETRIES,startTimestamp:a,code:"MaxRetriesExceeded",latencyMillseconds:(new Date).getTime()-a.getTime(),maxRetriesExceeded:!0})}var m,p}))}))},e.prototype.callWithFetch=function(e,t){var n,s,c;return a(this,void 0,void 0,(function(){var a,u,l,d,h,m;return i(this,(function(i){switch(i.label){case 0:a={method:e.method,headers:r({"X-Retries":"".concat(t)},e.headers),keepalive:!0},void 0!==e.timeout&&e.timeout>0&&(u=new AbortController,setTimeout((function(){return u.abort()}),e.timeout+t*(e.timeoutIncreasePerRetry||0)),a.signal=u.signal),"GET"!==e.method.toUpperCase()&&(a.body=this.createBody(e)),i.label=1;case 1:return i.trys.push([1,7,,8]),[4,fetch(e.url,a)];case 2:return l=i.sent(),d=null!==(s=null===(n=null==l?void 0:l.headers)||void 0===n?void 0:n.get("X-Amzn-Requestid"))&&void 0!==s?s:void 0,(h=null===(c=null==l?void 0:l.headers)||void 0===c?void 0:c.get("Content-Type"))&&/application\/json/.test(h)?[4,l.json()]:[3,4];case 3:return[2,{data:i.sent(),retries:t,status:l.status,requestId:d}];case 4:return[4,l.text()];case 5:return[2,{data:i.sent(),retries:t,status:l.status,requestId:d}];case 6:return[3,8];case 7:throw(m=i.sent())instanceof Error&&"AbortError"===m.name?new o.FailureRequestError("Request timeout",{code:"RequestTimeout",finalHttpStatusCode:500,retries:t}):new o.FailureRequestError("Request encountered an error",{code:"RequestFailed",finalHttpStatusCode:500,retries:t});case 8:return[2]}}))}))},e.prototype.createBody=function(e){var t=e.data;return t?"string"==typeof t?t:"object"==typeof t?JSON.stringify(t,this.jsonReplacer):String(t):null},e}();t.HttpClient=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookieObserver=void 0;var r=n(6),a=function(){function e(e,t,n){void 0===t&&(t=2e3),this.cookieName=e,this.listeners=[],this.dataParser=null!=n?n:r.DataParser.getInstance(),this.lastSeenCookieValue=this.dataParser.parseCookie(e),setInterval(this.poll.bind(this),t)}return e.prototype.addChangeListener=function(e){this.listeners.push(e)},e.prototype.poll=function(){var e=this.dataParser.parseCookie(this.cookieName);this.lastSeenCookieValue!==e&&this.getCookieListener().forEach((function(e){return e()})),this.lastSeenCookieValue=e},e.prototype.getCookieListener=function(){return this.listeners},e}();t.CookieObserver=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKAGE_VERSION=void 0,t.PACKAGE_VERSION="2.0.188287.0#be4f5427"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TenantTracker=void 0;var r=n(6),a=n(5),i=n(15),o=function(){function e(){}return e.registerTenant=function(e,t){this.getBrokerWrapper().registerTenant(e,t)},e.getTenants=function(){return this.getBrokerWrapper().getTenants()},e.getBrokerWrapper=function(){if(this.brokerWrapper)return this.brokerWrapper;var e=r.DataParser.getInstance().getTelemetryBrokerWindow();if(void 0===e)throw new a.TelemetryBrokerNotAvailableError("Telemetry broker not found");return this.brokerWrapper=new i.BrokerWrapper(e),this.brokerWrapper},e}();t.TenantTracker=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetaDataProvider=void 0;var i=n(6),o=n(31),s=function(){function e(e){this.dataParser=e}return e.getInstance=function(){return this.metaDataProviderInstance||(this.metaDataProviderInstance=new e(i.DataParser.getInstance())),this.metaDataProviderInstance},e.prototype.getCdnUrl=function(e){return/^(http|https|ws|wss):\/\//.test(e)?e:"".concat(this.dataParser.getMetaTagContent().cdn).concat(e)},e.prototype.getCustomContext=function(e){return this.dataParser.getMetaTagContent().custom[e]},e.prototype.getAssetUrl=function(e,t){var n=this.getCustomContext(e)+"/".concat(t);return this.getCdnUrl(n)},e.prototype.getConsoleTelemetryToken=function(){return this.dataParser.getTelemetryMetaTagContent().telemetryToken},e.prototype.getSessionARN=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionARN")]}))}))},e.prototype.getAccountId=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("accountId")]}))}))},e.prototype.getIdentityToken=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("identityToken")]}))}))},e.prototype.getSessionId=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionId")]}))}))},e.prototype.getInfrastructureRegion=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("infrastructureRegion")]}))}))},e.prototype.getVpc=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("vpc")]}))}))},e.prototype.getAccountAlias=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("accountAlias")]}))}))},e.prototype.getDisplayName=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("displayName")]}))}))},e.prototype.getSessionDifferentiator=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.dataParser.getSessionDataValue("sessionDifferentiator")]}))}))},e.prototype.isMultiSessionEnabled=function(){return r(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.dataParser.getSessionDataValue("prismModeEnabled")];case 1:return[2,!!e.sent()]}}))}))},e.prototype.getCustomServiceEndpoint=function(e){var t=this.dataParser.getMetaTagContent().endpoints;return t?t["CUSTOM_".concat(e)]:void 0},e.prototype.getHelpPanelApiEndpoint=function(){return(this.dataParser.getMetaTagContent().endpoints||{}).STANDARD_HelpPanelAPI},e.prototype.getHelpPanelApiFallbackEndpoint=function(){return(this.dataParser.getMetaTagContent().endpoints||{}).STANDARD_HelpPanelAPI_Fallback},e.prototype.getIamAdminStandardConfig=function(){var e=(this.dataParser.getMetaTagContent().endpoints||{}).STANDARD_iamadmin,t=this.getCustomContext("STANDARD_iamadmin_signing_region");if(e&&t)return{region:t,endpoint:e}},e.prototype.getUserPreferenceServiceEndpoint=function(){return r(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(a){switch(a.label){case 0:return[4,this.dataParser.getSessionDataValue("dualstackEnabledDomain")];case 1:return e=a.sent(),[4,this.getInfrastructureRegion()];case 2:return t=a.sent(),n=(0,o.ripRegion)(t),r=e?n.websiteDomainDualstack:n.websiteDomain,[2,"https://".concat(t,".console.").concat(r,"/p/pref/1")]}}))}))},e}();t.MetaDataProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripRegion=void 0;var r=n(32);t.ripRegion=function(e){return r[e]}},function(e){e.exports=JSON.parse('{"ap-southeast-6":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isof-south-1":{"websiteDomain":"csphome.hci.ic.gov","websiteDomainDualstack":"awshome.hci.ic.gov"},"us-iso-west-1":{"websiteDomain":"c2shome.ic.gov","websiteDomainDualstack":"awshome.ic.gov"},"eu-north-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"me-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"cn-north-1":{"websiteDomain":"amazonaws.cn","websiteDomainDualstack":"amazonwebservices.cn"},"ap-southeast-7":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-west-3":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-3":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-east-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"af-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-iso-east-1":{"websiteDomain":"c2shome.ic.gov","websiteDomainDualstack":"awshome.ic.gov"},"eu-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"me-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isob-west-1":{"websiteDomain":"sc2shome.sgov.gov","websiteDomainDualstack":"awshome.scloud"},"eu-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"sa-east-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-east-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-south-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-east-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-northeast-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-northeast-3":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-5":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isob-east-1":{"websiteDomain":"sc2shome.sgov.gov","websiteDomainDualstack":"awshome.scloud"},"eu-west-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-isof-east-1":{"websiteDomain":"csphome.hci.ic.gov","websiteDomainDualstack":"awshome.hci.ic.gov"},"us-northeast-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-4":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-south-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-isoe-west-1":{"websiteDomain":"csphome.adc-e.uk","websiteDomainDualstack":"awshome.adc-e.uk"},"ap-northeast-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-gov-east-1":{"websiteDomain":"amazonaws-us-gov.com","websiteDomainDualstack":"aws-us-gov.com"},"us-gov-west-1":{"websiteDomain":"amazonaws-us-gov.com","websiteDomainDualstack":"aws-us-gov.com"},"us-west-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"mx-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"me-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"sa-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"us-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-southeast-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eusc-de-east-1":{"websiteDomain":"amazonaws-eusc.eu","websiteDomainDualstack":"aws.eu"},"il-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ap-east-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ca-central-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"ca-west-1":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"eu-south-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"},"cn-northwest-1":{"websiteDomain":"amazonaws.cn","websiteDomainDualstack":"amazonwebservices.cn"},"eu-central-2":{"websiteDomain":"aws.amazon.com","websiteDomainDualstack":"aws.com"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpTrackerForWidget=t.TangerineBoxEventTrackerForWidget=void 0;var r=n(11),a=n(12),i=function(){function e(e){this.scheduledEventTracker=e}return e.getInstance=function(t){try{return new e(a.ScheduledEventTracker.getInstance(t))}catch(e){return console.warn(r.TELEMETRY_CONFIG_MISSING_MSG),new o}},e.prototype.addEvent=function(e,t){this.scheduledEventTracker.addEvent(e,t)},e.prototype.addError=function(e,t,n){this.scheduledEventTracker.addError(e,t,n)},e.prototype.addFatalError=function(e,t,n,r){this.scheduledEventTracker.addFatalError(e,t,n,r)},e}();t.TangerineBoxEventTrackerForWidget=i;var o=function(){function e(){}return e.prototype.addEvent=function(e,t){},e.prototype.addError=function(e,t,n){},e.prototype.addFatalError=function(e,t,n,r){},e}();t.NoOpTrackerForWidget=o},,,,function(e,t,n){"use strict";var r;n.r(t),n.d(t,"accountColorConfig",(function(){return a})),n.d(t,"getConfigForAccountColor",(function(){return i})),n.d(t,"AccountColor",(function(){return r})),n.d(t,"ColorTheme",(function(){return I})),n.d(t,"updateColorThemeToSubscribers",(function(){return N})),n.d(t,"updateColorThemeClassNamesForEl",(function(){return M})),n.d(t,"updateColorThemeClassNamesInDocument",(function(){return U})),n.d(t,"handleColorThemeChange",(function(){return V})),n.d(t,"postColorThemeChangedMessageToWindow",(function(){return H})),n.d(t,"onColorThemeChanged",(function(){return q})),n.d(t,"createPreferredColorThemeUtilsForBrowser",(function(){return W})),n.d(t,"getColorTheme",(function(){return G})),n.d(t,"startColorThemeTracking",(function(){return K})),n.d(t,"onApertureWidgetLoad",(function(){return Q})),n.d(t,"setCustomFormOptions",(function(){return Z})),n.d(t,"HIDE_NAV_PARAM",(function(){return ee})),n.d(t,"isNavigationOff",(function(){return te})),n.d(t,"registerEventHandler",(function(){return l})),n.d(t,"subscribeForDOMMutations",(function(){return b})),n.d(t,"invokeHandlers",(function(){return E})),n.d(t,"getSameOriginIframeSet",(function(){return C})),n.d(t,"getCrossOriginIframeSet",(function(){return T})),n.d(t,"getCurrentWindow",(function(){return S})),n.d(t,"startWindowHandler",(function(){return D})),n.d(t,"startConsoleIframeHandler",(function(){return k})),n.d(t,"FeatureFlag",(function(){return ne})),n.d(t,"FeatureStatus",(function(){return re})),n.d(t,"updatePageTitle",(function(){return Ve})),n.d(t,"cleanUpPrismCookies",(function(){return ke})),n.d(t,"cleanUpPrismSingleCookies",(function(){return Ae})),n.d(t,"cleanUpPrismWildCardCookies",(function(){return Ie})),n.d(t,"isUserAllowlistedForPrism",(function(){return Pe})),n.d(t,"isUserOptedIntoPrism",(function(){return Oe})),n.d(t,"isPrismSupportedConsole",(function(){return _e})),n.d(t,"isPrismEnabledNonKTLOService",(function(){return Re})),n.d(t,"isKTLOServiceConsole",(function(){return Me})),n.d(t,"getCCSAvailable",(function(){return Ge})),n.d(t,"setCCSIsLoading",(function(){return Ke})),n.d(t,"setCCSInitialError",(function(){return $e})),n.d(t,"getCCSIsLoading",(function(){return Je})),n.d(t,"getCCSInitialError",(function(){return Ye})),n.d(t,"setInitialUserServiceList",(function(){return Xe})),n.d(t,"getInitialUserServiceListFromWindow",(function(){return Qe})),n.d(t,"updateRecentlyVisitedInitialUserServiceList",(function(){return Ze})),n.d(t,"updateFavoriteInitialUserServiceList",(function(){return et})),n.d(t,"updateInitialUserServiceListAndDispatch",(function(){return tt})),n.d(t,"updateServiceListErrorAndDispatch",(function(){return nt})),n.d(t,"listenToAddServiceIdToFavoriteServiceIdListEvent",(function(){return rt})),n.d(t,"dispatchAddServiceIdToFavoriteServiceIdListErrorEvent",(function(){return at})),n.d(t,"setUserSettingsPromise",(function(){return it})),n.d(t,"getUserSettingsPromise",(function(){return ot})),n.d(t,"parseUserSettingsCookie",(function(){return ut})),n.d(t,"onServiceListUpdated",(function(){return mt})),n.d(t,"onServiceListError",(function(){return pt})),n.d(t,"onCurrentUserServiceListChanged",(function(){return ft})),n.d(t,"updateDataToSubscribers",(function(){return vt})),n.d(t,"dispatchAddServiceIdToFavoriteServiceIdListEvent",(function(){return gt})),n.d(t,"listenToAddServiceIdToFavoriteServiceIdListErrorEvent",(function(){return wt})),n.d(t,"SessionDataProvider",(function(){return Be})),n.d(t,"SESSION_DATA_NAME_ATTRIBUTE",(function(){return le})),n.d(t,"MEZZ_REGION_NAME_ATTRIBUTE",(function(){return de})),n.d(t,"SessionDataParser",(function(){return pe})),n.d(t,"getUserPreferences",(function(){return bt})),n.d(t,"SET_FORM_DATA_EVENT",(function(){return $})),n.d(t,"FEEDBACK_WIDGET_LOAD_EVENT",(function(){return J})),n.d(t,"FEEDBACK_WIDGET_CONTAINER_ID",(function(){return Y})),n.d(t,"SERVICE_LIST_UPDATED_EVENT",(function(){return je})),n.d(t,"SERVICE_LIST_ERROR_EVENT",(function(){return He})),n.d(t,"ADD_SERVICE_ID_TO_FAVORITE_SERVICE_ID_LIST_EVENT",(function(){return qe})),n.d(t,"ADD_SERVICE_ID_TO_FAVORITE_SERVICE_ID_LIST_ERROR_EVENT",(function(){return We})),function(e){e.None="none",e.Pink="pink",e.Purple="purple",e.Blue="blue",e.LightBlue="lightBlue",e.Teal="teal",e.Green="green",e.Yellow="yellow",e.Orange="orange",e.Red="red"}(r||(r={}));const a={[r.Pink]:{base:"#E07F9D",accent:"#C33D69"},[r.Purple]:{base:"#CBABFC",accent:"#6b40b2"},[r.Blue]:{base:"#7698fE",accent:"#4066df"},[r.LightBlue]:{base:"#44B9DD",accent:"#0166ab"},[r.Teal]:{base:"#40BFA9",accent:"#096f64"},[r.Green]:{base:"#7DBD4C",accent:"#1a7302"},[r.Yellow]:{base:"#DFB52C",accent:"#6f5504"},[r.Orange]:{base:"#F89256",accent:"#a84401"},[r.Red]:{base:"#FE6E73",accent:"#d13313"}},i=e=>a[e];let o;const s=new Map,c=new Set,u=[],l=(e,t)=>{c.add(e),s.set(e,t)},d=new Set,h=new Set,m=(e,t)=>{for(const n of e)t.add(n)},p=e=>{var t;return e.hasAttribute("sandbox")&&!(null!==(t=e.getAttribute("sandbox"))&&void 0!==t&&t.includes("allow-same-origin"))},f=e=>!p(e)&&!(!e.contentDocument||!e.contentDocument.body),v={attributes:!0,childList:!0,subtree:!0},g=(e,t,n=!1)=>{const r=[],a=[];return e&&(n&&t.observe(e,v),[...e.getElementsByTagName("iframe")].forEach((e=>{if(f(e)){var n;r.push(e);const{sameOriginIframes:i,crossOriginIframes:o}=g(null===(n=e.contentDocument)||void 0===n?void 0:n.body,t,!0);r.push(...i),a.push(...o)}else p(e)||a.push(e)}))),{sameOriginIframes:r,crossOriginIframes:a}},w=(e,t,n)=>{const r=new Set,a=new Set;null!=t&&t.length&&t.forEach((e=>r.add(e))),null!=n&&n.length&&n.forEach((e=>a.add(e))),e.forEach((e=>{e(r,a)}))},y=new MutationObserver((e=>{for(const n of e){if("childList"===n.type&&n.addedNodes.length){const{sameOriginIframes:e,crossOriginIframes:t}=g(n.target,y);w(u,e,t),m(e,d),m(t,h)}if("childList"===n.type)for(let e=0;e<n.removedNodes.length;e++)"IFRAME"===(t=n.removedNodes[e]).nodeName&&(f(t)?d.delete(t):h.delete(t))}var t})),b=e=>{u.push(e)},E=(e,t,n)=>r=>{if(r&&r.data&&c.has(r.data.type)){if(a=r.origin,!/\.amazon\.com$/.test(a)&&!/\.a2z\.com$/.test(a))return void console.warn("Message event origin should be from one of the amazon sub domains");const i=s.get(r.data.type);i&&i({event:r,sameOriginIframeSet:t,crossOriginIframeSet:n,window:e})}var a},C=()=>d,T=()=>h,S=()=>o,D=e=>{((e,t)=>{e.addEventListener("message",t)})(e,E(e,d,h)),o=e},k=e=>{D(e);const{sameOriginIframes:t,crossOriginIframes:n}=g(e.document.body,y,!0);m(t,d),m(n,h)};var I;!function(e){e.Dark="dark",e.Light="light"}(I||(I={}));const A="colorThemeChanged",P="awsui-polaris-dark-mode",O="(prefers-color-scheme: dark)",_=new Set;let R=I.Light,L=!1;const N=e=>{for(const t of _)t({newColorTheme:e.colorTheme})},M=(e,t)=>{null!==e&&(t===I.Dark?e.classList.add(P):e.classList.remove(P))},x=(e,t)=>{const{contentDocument:n}=e;n&&M(n.body,t)},B=(e,t)=>{e.forEach((e=>{e.addEventListener("load",(()=>{x(e,t)})),x(e,t)}))},U=(e,t,n)=>{M(e.body,n),B(t,R)},F=(e,t)=>{e&&e.size&&e.forEach((e=>{e.src.includes("/lotus/csp/")||e.contentWindow&&e.contentWindow.postMessage(t.data,"*")}))},V=({event:e,sameOriginIframeSet:t,crossOriginIframeSet:n,window:r})=>{var a,i;R=(null===(a=e.data)||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.colorTheme)||I.Light,N(null===(i=e.data)||void 0===i?void 0:i.payload),U(r.document,t,R),F(n,e)},z=e=>({type:A,payload:{colorTheme:e}}),j=(e,t)=>{B(e,R);const n=z(R);F(t,{data:n})},H=(e,t)=>{const n=z(t);e.postMessage(n,"*")},q=e=>(L||(K(),L=!0),_.add(e),{unsubscribe:()=>_.delete(e)}),W=e=>({getPreferredColorTheme:()=>{var t;return null!==(t=e.matchMedia(O))&&void 0!==t&&t.matches?I.Dark:I.Light},onPreferredColorThemeChange(t){const n=e.matchMedia(O);return n.addEventListener("change",t),{unsubscribe(){n.removeEventListener("change",t)}}}}),G=()=>{var e;let t=I.Light;return null!==(e=window)&&void 0!==e&&e.document.body.classList.contains(P)&&(t=I.Dark),t},K=()=>{D(window),l(A,V),b(j)},$="set-form-data",J="feedback-widget-load",Y="awsc-aperture-widget-modal-container",X=e=>{const t=new CustomEvent($,{detail:e});document.dispatchEvent(t)},Q=(e,...t)=>{document.getElementById(Y)?e(...t):document.addEventListener(J,(()=>{e(...t)}))},Z=e=>{Q(X,e)},ee="hideNavigation";function te(){const e=new URLSearchParams(window.location.search).get(ee);return e&&sessionStorage.setItem(ee,"true"),!(!e&&!sessionStorage.getItem(ee))}var ne,re;!function(e){e.CCS="ccs",e.ColorTheme="color_theme",e.DefaultLanguage="default_language",e.DefaultRegion="default_region",e.FavoriteBar="favorite_bar",e.Timezone="time_zone",e.FavoritesInUnifiedSearch="favorites_unified_search",e.LanguageSelectorInNav="language_selector_in_nav",e.KrakenInUnifiedSearch="kraken_in_unified_search",e.NewUnifiedSearchDomainInUnifiedSearch="new_unifiedsearch_domain_in_unified_search",e.UnifiedSearchAWTInNonPublic="unified_search_awt_nonpublic",e.VPC="vpc",e.EnabledRegions="enabled_regions",e.SearchServices="search_services",e.LegacyFeedback="legacy_feedback",e.Aperture="aperture",e.SettingManagement="setting_management",e.DisableAllServicesLink="disable_all_services_link",e.SendAllMetricsToPanorama="send_all_metrics_to_panorama",e.Paddy="paddy",e.BrowserFavicon="browser_favicon",e.PageTitle="page_title",e.ConsoleNotificationsWidget="console_notifications_widget",e.ACMASmartAppBanner="acma_smart_app_banner",e.CSVRAnnouncement="cs_vr_announcement",e.MoveUpdateCallerRecentsCall="move_update_caller_recents_call"}(ne||(ne={})),function(e){e.Enabled="enabled",e.Disabled="disabled"}(re||(re={}));const ae=e=>{const t=(e=>{const t=document.cookie.length>0?e.split(";"):[],n=t.length,r={};for(let e=0;e<n;e++){const n=t[e].split("="),a=n[0].trim(),i=n[1];r[a]={raw:i}}return{getCookie:e=>{const t=r[e];if(!t)return null;let n=t.unescaped;if(void 0===n){const e=t.raw;n=t.unescaped=unescape(e.trim())}return n}}})(document.cookie);return t.getCookie(e)};let ie={};const oe=e=>{let t=ie[e];return void 0===t&&(t=ie[e]=ae(e)||null),t};function se(e){try{var t;const r=`meta[name='${e}']`;let a=document.querySelector(r);var n;return a||(a=null===(n=window.top)||void 0===n?void 0:n.document.querySelector(r)),null===(t=a)||void 0===t?void 0:t.content}catch(e){return}}var ce={regions:{"ap-isog-east-1":{websiteDomain:"csphome.adc-g.au",websiteDomainDualstack:"awshome.adc-g.au"},"ap-southeast-6":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isof-south-1":{websiteDomain:"csphome.hci.ic.gov",websiteDomainDualstack:"awshome.hci.ic.gov"},"us-iso-west-1":{websiteDomain:"c2shome.ic.gov",websiteDomainDualstack:"awshome.ic.gov"},"eu-north-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"me-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"cn-north-1":{websiteDomain:"amazonaws.cn",websiteDomainDualstack:"amazonwebservices.cn"},"ap-southeast-7":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-west-3":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-3":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-east-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"af-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-iso-east-1":{websiteDomain:"c2shome.ic.gov",websiteDomainDualstack:"awshome.ic.gov"},"eu-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"me-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isob-west-1":{websiteDomain:"sc2shome.sgov.gov",websiteDomainDualstack:"awshome.scloud"},"eu-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"sa-east-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-east-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-south-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-east-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-northeast-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-northeast-3":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-5":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isob-east-1":{websiteDomain:"sc2shome.sgov.gov",websiteDomainDualstack:"awshome.scloud"},"eu-west-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-isof-east-1":{websiteDomain:"csphome.hci.ic.gov",websiteDomainDualstack:"awshome.hci.ic.gov"},"us-northeast-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-4":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-south-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-isoe-west-1":{websiteDomain:"csphome.adc-e.uk",websiteDomainDualstack:"awshome.adc-e.uk"},"ap-northeast-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-gov-east-1":{websiteDomain:"amazonaws-us-gov.com",websiteDomainDualstack:"aws-us-gov.com"},"us-gov-west-1":{websiteDomain:"amazonaws-us-gov.com",websiteDomainDualstack:"aws-us-gov.com"},"us-west-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"mx-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"me-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"sa-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"us-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-southeast-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eusc-de-east-1":{websiteDomain:"amazonaws-eusc.eu",websiteDomainDualstack:"aws.eu"},"il-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ap-east-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ca-central-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"ca-west-1":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"eu-south-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"},"cn-northwest-1":{websiteDomain:"amazonaws.cn",websiteDomainDualstack:"amazonwebservices.cn"},"eu-central-2":{websiteDomain:"aws.amazon.com",websiteDomainDualstack:"aws.com"}}};function ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const le="awsc-session-data",de="awsc-mezz-region",he={accountId:void 0,sessionARN:void 0,sessionId:void 0,sessionDifferentiator:void 0,identityToken:void 0,accountAlias:void 0,displayName:void 0,infrastructureRegion:void 0,vpc:{vpcId:void 0,vpceId:void 0},prismModeEnabled:void 0,dualstackEnabledDomain:void 0,websiteDomainDualstack:void 0};function me(e,t){if(!e)throw new Error("SessionData object is null or undefined");const n=[];if(t.forEach((t=>{("sessionDifferentiator"!==t||e.prismModeEnabled)&&("websiteDomainDualstack"!==t||e.dualstackEnabledDomain)&&null==e[t]&&n.push(t)})),n.length){const e=JSON.stringify({missingFieldsInSessionData:n});throw new Error(e)}return!0}class pe{constructor(){ue(this,"sessionDataCache",void 0),this.sessionDataCache=this.parseSessionDataMetaTag()}static getInstance(){return this.sessionDataParserInstance||(this.sessionDataParserInstance=new pe),this.sessionDataParserInstance}static validateSessionData(e){me(e,["sessionARN","identityToken","accountId","infrastructureRegion","sessionDifferentiator","dualstackEnabledDomain","websiteDomainDualstack"])}validateSessionData(){pe.validateSessionData(this.sessionDataCache)}getSessionData(){return this.sessionDataCache?this.sessionDataCache:this.parseSessionDataMetaTag()}parseSessionDataMetaTag(){var e,t;let n,r;try{n=function(e){const t=se(e);if(t)return JSON.parse(t);throw new Error(`failed to parse meta tag ${e}`)}(le),me(n,["sessionARN","identityToken","accountId","infrastructureRegion","sessionDifferentiator"])||(r=this.parseSessionDataLegacy())}catch(e){console.log(e);try{r=this.parseSessionDataLegacy()}catch(e){}}const a=(null===(e=n)||void 0===e?void 0:e.infrastructureRegion)||(null===(t=r)||void 0===t?void 0:t.infrastructureRegion);return{...he,...this.getDualstackDomainData(a),...r,...n}}decryptUserInfoSignedCookie(e){try{const t=e.split(".")[1],n=atob(t);return JSON.parse(n)}catch(e){return console.warn("Unable to decrypt userInfoSigned cookie"),""}}getSessionDataFromUserInfoCookie(){const e=oe("aws-userInfo"),t=oe("aws-userInfo-signed"),n=/arn:([^:]*):([^:]*):([^:]*):([^:]*):([^:]*)/;if(e&&t){var r,a;const{arn:i,alias:o,username:s}=JSON.parse(e),c=n.exec(i);return{accountId:c?c[4]:"",sessionARN:i,accountAlias:o,displayName:s,identityToken:t,sessionDifferentiator:null!==(r=null===(a=this.decryptUserInfoSignedCookie(t))||void 0===a?void 0:a.sessionDiff)&&void 0!==r?r:void 0}}throw new Error("No userinfo or userinfo-signed cookie found!")}getInfrastructureRegionFromMezzanineMetaTag(){return se(de)}parseSessionDataLegacy(){try{return{...this.getSessionDataFromUserInfoCookie(),infrastructureRegion:this.getInfrastructureRegionFromMezzanineMetaTag()}}catch(e){throw console.warn("Unable to parse the data using legacy methods"),e}}getDualstackDomainData(e){const t={dualstackEnabledDomain:void 0,websiteDomainDualstack:void 0};if(!e||!Object.keys(ce.regions).includes(e))return console.error("Couldn't determine console domain and dual-stack values."),t;const n=ce.regions[e],{websiteDomain:r,websiteDomainDualstack:a}=n,{hostname:i}=window.location;if(!a)return{dualstackEnabledDomain:!1,websiteDomainDualstack:r};let o;return i.endsWith(`.${a}`)?o=!0:i.endsWith(`.${r}`)&&(o=!1),{dualstackEnabledDomain:o,websiteDomainDualstack:o?a:void 0}}}function fe(e,t){const n=`${e}=; domain=${t}; path=/; max-age=-1;`;document.cookie=n}function ve(){return document.cookie}ue(pe,"sessionDataParserInstance",void 0);const ge=["last-sign-in-session","awsc-color-theme","noflush_locale","awsc-rac","noflush_awsccs_sid"],{regions:we}=ce,ye=["aws-signer-token_"],be=["awsd2c-token-c"];function Ee(e){return ve().split(";").map((e=>{const[t,n]=e.trim().split("=");return{name:t,value:n}})).filter((({name:t})=>t===e))}function Ce(e){return ve().split(";").map((e=>{const[t,n]=e.trim().split("=");return{name:t,value:n}})).filter((({name:t})=>t.startsWith(e)))}function Te(e){for(const{name:t,domain:n}of e)fe(t,n)}function Se(){const e=pe.getInstance().getSessionData();let{infrastructureRegion:t}=e;const{dualstackEnabledDomain:n}=e;t||(t="us-east-1");const r=[],{websiteDomain:a,websiteDomainDualstack:i}=we[t];return n?(r.push(i),r.push(`console.${i}`)):(r.push(a),r.push(`console.${a}`),a.split(".").length>2&&r.push(a.split(".").slice(1).join("."))),r.map((e=>`.${e}`))}function De(e){const{hostname:t}=window.location;Te((Ee("metrics-req-cat").length>0?[t]:Se()).map((t=>({name:e,domain:t}))));const n=t.split(".");n.length>5&&fe(e,n.slice(1).join("."))}function ke(){for(const e of ge)try{Ee(e).length>1&&De(e)}catch(e){console.warn("Couldn't normalize cookies: ",e);continue}}function Ie(){for(const e of ye)try{Ce(e).map((e=>{De(e.name)}))}catch(e){console.warn("Couldn't normalize wildCard cookies: ",e);continue}}function Ae(){for(const e of be)try{1===Ee(e).length&&Te(Se().map((t=>({name:e,domain:t}))))}catch(e){console.warn("Couldn't normalize single cookies: ",e);continue}}const Pe=()=>{const e=ae("aws-prism-private-beta-allowlisted");return!!e&&"true"===e},Oe=()=>{const e=ae("aws-prism-opt-in")||"";return!!e&&"true"===e},_e=()=>!ae("aws-consoleInfo"),Re=e=>Oe()&&!Me(e),Le=["ops","robomaker","cs","ets","ins","cc"],Ne=["/route53/trafficflow/home","/wafv2/home","/maxdome/home"],Me=e=>{var t;return(null==e?void 0:e.id)&&Le.includes(null==e?void 0:e.id)||Ne.includes(null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.pathname)};function xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Be{constructor(e){xe(this,"dataParser",void 0),this.dataParser=e}static getInstance(){return this.sessionDataProviderInstance||(this.sessionDataProviderInstance=new Be(pe.getInstance())),this.sessionDataProviderInstance}async getSessionARN(){return this.dataParser.getSessionData().sessionARN||""}async getAccountId(){return this.dataParser.getSessionData().accountId||""}async getIdentityToken(){return this.dataParser.getSessionData().identityToken||""}async getSessionId(){return this.dataParser.getSessionData().sessionId}async getInfrastructureRegion(){return this.dataParser.getSessionData().infrastructureRegion||""}async getVpc(){const e=this.dataParser.getSessionData();let t;return e&&(t=e.vpc),t}async getAccountAlias(){return this.dataParser.getSessionData().accountAlias}async getDisplayName(){return this.dataParser.getSessionData().displayName}async getSessionDifferentiator(){return this.dataParser.getSessionData().sessionDifferentiator}async getSessionData(){const e=this.dataParser.getSessionData();return e.prismModeEnabled||(e.prismModeEnabled=Oe()),e}async isMultiSessionEnabled(){const e=this.dataParser.getSessionData();return e.prismModeEnabled?e.prismModeEnabled:Oe()}}xe(Be,"sessionDataProviderInstance",void 0),xe(Be,"isValidSessionData",(e=>{try{return pe.validateSessionData(e),!0}catch(e){return!1}})),xe(Be,"validateSessionData",(e=>(pe.validateSessionData(e),!0)));const Ue=(e,t)=>{e&&(t?t.document.title=e:window.top.document.title=e)},Fe=(e,t)=>{(e=>e?e.location.href.includes("aws-dev"):window.top.location.href.includes("aws-dev"))(t)||console.warn(e)},Ve=async(e,t,n)=>{const r=n||window.top;if((e=>{var t,n;return e?!(null!==(t=e.ConsoleNavService)&&void 0!==t&&t.Model):!(null!==(n=window.top.ConsoleNavService)&&void 0!==n&&n.Model)})(r))return void Ue("AWS Management Console",r);if(null==r||!r.ConsoleNavService)return void Fe("window.ConsoleNavService doesn't exist in the calling environment",r);const a=r.ConsoleNavService;if(!a.Model)return void Fe("window.ConsoleNavService.Model doesn't exist in the calling environment",r);const i=a.Model,o=i.currentService;if(!o)return void Fe("window.ConsoleNavService.Model.currentService is empty",r);const s=o.label||"",c=Be.getInstance();let u="";try{u=await c.getInfrastructureRegion()}catch(e){Fe("Unable to retrieve infrastructureRegion from SessionDataProvider",r)}const l=i.currentRegion,d=o.global||!1;if(!u&&!l&&!d)return void Fe("Unable to retrieve infrastructureRegion from SessionDataProvider and window.ConsoleNavService.Model.currentRegion is empty",r);const h=(d?"":u||(null==l?void 0:l.id))||"";if(!h&&!d)return void Fe("Unable to retrieve infrastructureRegion from SessionDataProvider and window.ConsoleNavService.Model.currentRegion.id is empty",r);e||(e=((e,t)=>{var n,r,a,i;const o=`${(null==t?void 0:t.location.pathname.replace(/[^a-zA-Z0-9]/g,""))||window.top.location.pathname.replace(/[^a-zA-Z0-9]/g,"")}${(null==t||null===(n=t.location.hash.split("?"))||void 0===n||null===(n=n[0])||void 0===n?void 0:n.replace(/[^a-zA-Z0-9]/g,""))||(null===(r=window.top.location.hash.split("?"))||void 0===r||null===(r=r[0])||void 0===r?void 0:r.replace(/[^a-zA-Z0-9]/g,""))}`,s=null==e||null===(a=e.currentService)||void 0===a||null===(a=a.features)||void 0===a?void 0:a.find((e=>{var t;return(null==e||null===(t=e.url)||void 0===t?void 0:t.replace(/[^a-zA-Z0-9]/g,""))===o}));return null==s||null===(i=s.metadata)||void 0===i?void 0:i.title})(i,r));const m=((e,t,n,r)=>{let a;return e&&(a=n?r?`${n} | ${e} | Global`:`${n} | ${e} | ${t}`:r?`${e} | Global`:`${e} | ${t}`),a})(s,h,e=e||"",d),p=a.__IS_PAGE_TITLE_SET_BY_SERVICE__;t?p?a.__IS_PAGE_TITLE_SET_BY_SERVICE__=!1:Ue(m,r):(Ue(m,r),a.__IS_PAGE_TITLE_SET_BY_SERVICE__=!0)},ze=(e,t)=>function(){t=t||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}(),je="ServiceListUpdated",He="ServiceListError",qe="AddServiceIdToFavoriteServiceIdList",We="AddServiceIDToFavoriteServiceIdListError",Ge=()=>{var e;return!(null===(e=window.AWSC)||void 0===e||null===(e=e.CCS)||void 0===e||!e.ccsAvailable)},Ke=e=>{var t;null!==(t=window.AWSC)&&void 0!==t&&t.CCS&&(window.AWSC.CCS.ccsIsLoading=e)},$e=e=>{var t;null!==(t=window.AWSC)&&void 0!==t&&t.CCS&&(window.AWSC.CCS.ccsInitialError=e)},Je=()=>{var e;return!(null===(e=window.AWSC)||void 0===e||null===(e=e.CCS)||void 0===e||!e.ccsIsLoading)},Ye=()=>{var e;return null===(e=window.AWSC)||void 0===e||null===(e=e.CCS)||void 0===e?void 0:e.ccsInitialError},Xe=e=>{var t;null!==(t=window.AWSC)&&void 0!==t&&t.CCS&&(window.AWSC.CCS.initialUserServiceList=e)},Qe=()=>{var e;return null===(e=window.AWSC)||void 0===e||null===(e=e.CCS)||void 0===e?void 0:e.initialUserServiceList},Ze=e=>{var t;null!==(t=window.AWSC)&&void 0!==t&&null!==(t=t.CCS)&&void 0!==t&&t.initialUserServiceList&&(window.AWSC.CCS.initialUserServiceList.recentlyVisitedServiceIdList=e)},et=e=>{var t;null!==(t=window.AWSC)&&void 0!==t&&null!==(t=t.CCS)&&void 0!==t&&t.initialUserServiceList&&(window.AWSC.CCS.initialUserServiceList.favoriteServiceIdList=e)},tt=({favoriteServiceIdList:e,recentlyVisitedServiceIdList:t})=>{e&&t?Xe({favoriteServiceIdList:e,recentlyVisitedServiceIdList:t}):e?et(e):t&&Ze(t);const n=ze(je,{detail:{favoriteServiceIdList:e,recentlyVisitedServiceIdList:t}});window.dispatchEvent(n)},nt=e=>{$e(e);const t=ze(He,{detail:e});window.dispatchEvent(t)},rt=e=>{window.addEventListener(qe,e)},at=e=>{const t=ze(We,{detail:{error:e}});window.dispatchEvent(t)},it=e=>{var t;null!==(t=window.AWSC)&&void 0!==t&&t.CCS&&(window.AWSC.CCS.userSettingsPromise=e)},ot=()=>{var e;return null===(e=window.AWSC)||void 0===e||null===(e=e.CCS)||void 0===e?void 0:e.userSettingsPromise},st=new Set,ct=(e,t=!1,n)=>({data:e,isLoading:t,error:n,isError:!!n}),ut=()=>(e=>{if(!e)return{};try{return JSON.parse(e)}catch(e){return{}}})(ae("noflush_awscnm")),lt=(e=[],t={})=>e.filter((e=>{if(t[e]){const{unlisted:n,history:r}=t[e];return!n||n&&r}return!1})),dt=(e=[],t={})=>e.filter((e=>t[e]&&!t[e].unlisted)),ht=()=>{var e;const t={};let n,r=!1,a=[],i=[];if(Ge()){const e=Qe();a=null==e?void 0:e.recentlyVisitedServiceIdList,i=null==e?void 0:e.favoriteServiceIdList,r=Je(),n=Ye()}else{const{hist:e,sc:t}=ut();a=((e=[])=>e.reverse())(e),i=t,n=void 0}const o=null===(e=window.ConsoleNavService)||void 0===e||null===(e=e.Model)||void 0===e?void 0:e.servicesById,s=lt(a,o),c=dt(i,o);return t.recentlyVisited=ct(s,r,n),t.favorite=ct(c,r,n),t},mt=({detail:e})=>{var t;const n=null===(t=window.ConsoleNavService)||void 0===t||null===(t=t.Model)||void 0===t?void 0:t.servicesById,r=null!=e&&e.recentlyVisitedServiceIdList?lt(e.recentlyVisitedServiceIdList,n):null,a=null!=e&&e.favoriteServiceIdList?dt(e.favoriteServiceIdList,n):null;for(const e of st)e({...a&&{favorite:ct(a)},...r&&{recentlyVisited:ct(r)}})},pt=({detail:e})=>{var t;const n=null===(t=window.ConsoleNavService)||void 0===t||null===(t=t.Model)||void 0===t?void 0:t.servicesById,r=Qe(),a=null==r?void 0:r.recentlyVisitedServiceIdList,i=null==r?void 0:r.favoriteServiceIdList,o=lt(a,n),s=dt(i,n);for(const t of st)t({recentlyVisited:ct(o,!1,e),favorite:ct(s,!1,e)})},ft=e=>(st.add(e),{unsubscribe:()=>st.delete(e),initialUserServiceList:ht()}),vt=e=>{for(const t of st)t({...e.favoriteServiceIdList&&{favorite:ct(e.favoriteServiceIdList)},...e.recentlyVisitedServiceIdList&&{recentlyVisited:ct(e.recentlyVisitedServiceIdList)}})},gt=({serviceId:e,favoriteServiceSource:t})=>{const n=ze(qe,{detail:{serviceId:e,favoriteServiceSource:t}});window.dispatchEvent(n)},wt=e=>{window.addEventListener(We,e)};let yt;window.addEventListener(je,mt),window.addEventListener(He,pt);const bt=()=>(yt||(yt={colorTheme:ae("awsc-color-theme")||"light",locale:document.documentElement.lang}),Promise.resolve(yt))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return f})),n.d(t,"v3",(function(){return D})),n.d(t,"v4",(function(){return k})),n.d(t,"v5",(function(){return P})),n.d(t,"NIL",(function(){return O})),n.d(t,"version",(function(){return _})),n.d(t,"validate",(function(){return s})),n.d(t,"stringify",(function(){return h})),n.d(t,"parse",(function(){return v}));var a=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}for(var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&o.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l,d,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},m=0,p=0,f=function(e,t,n){var r=t&&n||0,a=t||new Array(16),o=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:d;if(null==o||null==s){var c=e.random||(e.rng||i)();null==o&&(o=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=d=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:p+1,v=u-m+(f-p)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||u>m)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=u,p=f,d=s;var g=(1e4*(268435455&(u+=122192928e5))+f)%4294967296;a[r++]=g>>>24&255,a[r++]=g>>>16&255,a[r++]=g>>>8&255,a[r++]=255&g;var w=u/4294967296*1e4&268435455;a[r++]=w>>>8&255,a[r++]=255&w,a[r++]=w>>>24&15|16,a[r++]=w>>>16&255,a[r++]=s>>>8|128,a[r++]=255&s;for(var y=0;y<6;++y)a[r+y]=o[y];return t||h(a)},v=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n},g=function(e,t,n){function r(e,r,a,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=v(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,a){i=i||0;for(var s=0;s<16;++s)a[i+s]=o[s];return a}return h(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function w(e){return 14+(e+64>>>9<<4)+1}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function b(e,t,n,r,a,i){var o,s;return y((o=y(y(t,e),y(r,i)))<<(s=a)|o>>>32-s,n)}function E(e,t,n,r,a,i,o){return b(t&n|~t&r,e,t,a,i,o)}function C(e,t,n,r,a,i,o){return b(t&r|n&~r,e,t,a,i,o)}function T(e,t,n,r,a,i,o){return b(t^n^r,e,t,a,i,o)}function S(e,t,n,r,a,i,o){return b(n^(t|~r),e,t,a,i,o)}var D=g("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",a=0;a<n;a+=8){var i=e[a>>5]>>>a%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[w(t)-1]=t;for(var n=1732584193,r=-271733879,a=-1732584194,i=271733878,o=0;o<e.length;o+=16){var s=n,c=r,u=a,l=i;n=E(n,r,a,i,e[o],7,-680876936),i=E(i,n,r,a,e[o+1],12,-389564586),a=E(a,i,n,r,e[o+2],17,606105819),r=E(r,a,i,n,e[o+3],22,-1044525330),n=E(n,r,a,i,e[o+4],7,-176418897),i=E(i,n,r,a,e[o+5],12,1200080426),a=E(a,i,n,r,e[o+6],17,-1473231341),r=E(r,a,i,n,e[o+7],22,-45705983),n=E(n,r,a,i,e[o+8],7,1770035416),i=E(i,n,r,a,e[o+9],12,-1958414417),a=E(a,i,n,r,e[o+10],17,-42063),r=E(r,a,i,n,e[o+11],22,-1990404162),n=E(n,r,a,i,e[o+12],7,1804603682),i=E(i,n,r,a,e[o+13],12,-40341101),a=E(a,i,n,r,e[o+14],17,-1502002290),n=C(n,r=E(r,a,i,n,e[o+15],22,1236535329),a,i,e[o+1],5,-165796510),i=C(i,n,r,a,e[o+6],9,-1069501632),a=C(a,i,n,r,e[o+11],14,643717713),r=C(r,a,i,n,e[o],20,-373897302),n=C(n,r,a,i,e[o+5],5,-701558691),i=C(i,n,r,a,e[o+10],9,38016083),a=C(a,i,n,r,e[o+15],14,-660478335),r=C(r,a,i,n,e[o+4],20,-405537848),n=C(n,r,a,i,e[o+9],5,568446438),i=C(i,n,r,a,e[o+14],9,-1019803690),a=C(a,i,n,r,e[o+3],14,-187363961),r=C(r,a,i,n,e[o+8],20,1163531501),n=C(n,r,a,i,e[o+13],5,-1444681467),i=C(i,n,r,a,e[o+2],9,-51403784),a=C(a,i,n,r,e[o+7],14,1735328473),n=T(n,r=C(r,a,i,n,e[o+12],20,-1926607734),a,i,e[o+5],4,-378558),i=T(i,n,r,a,e[o+8],11,-2022574463),a=T(a,i,n,r,e[o+11],16,1839030562),r=T(r,a,i,n,e[o+14],23,-35309556),n=T(n,r,a,i,e[o+1],4,-1530992060),i=T(i,n,r,a,e[o+4],11,1272893353),a=T(a,i,n,r,e[o+7],16,-155497632),r=T(r,a,i,n,e[o+10],23,-1094730640),n=T(n,r,a,i,e[o+13],4,681279174),i=T(i,n,r,a,e[o],11,-358537222),a=T(a,i,n,r,e[o+3],16,-722521979),r=T(r,a,i,n,e[o+6],23,76029189),n=T(n,r,a,i,e[o+9],4,-640364487),i=T(i,n,r,a,e[o+12],11,-421815835),a=T(a,i,n,r,e[o+15],16,530742520),n=S(n,r=T(r,a,i,n,e[o+2],23,-995338651),a,i,e[o],6,-198630844),i=S(i,n,r,a,e[o+7],10,1126891415),a=S(a,i,n,r,e[o+14],15,-1416354905),r=S(r,a,i,n,e[o+5],21,-57434055),n=S(n,r,a,i,e[o+12],6,1700485571),i=S(i,n,r,a,e[o+3],10,-1894986606),a=S(a,i,n,r,e[o+10],15,-1051523),r=S(r,a,i,n,e[o+1],21,-2054922799),n=S(n,r,a,i,e[o+8],6,1873313359),i=S(i,n,r,a,e[o+15],10,-30611744),a=S(a,i,n,r,e[o+6],15,-1560198380),r=S(r,a,i,n,e[o+13],21,1309151649),n=S(n,r,a,i,e[o+4],6,-145523070),i=S(i,n,r,a,e[o+11],10,-1120210379),a=S(a,i,n,r,e[o+2],15,718787259),r=S(r,a,i,n,e[o+9],21,-343485551),n=y(n,s),r=y(r,c),a=y(a,u),i=y(i,l)}return[n,r,a,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(w(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),k=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return h(r)};function I(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function A(e,t){return e<<t|e>>>32-t}var P=g("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];s[c]=u}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=s[d][m];for(var p=16;p<80;++p)h[p]=A(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var f=n[0],v=n[1],g=n[2],w=n[3],y=n[4],b=0;b<80;++b){var E=Math.floor(b/20),C=A(f,5)+I(E,v,g,w)+y+t[E]+h[b]>>>0;y=w,w=g,g=A(v,30)>>>0,v=f,f=C}n[0]=n[0]+f>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),O="00000000-0000-0000-0000-000000000000",_=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(77)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AWSCShortbreadCookieReader=void 0;var a=n(9),i=n(3),o=n(17);t.AWSCShortbreadCookieReader=function(e){void 0===e&&(e={});var t,n,s=e,c=s.log||(0,o.createLogger)({baseUrl:s.hasConsoleNavFooter?o.DEFAULT_CONSOLE_INTEGRATION_LOGGER_PIXEL_URL:o.DEFAULT_LOGGER_PIXEL_URL}),u=(t=s.onConsentChanged,n=function(e){var n=e.detail;"function"==typeof t&&t(n)},document.addEventListener(i.CONSENT_COOKIE_CHANGED_EVENT,n),n);return{getConsentCookie:function(){return(0,a.getConsentCookie)(s.__storeReader,c)},hasConsent:function(e){return((0,a.getConsentCookie)(s.__storeReader,c)||r({},i.DEFAULT_COOKIE))[e]},__close:function(){document.removeEventListener(i.CONSENT_COOKIE_CHANGED_EVENT,u)}}},t.default=t.AWSCShortbreadCookieReader}]);class Rs{constructor(e){t(i)(this,"isConsole",void 0),t(i)(this,"isPerformanceAllowed",void 0),t(i)(this,"isFunctionalAllowed",void 0),t(i)(this,"PERFORMANCE_COOKIE_CATEGORY","performance"),t(i)(this,"FUNCTIONAL_COOKIE_CATEGORY","functional"),t(i)(this,"tracker",void 0),e&&Object.assign(this,e);const n=(0,_s.AWSCShortbreadCookieReader)({hasConsoleNavFooter:this.isConsole,onConsentChanged:e=>{this.updateIsAllowed(e.performance,e.functional),!1===this.isPerformanceAllowed?Mr.getInstance().trackPanoramaOperationalEvent("panoUserUncheckPerformanceCookie",1):!1===this.isFunctionalAllowed?(ne(this,"tracker","core","setVisitorInfo")&&"function"==typeof this.tracker.core.setVisitorInfo&&ne(this,"tracker","visitorId")&&this.tracker.core.setVisitorInfo(""),Mr.getInstance().trackPanoramaOperationalEvent("panoUserUncheckFunctionalCookie",1)):(ne(this,"tracker","core","setVisitorInfo")&&"function"==typeof this.tracker.core.setVisitorInfo&&ne(this,"tracker","cookieHandler","createOrUpdateVidCookie")&&"function"==typeof this.tracker.cookieHandler.createOrUpdateVidCookie&&ne(this,"tracker","visitorId")&&(this.tracker.visitorId=this.tracker.cookieHandler.createOrUpdateVidCookie("aws-vid"),this.tracker.core.setVisitorInfo(JSON.stringify({pid:this.tracker.visitorId,pvd:this.tracker.configCookieDomain}))),Mr.getInstance().trackPanoramaOperationalEvent("panoUserCheckPerformanceFunctionalCookie",1))}}),r=n.hasConsent(this.PERFORMANCE_COOKIE_CATEGORY),a=n.hasConsent(this.FUNCTIONAL_COOKIE_CATEGORY);this.updateIsAllowed(r,a)}updateIsAllowed(e,t){const n=this.tracker.getPartitionForRegion(this.tracker.region),{AWS_PARTITION_NAME:r}=this.tracker.trackerConstants;n!==r.Aws?(this.isPerformanceAllowed=!0,this.isFunctionalAllowed=!0):(null!=e&&(this.isPerformanceAllowed=e),null!=t&&(this.isFunctionalAllowed=t))}}const Ls=(e,t)=>{e.trackCustomEvent({eventSource:"panoramaInternal",eventContext:"pageLevelMetricsError",timestamp:Date.now(),eventDetail:t?t.toString():""})},Ns=e=>{try{return e.browserInteractionTime.getTimeInMilliseconds()}catch(t){return Ls(e,t),0}},Ms=e=>{try{return e.browserInteractionTime.getTotalTimeInMilliseconds()}catch(t){return Ls(e,t),0}},xs=(e,t,n)=>{try{e.trackCustomEvent({eventType:"pageLevelTimer",eventContext:"timeOnStep",eventValue:Math.round(t).toString(),eventDetail:Math.round(n).toString(),timestamp:Date.now()})}catch(t){Ls(e,t)}},Bs=e=>{try{const t=Ns(e),n=Ms(e);e.stepTimeArray.push(t),e.stepTotalTimeArray.push(n),xs(e,t,n)}catch(t){Ls(e,t)}},Us=e=>{try{(e=>{try{const t=Ns(e),n=Ms(e),r=e.stepTimeArray.reduce(((e,t)=>e+t),0)+t,a=e.stepTotalTimeArray.reduce(((e,t)=>e+t),0)+n;e.trackCustomEvent({eventType:"pageLevelTimer",eventContext:"timeOnPage",eventValue:Math.round(r).toString(),eventDetail:Math.round(a).toString(),timestamp:Date.now()})}catch(t){Ls(e,t)}})(e),(e=>{try{const t=Ns(e),n=Ms(e);xs(e,t,n)}catch(t){Ls(e,t)}})(e)}catch(t){Ls(e,t)}},Fs=[];class Vs{constructor(e){if(t(i)(this,"argmap",void 0),t(i)(this,"browserFeatures",void 0),t(i)(this,"browserLanguage",void 0),t(i)(this,"browserInteractionTime",new Xa({timeIntervalEllapsedCallbacks:[],absoluteTimeEllapsedCallbacks:[],browserTabInactiveCallbacks:[],browserTabActiveCallbacks:[],idleTimeoutMs:6e4,checkCallbacksIntervalMs:250,activeCallbacks:[],idleCallbacks:[]})),t(i)(this,"configCollectorUrl",void 0),t(i)(this,"configCookieDomain",void 0),t(i)(this,"configCookieNamePrefix",void 0),t(i)(this,"configCookiePath",void 0),t(i)(this,"configCountPreRendered",void 0),t(i)(this,"configDiscardHashTag",void 0),t(i)(this,"configHeartBeatTimer",void 0),t(i)(this,"configMinimumVisitTime",void 0),t(i)(this,"configOptOutCookie",void 0),t(i)(this,"configReferrerUrl",void 0),t(i)(this,"configRequestMethod",void 0),t(i)(this,"configTrackerPause",void 0),t(i)(this,"core",void 0),t(i)(this,"customReferrer",void 0),t(i)(this,"debouncedScroll",void 0),t(i)(this,"disableBusinessMetrics",void 0),t(i)(this,"disableOpsMetrics",void 0),t(i)(this,"appEntitiesToDisableOpsMetrics",void 0),t(i)(this,"dnt",void 0),t(i)(this,"documentAlias",void 0),t(i)(this,"domainAlias",void 0),t(i)(this,"domainHash",""),t(i)(this,"enableViewMetrics",void 0),t(i)(this,"enableCustomMetrics",void 0),t(i)(this,"eventTypesToIgnore",["panoramaPing"]),t(i)(this,"functionName",void 0),t(i)(this,"hash",void 0),t(i)(this,"hoverEnterTime",void 0),t(i)(this,"isConsole",void 0),t(i)(this,"isCustomerReadyEmitted",void 0),t(i)(this,"lastMouseMoveTime",void 0),t(i)(this,"lastNavEventTime",Date.now()),t(i)(this,"lastConfigTitle",void 0),t(i)(this,"lastDocumentTitle",void 0),t(i)(this,"locationArray",void 0),t(i)(this,"locationHrefAlias",void 0),t(i)(this,"mutSnowplowState",void 0),t(i)(this,"namespace",void 0),t(i)(this,"navigatorAlias",void 0),t(i)(this,"outQueueManager",void 0),t(i)(this,"configuredPlugins",void 0),t(i)(this,"cookieHandler",new Kt),t(i)(this,"plugins",void 0),t(i)(this,"trackMouseMoves",!1),t(i)(this,"trackerStats",{capturedEvents:0,sentEvents:0,retries:0,retriesDetails:{},droppedEvents:0,droppedEventsDetails:{},truncatedEvents:0,truncatedEventsDetails:{},userDisallowedPanoramaEvents:0,numClogCaptured:0,numClogThrottled:0,numClogSeen:0,numExceededLimit:0,totalPayloadSize:0,numOfApiCalls:0}),t(i)(this,"version",void 0),t(i)(this,"windowAlias",void 0),t(i)(this,"lastMouseX",void 0),t(i)(this,"lastMouseY",void 0),t(i)(this,"moveArray",[]),t(i)(this,"region",void 0),t(i)(this,"service",void 0),t(i)(this,"appEntity",void 0),t(i)(this,"modality",void 0),t(i)(this,"location",window.location.pathname+(window.location.hash||"")),t(i)(this,"oldLocationHref",window.location.href),t(i)(this,"elementInfo",void 0),t(i)(this,"elementInfoTarget",void 0),t(i)(this,"funnelInteractionMetadata",{}),t(i)(this,"trackerConstants",void 0),t(i)(this,"shortbread",void 0),t(i)(this,"iframeEventListeners",{}),t(i)(this,"listeners",[]),t(i)(this,"visitorId",""),t(i)(this,"stepTimeArray",[]),t(i)(this,"stepTotalTimeArray",[]),t(i)(this,"telemetryTracker",Mr.getInstance()),t(i)(this,"updateRegionAndService",(e=>{void 0!==e.region&&(this.region=e.region,this.core.setAWSRegion(e.region),this.core.addCommonBatchAttr("consoleRegion",e.region)),void 0!==e.service&&(this.service=e.service,this.core.setService(e.service),this.core.addCommonBatchAttr("consoleService",e.service))})),t(i)(this,"setFac",(()=>{Oo((()=>null!==document.getElementById("meta-features-json")),{onTrue:()=>{const e=document.getElementById("meta-features-json");null!==e&&this.core.addCommonPayloadAttr("facConfig",e.getAttribute("data-featuresjson")||"")}})})),t(i)(this,"getSnowplowCookieName",(e=>this.configCookieNamePrefix+e+"."+this.domainHash)),t(i)(this,"mouseHandler",(e=>{const t=(new Date).getTime();t-this.lastMouseMoveTime>250&&(Math.abs(e.clientX-this.lastMouseX)>50||Math.abs(e.clientY-this.lastMouseY)>50)&&(this.moveArray.push({x:e.clientX,y:e.clientY,timestamp:t}),this.lastMouseX=e.clientX,this.lastMouseY=e.clientY),this.lastMouseX||(this.lastMouseX=e.clientX),this.lastMouseY||(this.lastMouseY=e.clientY),this.lastMouseMoveTime=t})),t(i)(this,"hoverHandler",(e=>{const t=(new Date).getTime();let n;this.hoverEnterTime&&(n=t-this.hoverEnterTime),"mouseover"===e.type?this.hoverEnterTime=t:"mouseout"===e.type&&n&&n>3e3&&"HTML"!==e.target.tagName&&this.logHoverEvent(n,e.target),this.hoverEnterTime=t})),t(i)(this,"mousedownHandler",(e=>{this.elementInfoTarget=e.target,this.elementInfo=ai(e.target)})),t(i)(this,"clickHandler",(e=>{let t;t=e.target===this.elementInfoTarget?this.elementInfo:ai(e.target);const n={contentId:t.xpath,eventPath:t.analyticsPath,eventInteractionMetaData:t.eventInteractionMetaData,mouseLocation:e.pageX+","+e.pageY,pageTitle:this.documentAlias.title,widgetIds:t.widgetIds?t.widgetIds:void 0};Object.assign(n,t.analyticsData),this.core.trackPanoramaClickEvent(n)})),t(i)(this,"pageTimeHandler",(()=>{this.browserInteractionTime.startTimer();this.browserInteractionTime.addBrowserTabInactiveCallback((()=>{Bs(this),this.core.trackCustomEvent({eventType:"visibilityChange",eventContext:"inactiveTab",timestamp:Date.now()})})),this.browserInteractionTime.addBrowserTabActiveCallback((()=>{this.core.trackCustomEvent({eventType:"visibilityChange",eventContext:"activeTab",timestamp:Date.now()})}))})),t(i)(this,"locationHandler",(()=>{const e=window.location.pathname+(window.location.hash||"");if(this.location!==e){Us(this),Re("onLocationChange",{oldLocation:this.location,newLocation:e});const t=this.location;setTimeout((()=>{this.core.trackCustomEvent({eventType:"locationChange",eventDetail:JSON.stringify({oldLocation:t,newLocation:e}),timestamp:Date.now()}),this.core.trackCustomEvent({eventSource:Qe,eventType:tt,eventContext:this.location,eventDetail:e,pageTitle:this.documentAlias.title}),this.browserInteractionTime.reset(),this.browserInteractionTime.startTimer(),this.core.trackCustomEvent({eventSource:Qe,eventType:"pageUnloadEventInternals",eventContext:"numOfApiCalls",eventValue:this.trackerStats.numOfApiCalls,timestamp:Date.now()}),this.trackerStats.numOfApiCalls=0,this.core.trackCustomEvent({eventSource:Qe,eventType:"pageUnloadEventInternals",eventContext:"totalPayloadSize",eventValue:this.trackerStats.totalPayloadSize,timestamp:Date.now()}),this.trackerStats.totalPayloadSize=0}),1e3),this.lastNavEventTime=Date.now(),this.location=e,this.oldLocationHref=window.location.href,this.trackMouseMoves&&(this.core.trackCustomEvent({eventSource:Qe,eventType:"mouseMoves",eventContext:this.location,eventDetail:JSON.stringify(this.moveArray),pageTitle:this.documentAlias.title}),this.moveArray=[])}})),t(i)(this,"formElementHandler",(e=>{const t=ai(e.target);this.core.trackCustomEvent(Object.assign({eventSource:Qe,eventType:e.type,contentId:t.xpath,eventPath:t.analyticsPath?t.analyticsPath:void 0,eventInteractionMetaData:t.eventInteractionMetaData,pageTitle:this.documentAlias.title},t.analyticsData))})),t(i)(this,"scrollHandler",(e=>{const t=ai(e.target);let n="";e.target==document?n=this.documentAlias.title:t.xpath&&(n=t.xpath),this.core.trackPanoramaScrollEvent(Object.assign({contentId:n,eventPath:t.analyticsPath?t.analyticsPath:void 0,eventValue:String(window.scrollY?window.scrollY:window.pageYOffset),pageTitle:this.documentAlias.title,widgetIds:t.widgetIds?t.widgetIds:void 0},t.analyticsData))})),t(i)(this,"sessionTimeoutHandler",(()=>{this.outQueueManager.setBlockOutqueue(!0),this.outQueueManager.outQueue.length>0&&this.outQueueManager.executeQueue({runOnce:!0})})),t(i)(this,"logPageView",((e,t)=>{this.refreshUrl(),this.lastDocumentTitle=this.documentAlias.title,this.lastConfigTitle=e;let n=ce(this.lastConfigTitle||this.lastDocumentTitle);const r=window[this.functionName],a={pageUrlPath:Qa(this.locationHrefAlias,this.configDiscardHashTag),pageTitle:n,referrer:Qa(this.customReferrer||this.configReferrerUrl,this.configDiscardHashTag),timestamp:t};r&&r.loadTime&&(a.eventValue=Date.now()-r.loadTime),this.core.trackPageView(a);const i=window.location.pathname+(window.location.hash||""),o={...a,eventSource:Qe,eventType:tt,eventContext:this.location||"",eventDetail:i};this.core.trackCustomEvent(o)})),t(i)(this,"setupListeners",((e,t)=>{for(let n=0;n<this.listeners.length;n++){const{defaultTarget:r,eventType:a,callback:i,useCapture:o=!1}=this.listeners[n];if(e){const n=e.id;t&&-1!==t.indexOf(a)?(he(e.contentWindow,a,i,o),this.iframeEventListeners[n]?this.iframeEventListeners[n]=[...this.iframeEventListeners[n],a]:this.iframeEventListeners[n]=[a]):t||(he(e.contentWindow,a,i,o),this.iframeEventListeners[n]?this.iframeEventListeners[n]=[...this.iframeEventListeners[n],a]:this.iframeEventListeners[n]=[a])}else he(r,a,i,o)}if(e)window.onpopstate?he(e.contentWindow,"popstate",this.locationHandler):he(e.contentWindow,"hashchange",this.locationHandler);else{window.onpopstate?he(this.windowAlias,"popstate",this.locationHandler):he(this.windowAlias,"hashchange",this.locationHandler);const e=Br(this.locationHandler,100);he(this.windowAlias,"historyPushState-detected",e)}e||he(this.windowAlias,"message",(e=>{const{data:t}=e;"iFrame_Panorama_BusinessMetrics"===t?.event_id&&this.core.trackCustomEvent(t.payload)})),this.pageTimeHandler()})),t(i)(this,"logHoverEvent",((e,t)=>{const n=e<1e4?"hover":"dwell",r=ai(t);this.core.trackCustomEvent(Object.assign({eventSource:Qe,eventType:n,contentId:r.xpath?r.xpath:void 0,eventPath:r.analyticsPath?r.analyticsPath:void 0,eventInteractionMetaData:r.eventInteractionMetaData,mouseLocation:`${this.lastMouseX},${this.lastMouseY}`,pageTitle:this.documentAlias.title,eventValue:String(e/1e3),widgetIds:r.widgetIds?r.widgetIds:void 0},r.analyticsData))})),t(i)(this,"emitStackTrace",((e,t,n,r,a)=>{let i=null;a&&a.stack?i=a.stack:console.trace&&(i=console.trace()),this.trackCustomEvent({eventSource:"error",eventType:"stacktrace",eventContext:e?e.toString():"",eventDetail:JSON.stringify({fileno:n,columnNumber:r,error:a,stacktrace:i}),eventValue:"1",timestamp:Date.now()})})),t(i)(this,"setOptOutCookie",(e=>{this.configOptOutCookie=e})),t(i)(this,"setBuildId",(e=>{this.core.addCommonPayloadAttr("buildId",e)})),t(i)(this,"updateCommonAttribute",((e,t,n)=>{if("service"===e||"region"===t)n&&("service"===e&&(this.outQueueManager.executeQueue(),this.service=t,this.core.addCommonBatchAttr("consoleService",t),this.outQueueManager.service=t),this.core.addCommonPayloadAttr(e,t),Re("updatedCommonAttribute",{name:e,value:t}));else{(r=t,"domain"!==e||-1!==Ie.VALID_DOMAINS.indexOf(r.toLowerCase()))?(this.core.addCommonPayloadAttr(e,t),Re("updatedCommonAttribute",{name:e,value:t})):pe(`'${t}' was not a valid value for '${e}', therefore it was not set.`)}var r})),t(i)(this,"readCommonAttribute",(()=>({service:this.core.getCommonPayloadAttr("service"),serviceSubSection:this.core.getCommonPayloadAttr("serviceSubSection"),serviceConsolePage:this.core.getCommonPayloadAttr("serviceConsolePage"),variant:this.core.getCommonPayloadAttr("variant"),domain:this.core.getCommonPayloadAttr("domain")}))),t(i)(this,"readCapturedPayloadsList",(()=>this.core.readCapturedPayloadsList())),t(i)(this,"setCollectorUrl",(e=>{this.configCollectorUrl=this.asCollectorUrl(e)})),t(i)(this,"setFunnelInteractionId",(e=>{try{this.funnelInteractionMetadata.id=e,this.funnelInteractionMetadata.timer&&clearTimeout(this.funnelInteractionMetadata.timer),this.funnelInteractionMetadata.timer=setTimeout((()=>{this.funnelInteractionMetadata.id=""}),5e3)}catch(e){Ee({eventSource:"panoramaInternal",eventType:"setFunnelInteractionId",eventContext:"error",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}})),t(i)(this,"getTrackerStats",(()=>Object.assign({},this.trackerStats))),e&&Object.assign(this,e),this.trackerConstants=Object.assign(Ie,this.argmap.trackerConstants||{}),ne(this,"argmap","appEntity")&&(this.appEntity=this.argmap.appEntity||""),this.appEntitiesToDisableOpsMetrics=["aws-marketing"],this.disableOpsMetrics=this.appEntitiesToDisableOpsMetrics.includes(this.appEntity),this.disableBusinessMetrics=!!ne(this.argmap,"trackerConstants","flags","disableBusinessMetrics")&&this.argmap.trackerConstants.flags.disableBusinessMetrics,this.enableViewMetrics=!ne(this.argmap,"trackerConstants","flags","enableViewMetrics")||this.argmap.trackerConstants.flags.enableViewMetrics,this.enableCustomMetrics=!ne(this.argmap,"trackerConstants","flags","enableCustomMetrics")||this.argmap.trackerConstants.flags.enableCustomMetrics,this.setupLocals(),Fs&&Fs.includes(this.region))return void console.log(`Panorama is not ready in ${this.region}`);const n=new Po({tracker:this}),r=[];if(r.push(n),!this.disableOpsMetrics){const e=new Co({tracker:this}),t=new To({tracker:this}),n=new Ps({tracker:this}),a=new Os({tracker:this}),i=new So({tracker:this,...this.trackerConstants.PERFORMANCE_PLUGIN_PARAMETERS}),o=new Do({tracker:this});r.push(e,t,i,o,n,a)}if(r.forEach((e=>{this.plugins.addPlugin(e),this.trackerConstants.pluginsEnabledByDefault&&this.plugins.enablePlugin(e)})),this.configuredPlugins){let e,t=this.plugins.listPlugins();t.ConsoleParametersPlugin&&(e=t.ConsoleParametersPlugin),Object.keys(this.configuredPlugins).forEach((t=>{let r=this.configuredPlugins[t];"consoleParameters"===t&&e&&(r.enabled?this.plugins.enablePlugin(e):this.plugins.disablePlugin(e)),"context"===t&&(r.enabled?this.plugins.enablePlugin(n):this.plugins.disablePlugin(n)),"clog"===t&&(r.enabled?this.plugins.enablePlugin(clogPlugin):this.plugins.disablePlugin(clogPlugin)),"stacktrace"===t&&(r.enabled?this.plugins.enablePlugin(stacktracePlugin):this.plugins.disablePlugin(stacktracePlugin)),"performance"===t&&(r.enabled?this.plugins.enablePlugin(performancePlugin):this.plugins.disablePlugin(performancePlugin)),"cspErrorHandler"===t&&(r.enabled?this.plugins.enablePlugin(cspErrorHandlerPlugin):this.plugins.disablePlugin(cspErrorHandlerPlugin)),"webVitals"===t&&(r.enabled?this.plugins.enablePlugin(webVitalsPlugin):this.plugins.disablePlugin(webVitalsPlugin)),"consoleLatency"===t&&(r.enabled?this.plugins.enablePlugin(consoleLatencyPlugin):this.plugins.disablePlugin(consoleLatencyPlugin))}))}if(this.listeners=[{defaultTarget:this.documentAlias,eventType:"mousedown",callback:this.mousedownHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"click",callback:this.clickHandler,useCapture:!0},{defaultTarget:this.windowAlias,eventType:"scroll",callback:this.debouncedScroll,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"change",callback:this.formElementHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"mouseout",callback:this.hoverHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"mouseover",callback:this.hoverHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"mousemove",callback:this.mouseHandler,useCapture:!0},{defaultTarget:this.windowAlias,eventType:"auth-change-detected",callback:this.sessionTimeoutHandler,useCapture:!0}],ne(this.argmap,"appEntity")&&"aws-signin"===this.argmap.appEntity){const e=["browserColorDepth","browserViewPortHeight","browserViewPortWidth","deviceResolutionHeight","deviceResolutionWidth","deviceTimeZone","pageTitle","serviceConsolePage","tabId"],t=["pageUrlPath","referrer","requestUri"],n=["eventContext","eventDetail"],{protocol:r,hostname:a,pathname:i}=window.location,o=`${r}//${a}${i}`;this.core.setAWSUserInfo(""),this.core.setAWSUserInfoSigned(""),this.core.setAWSIdentityToken(""),this.sanitizeFields((r=>{const a=r;return e.forEach((e=>a&&delete a[e])),"view"===a.eventType&&n.forEach((e=>{a[e]=o})),t.forEach((e=>{a[e]=o})),a}))}this.disableBusinessMetrics||this.setupListeners(),this.trackPageView(),this.argmap.blockOutqueue||window.addEventListener("onPanoramaLoad",(({detail:e})=>{e&&e.enabled&&this.outQueueManager.blockOutqueue&&(window.panorama("openOutqueue"),be("panoForceUnblock",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoForceUnblock",1))})),qe()||Ee({eventSource:"panoramaInternal",eventType:"uuidFallback",eventContext:"trackCustomEvent",eventDetail:"The global crypto property is not available. Using fallback to generate UUID.",eventValue:"",timestamp:Date.now()}),window.addEventListener("pfCleanCapturedPayloadsList",(()=>{this.core.cleanCapturedPayloadsList()}))}setupLocals(){this.isConsole=Ue(this.argmap),this.isCustomerReadyEmitted=!1,this.configCookieDomain=ne(this,"argmap","trackerConstants","cookieDomain")?this.argmap.trackerConstants?.cookieDomain:void 0,this.configuredPlugins=void 0!==this.argmap.plugins?this.argmap.plugins:{},this.core=new ut({base64:!0,callback:e=>{this.addBrowserData(e),Re("onProcessed",e),this.sendRequest(e,this.configTrackerPause)}}),this.plugins=new bo({tracker:this});let e=new _o({tracker:this});this.plugins.addPlugin(e),this.isConsole&&this.trackerConstants.pluginsEnabledByDefault&&this.plugins.enablePlugin(e),this.argmap.hasOwnProperty("service")?this.updateRegionAndService({service:this.argmap.service}):this.service||this.updateRegionAndService({service:""}),this.argmap.hasOwnProperty("region")?this.updateRegionAndService({region:this.argmap.region}):this.region||this.updateRegionAndService({region:"us-east-1"}),this.documentAlias=document,this.windowAlias=window,this.navigatorAlias=navigator,this.locationArray=vt({hostName:this.documentAlias.domain,href:this.windowAlias.location.href,referrer:de()}),this.domainAlias=ue(this.locationArray[0]),this.locationHrefAlias=this.locationArray[1],this.configReferrerUrl=this.locationArray[2],this.configRequestMethod="GET",this.lastDocumentTitle=this.documentAlias.title,this.configCookiePath="/",this.configCookieNamePrefix=this.argmap.hasOwnProperty("cookieName")?this.argmap.cookieName:"_sp_",this.browserLanguage=He(),this.browserFeatures=ft("cookie"===this.trackerConstants.stateStorageStrategy||"cookieAndLocalStorage"===this.trackerConstants.stateStorageStrategy,this.getSnowplowCookieName("testcookie")),this.debouncedScroll=Br(this.scrollHandler,250),this.hash=ci,this.shortbread=new Rs({tracker:this}),this.argmap.hasOwnProperty("discoverRootDomain")&&this.argmap.discoverRootDomain&&(this.configCookieDomain=ye()),this.cookieHandler.cookieDomain=this.configCookieDomain,this.cookieHandler.cookiePath=this.configCookiePath,this.cookieHandler.storageStrategy="cookie";let t={};try{t=this.cookieHandler.getCookie("aws-userInfo"),this.core.setAWSUserInfo(t||"")}catch(e){}let n={};try{n=this.cookieHandler.getCookie("aws-userInfo-signed"),this.core.setAWSUserInfoSigned(n||"")}catch(e){}Ce(Ee,(e=>{this.core.setAWSIdentityToken(e),this.emitPanoramaPing()})),ne(this,"argmap","appEntity")&&this.core.addCommonBatchAttr("appEntity",this.argmap.appEntity||"");try{this.shortbread.isPerformanceAllowed&&this.shortbread.isFunctionalAllowed&&(this.visitorId=this.cookieHandler.createOrUpdateVidCookie("aws-vid"))}catch(e){pe(e)}finally{this.core.setVisitorInfo(JSON.stringify({pid:this.visitorId,pvd:this.configCookieDomain}))}this.core.addCommonPayloadAttr("version",this.version),this.core.addCommonBatchAttr("version",this.version),this.core.addCommonPayloadAttr("tabId",this.mutSnowplowState.pageViewId),this.core.addCommonBatchAttr("tabId",this.mutSnowplowState.pageViewId),ne(this,"argmap","trackerConstants","modality")?(this.core.addCommonPayloadAttr("modality",this.argmap.trackerConstants?.modality),this.core.addCommonBatchAttr("modality",this.argmap.trackerConstants?.modality)):(this.core.addCommonPayloadAttr("modality",this.trackerConstants.modality),this.core.addCommonBatchAttr("modality",this.argmap.trackerConstants?.modality)),document.querySelectorAll("meta[id^='panorama-']").forEach((e=>{const t=e.id.replace("panorama-","");e.hasAttribute("value")&&(this.updateCommonAttribute(t,e.getAttribute("value")||"",!0),"service"===t&&this.core.addCommonBatchAttr("consoleService",e.getAttribute("value")||""))})),this.trackerConstants.CAPTURE_FAC&&this.setFac(),this.core.setBase64Encoding(!this.argmap.hasOwnProperty("encodeBase64")||this.argmap.encodeBase64),this.core.setTimezone((new Date).getTimezoneOffset().toString()),this.core.setLang(this.browserLanguage),this.core.setScreenResolution(this.browserFeatures.res),this.core.setColorDepth(String(screen.colorDepth)),this.core.setDomain(this.argmap.domain);let r="";if(this.trackerConstants.COOKIES_TO_CAPTURE.forEach((e=>{const t=this.cookieHandler.getCookie(e);t&&(r+=`${e}=${t};`)})),this.core.setBrowserCookies(r),this.argmap.commonAttributes)for(const e in this.argmap.commonAttributes)this.argmap.commonAttributes.hasOwnProperty(e)&&this.updateCommonAttribute(e,this.argmap.commonAttributes[e],!0);this.outQueueManager=new xr({blockOutqueue:this.argmap.blockOutqueue||!0,bufferSize:this.argmap.bufferSize||1e3,commonPayloadAttr:this.core.commonPayloadAttr,core:this.core,functionName:this.functionName,isConsole:this.isConsole,maxPostBytes:this.argmap.maxPostBytes||Ie.DEFAULT_MAX_POST_BYTES,maxSinglePostBytes:this.argmap.maxSinglePostBytes||Ie.DEFAULT_MAX_SINGLE_POST_BYTES,maxRetries:this.trackerConstants.outqueueRetries,mutSnowplowState:this.mutSnowplowState,namespace:this.namespace,region:this.region,service:this.service,appEntity:this.appEntity,trackerStats:this.trackerStats,urlPath:this.getUrlPath(),useLocalStorage:!1}),this.emitTelemetryEnabledMetric(this.telemetryTracker.isTelemetryAvailable()),this.isConsole&&this.emitPanoramaLatencyMetric()}getPartitionForRegion(e){const{AWS_PARTITION_NAME:t}=this.trackerConstants;return e.startsWith("us-gov-")?t.AwsUsGov:e.startsWith("us-iso-")?t.AwsIso:e.startsWith("us-isob-")?t.AwsIsoB:e.startsWith("cn-")?t.AwsCn:t.Aws}getNonProdConsoleProxyDomainForPartition(e,t="integ"){switch(e){case"aws-cn":return`awsc-${t}.amazonaws.cn`;case"aws-us-gov":return`awsc-${t}.amazonaws-us-gov.com`;case"aws-iso":return`awsc-${t}.c2s-border.ic.gov`;case"aws-iso-b":return`awsc-${t}.sc2shome.sgov.gov`;case"aws":return`awsc-${t}.aws.amazon.com`;default:return""}}getProdConsoleProxyDomainForPartition(e){switch(e){case"aws-cn":return"console.amazonaws.cn";case"aws-us-gov":return"console.amazonaws-us-gov.com";case"aws-iso":return"console.c2shome.ic.gov";case"aws-iso-b":return"console.sc2shome.sgov.gov";case"aws":return"console.aws.amazon.com";default:return""}}generateProxyEndpoint(){try{const{AWS_PARTITION_NAME:e,DOMAINS:t}=this.trackerConstants,n=window.location.hostname,r=n.includes(this.region),a=this.getPartitionForRegion(this.region);if(a!==e.Aws||r)return"";const i=!t.NONPROD.test(n)&&t.PROD.test(n),o=/integ/i.test(n),s=/preprod/i.test(n);if(i||o||s){const e=o||s?this.getNonProdConsoleProxyDomainForPartition(a,s?"preprod":"integ"):this.getProdConsoleProxyDomainForPartition(a);if(e)return`https://${this.region}.${e}`}return""}catch(e){return""}}setConfigCollectorUrl(){const e=this.getPartitionForRegion(this.region);Wr()&&e===this.trackerConstants.AWS_PARTITION_NAME.Aws&&qr()?this.configCollectorUrl=`https://${Hr(this.region,Ur.PROD)}`:this.configCollectorUrl=this.generateProxyEndpoint()}emitPanoramaPing(){const e=new XMLHttpRequest,t={eventType:"panoramaPing",eventContext:"pageload",eventDetail:"",eventValue:"1",timestamp:Date.now()},{batchAttr:n,request:r}=this.core.trackCustomEvent(t);!this.shortbread||this.shortbread.isPerformanceAllowed&&this.shortbread.isFunctionalAllowed||(n.visitorInfo="");const a={...n,batchRequest:[r],batchRequestId:We()};window.panorama&&window.panorama.useProxy&&this.setConfigCollectorUrl(),e.open("POST",this.configCollectorUrl+this.getUrlPath(),!0);!!this.cookieHandler.getCookie("metrics-req-cat")&&(this.core.addCommonPayloadHeader("metrics-req-cat","canary"),e.setRequestHeader("metrics-req-cat","canary")),e.setRequestHeader("Content-Type","application/json; charset=UTF-8");try{e.setRequestHeader("Panorama-AppEntity",this.appEntity||"")}catch(e){be("panoXhrAppEntityHeaderFailed",1),this.telemetryTracker.trackPanoramaOperationalEvent("panoXhrAppEntityHeaderFailed",1)}e.send(JSON.stringify(a)),this.telemetryTracker.trackPanoramaOperationalEvent("panoPing",1)}refreshUrl(){this.locationArray=vt({hostName:this.documentAlias.domain,href:this.windowAlias.location.href,referrer:de()}),this.locationArray[1]!==this.locationHrefAlias&&(this.configReferrerUrl=de(this.locationHrefAlias)),this.domainAlias=ue(this.locationArray[0]),this.locationHrefAlias=this.locationArray[1]}sendRequest(e,n){const{eventSource:r,eventType:a}=e.request;if(this.eventTypesToIgnore.indexOf(a)>=0)return;this.trackerStats.capturedEvents++;const i=new Date,o=!!t(p).get(this.configOptOutCookie),s=this.determineEventDrop(e.request);"clog"===r&&(this.trackerStats.numClogSeen++,this.trackerStats.numClogCaptured++),"panorama"!==r&&"panoramaInternal"!==r||s&&this.trackerStats.userDisallowedPanoramaEvents++;const c=e.request?.variant;if(Object.assign(e.request,this.core.commonPayloadAttr),c&&(e.request.variant=c),this.isConsole&&window.panorama&&window.panorama.useProxy&&this.setConfigCollectorUrl(),!o&&!s){let t=e.getBatchAttribute();this.shortbread.isPerformanceAllowed&&this.shortbread.isFunctionalAllowed||!t||!t.visitorInfo||(t.visitorInfo=""),this.outQueueManager.enqueueRequest(e.build(),t,e.getHeader(),this.configCollectorUrl),this.mutSnowplowState.expireDateTime=i.getTime()+n}}checkIfMetricNotSupported(e,t,n){try{return!([tt,nt].includes(e)||t.includes("Chat")||n.includes("@amzn/conversational-experience"))}catch(e){Ee({eventSource:"panoramaInternal",eventType:"disabledMetric",eventContext:"checkIfMetricNotSupported",eventDetail:e?e.toString():""})}return!1}determineEventDrop(e){const{eventType:t,eventSource:n,eventContext:r="",widgetIds:a=[]}=e;return("panorama"===n||"panoramaInternal"===n||"polaroid"===n)&&(!("polaroid"!==n||!this.disableOpsMetrics)||(!("panorama"!==n&&"panoramaInternal"!==n||!this.shortbread||this.shortbread.isPerformanceAllowed)||(!("panorama"!==n&&"panoramaInternal"!==n||!this.disableBusinessMetrics)||("view"===t&&!this.enableViewMetrics||(!(!t?.includes("pano-cust_")||this.enableCustomMetrics)||!(!["aws-marketing"].includes(this.appEntity)||!this.checkIfMetricNotSupported(t,r,a)))))))}updateDomainHash(){this.refreshUrl(),this.domainHash=this.hash((this.configCookieDomain||this.domainAlias)+(this.configCookiePath||"/")).slice(0,4)}addBrowserData(e){const n=this.getSnowplowCookieName("id"),r=this.getSnowplowCookieName("ses");if(!!t(p).get(this.configOptOutCookie)&&"none"!==this.trackerConstants.stateStorageStrategy)return void("localStorage"===this.trackerConstants.stateStorageStrategy?(ve(n,""),ve(r,"")):"cookie"!==this.trackerConstants.stateStorageStrategy&&"cookieAndLocalStorage"!==this.trackerConstants.stateStorageStrategy||(t(p).remove(n,{path:this.configCookiePath,domain:this.configCookieDomain}),t(p).remove(r,{path:this.configCookiePath,domain:this.configCookieDomain})));const a=function(){var e=lt,t="inner";"innerWidth"in lt||(t="client",e=mt.documentElement||mt.body);var n=e[t+"Width"],r=e[t+"Height"];return n>=0&&r>=0?n+"x"+r:null}();if(a&&a.split("x").length>1){const[t,n]=a.split("x");e.request.browserViewPortWidth=Number(t),e.request.browserViewPortHeight=Number(n)}if(this.refreshUrl(),e.request.referrer=Qa(this.customReferrer||this.configReferrerUrl,this.configDiscardHashTag),e.request.requestUri=Qa(this.locationHrefAlias,this.configDiscardHashTag),e.request.pageUrlPath=Qa(this.locationHrefAlias,this.configDiscardHashTag),"string"==typeof e.request.eventType&&"string"==typeof e.request.eventContext&&"pageLevelTimer"===e.request.eventType&&["timeOnPage","timeOnStep"].includes(e.request.eventContext)&&"string"==typeof this.oldLocationHref){const t=Qa(this.oldLocationHref,this.configDiscardHashTag);e.request.requestUri=t,e.request.pageUrlPath=t}}asCollectorUrl(e){if(this.trackerConstants.forceSecureTracker)return"https://"+e;if(this.trackerConstants.forceUnsecureTracker)return"http://"+e;let t="https://";return this.documentAlias.location&&(t="https:"===this.documentAlias.location.protocol?"https":"http"),t+"://"+e}teardownListeners(e){return this.listeners.forEach((t=>{me(e.contentWindow,t.eventType,t.callback)})),window.onpopstate?me(e.contentWindow,"popstate",this.locationHandler):me(e.contentWindow,"hashchange",this.locationHandler),!0}getUrlPath(){return void 0===this.argmap.configCollectorUrlPath?"/panoramaroute":this.argmap.configCollectorUrlPath}openOutqueue(){this.outQueueManager.setBlockOutqueue(!1)}getCookieName(e){return this.getSnowplowCookieName(e)}setReferrerUrl(e){this.customReferrer=e}setDocumentTitle(e){this.lastDocumentTitle=this.documentAlias.title,this.lastConfigTitle=e}attachEventListener(e,t){Oe(e,t)}detachEventListener(e,t){_e(e,t)}discardHashTag(e){this.configDiscardHashTag=e}setCookiePath(e){this.configCookiePath=e,this.updateDomainHash()}redirectFile(e){"file:"===this.windowAlias.location.protocol&&(this.windowAlias.location=e)}flushBuffer(){this.outQueueManager.executeQueue()}trackPageView(e,t){this.logPageView(e,t)}trackCustomEvent(e){if(!e)return void Ee({eventSource:et,eventType:"droppedEvent",eventContext:"trackCustomEvent",eventDetail:"Did not receive data to track.",eventValue:"",operationalData:{metricList:[{metricDetails:JSON.stringify({message:"Did not receive data to track.",methodName:"trackCustomEvent"}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()});if(e&&e.eventName&&Ie.CLOG_METRICS_TO_IGNORE.indexOf(e.eventName)>=0)return;const t=this.trackerConstants;for(let n=0;n<t.EVENT_FIELDS_TO_CHECK.length;n++){const r=t.EVENT_FIELDS_TO_CHECK[n];if(e[r]&&e[r].length>t.MAX_FIELD_LENGTH){e[r]=e[r].substring(0,t.MAX_FIELD_LENGTH),this.trackerStats.truncatedEvents++;const{eventSource:n,eventName:a,eventType:i}=e;let o=n+".";o+="clog"===n?a:i,this.trackerStats.truncatedEventsDetails[o]?this.trackerStats.truncatedEventsDetails[o]++:this.trackerStats.truncatedEventsDetails[o]=1}}const{eventType:n,contentId:r,eventContext:a}=e,i=!r&&!["timeOnStep","timeOnPage"].includes(a);if(n&&at.has(n)&&i)try{e.eventType=`custom_${e.eventType}`}catch(e){Ee({eventSource:"panoramaInternal",eventType:"panoConflictingEventType",eventContext:"customOverride",eventDetail:e?e.toString():""})}this.core.trackCustomEvent(e)}trackOutOfTheBoxEvent(e){const{eventType:t}=e;t&&at.has(t)?this.core.trackCustomEvent(e):Ee({eventSource:"panoramaInternal",eventType:"panoInvalidOutOfTheBoxEventType"})}isValidToLog(e,t,n,r){let a;if(!te(t,"object"))return{isValidToLog:!1};let{message:i,validatedOpsPayload:o}=ze(t);const s=!!o.metricList?.length;switch(e){case"trackOperationalEvents":return r?(a=je(r),{isValidToLog:a&&o&&ne(o,"metricList")&&0!==o.metricList?.length,message:i,validatedCustomProperties:a,validatedOpsPayload:o}):{isValidToLog:o&&ne(o,"metricList")&&!!o.metricList?.length,message:i,validatedOpsPayload:o,validatedCustomProperties:a};case"trackWidgetOpsEvents":const t=te(n,"array")&&n.every((e=>te(e,"string")&&!Le(e)));return!1===t&&(i="The widget id list was not an array, the values were not strings, or the list was empty."),r?(a=je(r),{isValidToLog:a&&o&&s&&t,message:i,validatedOpsPayload:o,validatedCustomProperties:a}):{isValidToLog:o&&s&&t,message:i,validatedOpsPayload:o};default:return{isValidToLog:!1,message:`Received an invalid validation method: "${e}"`}}}trackOperationalEvents(e,t,n){try{const{isValidToLog:r,message:a,validatedOpsPayload:i,validatedCustomProperties:o}=this.isValidToLog("trackOperationalEvents",e,[],t);r?this.trackCustomEvent({eventSource:et,eventType:n||Ze,timestamp:Date.now(),operationalData:i,...t&&o.length>0&&{customProperties:o}}):(pe("Did not receive a valid opsObject."),Ee({eventSource:et,eventType:"droppedEvent",eventContext:"trackOperationalEvents",eventDetail:a,eventValue:JSON.stringify(e),operationalData:{metricList:[{metricDetails:JSON.stringify({message:a,methodName:"trackOperationalEvents",opsObject:e}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()}))}catch(e){pe(e),Ee({eventSource:"error",eventType:"stacktrace",eventContext:"trackOperationalEvents",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}}trackTelemetryMetrics(e){try{if(!te(e,"object"))return void Ee({eventSource:"error",eventType:"validation",eventContext:"trackTelemetryMetrics",eventDetail:"opsObject is not a valid object",eventValue:"1",timestamp:Date.now()});const{metricName:t,metricValue:n,metricDetails:r="",metricUnit:a="",timestamp:i=Date.now()}=e;te(t,"string")&&te(n,"number")&&this.trackCustomEvent({eventSource:"tbt",eventType:"operational",eventName:t,eventDetail:r,eventValue:n?.toString(),eventContext:a,timestamp:i})}catch(e){Ee({eventSource:"error",eventType:"exception",eventContext:"trackTelemetryMetrics",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}}trackDashboardExpReady(e){try{const{startTime:t=0,endTime:n=performance.now(),isPageTransition:r=!1,metricDetails:a=[]}=e,i=n-t,o=r?"timeToDashboardExpReadyOnTransition":"timeToDashboardExpReady";Ee(i>0?{eventSource:et,eventType:"performance",operationalData:{metricList:[{metricName:o,metricValue:i,metricUnit:"Milliseconds",metricDetails:JSON.stringify(a)}]},timestamp:Date.now()}:{eventSource:"panoramaInternal",eventType:"metricDropped",eventContext:"trackDashboardExpReady",eventDetail:JSON.stringify({metricName:o,metricValue:i,metricDetails:a,isPageTransition:r}),eventValue:"1",timestamp:Date.now()})}catch(e){Ee({eventSource:"error",eventType:"exception",eventContext:"trackDashboardExpReady",eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}}getCustomerReadyTime(){try{return performance.now()}catch(e){return Date.now()-window.performance.timing.navigationStart}}emitPanoramaLatencyMetric(){try{if(window&&window.performance&&"function"==typeof window.performance.getEntriesByName){const e=performance.getEntriesByName("pano-init-started")[0];if(e){const{startTime:t}=e;Ee({eventSource:et,eventType:"performance",operationalData:{metricList:[{metricName:"pano-init-started",metricValue:t,metricUnit:"Milliseconds"}]},timestamp:Date.now()})}const t=performance.getEntriesByName("pano-tracker-injected")[0];if(t){const{startTime:e}=t;Ee({eventSource:et,eventType:"performance",operationalData:{metricList:[{metricName:"pano-tracker-injected",metricValue:e,metricUnit:"Milliseconds"}]},timestamp:Date.now()})}}}catch(e){Ee({eventSource:"panoramaInternal",eventType:"emitPanoramaLatencyMetric",eventDetail:e?e.toString():""})}}emitTelemetryEnabledMetric(e){Ee({eventSource:"panoramaInternal",eventType:"emitTelemetryEnabledMetric",eventDetail:e?1:0})}trackWidgetOpsEvents(e,t,n){try{const{isValidToLog:r,message:a,validatedOpsPayload:i,validatedCustomProperties:o}=this.isValidToLog("trackWidgetOpsEvents",e,t,n);r?this.trackCustomEvent({eventSource:et,eventType:Ze,timestamp:Date.now(),operationalData:i,widgetIds:t,...n&&o&&o.length>0&&{customProperties:o}}):(pe("Did not receive a valid opsObject or list of widget IDs."),Ee({eventSource:et,eventType:"droppedEvent",eventContext:"trackWidgetOpsEvents",eventDetail:a,eventValue:JSON.stringify({opsObject:e,widgetIds:t}),operationalData:{metricList:[{metricDetails:JSON.stringify({message:a,methodName:"trackWidgetOpsEvents",opsObject:e,widgetIds:t}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()}))}catch(n){pe(n),Ee({eventSource:"error",eventType:"stacktrace",eventContext:"trackWidgetOpsEvents",eventDetail:n?n.toString():"",eventValue:JSON.stringify({opsObject:e,widgetIds:t}),timestamp:Date.now()})}}getLatencyTime(e,t){return e&&t?t-e:e?Date.now()-e:t?t-performance.timing.navigationStart:this.getCustomerReadyTime()}trackCustomLatency(e){const{metricName:t,startTime:n,endTime:r}=e,a=this.getLatencyTime(n,r);a>0&&this.trackOperationalEvents({metricList:[{metricName:t,metricValue:Math.round(a),metricUnit:"Milliseconds"}]})}trackWidgetCustomLatency(e,t,n){const{metricName:r,startTime:a,endTime:i}=e,o=this.getLatencyTime(a,i);o>0&&this.trackWidgetOpsEvents({metricList:[{metricName:r,metricValue:Math.round(o),metricUnit:"Milliseconds"}]},t,n)}sanitizeFields(e){ee(e)?this.outQueueManager.setSanitizerFunction(e):pe("'sanitizeFields' did not receive a function.")}addIframeListeners(e,t){const n=document.getElementById(e);return null!==n&&!this.iframeEventListeners[e]&&(this.setupListeners(n,t),!0)}removeIframeListeners(e){const t=document.getElementById(e);return null!==t&&(this.teardownListeners(t),delete this.iframeEventListeners[e],!0)}getAutocaptureAttributes(e){return ga(e)}}class zs{constructor(e,n,r,a){t(i)(this,"trackerDictionary",void 0),t(i)(this,"push",void 0),t(i)(this,"functionName",void 0),t(i)(this,"version",void 0),t(i)(this,"mutSnowPlowState",void 0),t(i)(this,"telemetryTracker",Mr.getInstance()),t(i)(this,"getNamedTrackers",(e=>{var t=[];if(e&&0!==e.length)for(var n=0;n<e.length;n++)this.trackerDictionary.hasOwnProperty(e[n])?t.push(this.trackerDictionary[e[n]]):pe('Warning: Tracker namespace "'+e[n]+'" not configured');else t=Object.keys(this.trackerDictionary).map((e=>this.trackerDictionary[e]));return 0===t.length&&pe("Warning: No tracker configured"),t})),t(i)(this,"createNewNamespace",((e,t,n)=>{if(n=n||{},this.trackerDictionary.hasOwnProperty(e))pe("Tracker namespace "+e+" already exists.");else{const r=new Vs({functionName:this.functionName,namespace:e,version:this.version,mutSnowplowState:this.mutSnowPlowState,configCollectorUrl:t||"",argmap:n});this.trackerDictionary[e]=r}})),t(i)(this,"parseInputString",(e=>{var t=e.split(":");return{extractedFunction:t[0],extractedNames:t.length>1?t[1].split(";"):[]}})),this.trackerDictionary={},this.functionName=a,this.version=e,this.mutSnowPlowState=n;for(var o=0;o<r.length;o++)this.applyAsyncFunction(r[o]);this.push=this.applyAsyncFunction}applyAsyncFunction(){let e,t,n,r,a;for(let i=0;i<arguments.length;i+=1){if(t=arguments[i],n=Array.prototype.shift.call(t),ee(n)){n.apply(this.trackerDictionary,t);continue}r=this.parseInputString(n);const o=r.extractedFunction,s=r.extractedNames;if("newTracker"!==o)try{for(a=this.getNamedTrackers(s),e=0;e<a.length;e++)a[e][o].apply(a[e],t)}catch(e){this.telemetryTracker.trackPanoramaOperationalEvent("panoInqueueError",1,e)}else ne(window,"AWSC","Clog","system","prequeue")&&"function"==typeof window.AWSC.Clog.system.prequeue&&window.AWSC.Clog.system.prequeue("panoTrackerInitialized",1),this.createNewNamespace(t[0],t[1],t[2])}}}class js{constructor(e,n){t(i)(this,"queue",void 0),t(i)(this,"mutSnowplowState",void 0),t(i)(this,"version",void 0),t(i)(this,"beforeUnloadHandler",((e=!1)=>{var t;const n=this.queue&&this.queue.trackerDictionary?this.queue.trackerDictionary:{};for(let t in n)if(n.hasOwnProperty(t)){const r=n[t],a=r.getTrackerStats();ne(r,"outQueueManager","blockOutqueue")&&r.outQueueManager.blockOutqueue&&be("panoQueueBlocked",1);for(let e in a)-1===["sentEvents","capturedEvents","numClogCaptured","numClogThrottled","numClogSeen","numExceededLimit"].indexOf(e)&&a.hasOwnProperty(e)&&-1===e.indexOf("Details")&&a[e]>0&&("userDisallowedPanoramaEvents"===e?r.trackOperationalEvents({metricList:[{metricName:"userDisallowedPanoramaEvents",metricValue:a[e],metricDetails:""}]}):r.trackCustomEvent({eventSource:"panoramaInternal",eventType:e,eventContext:"",eventDetail:JSON.stringify(a[`${e}Details`]),eventValue:a[e],timestamp:Date.now()}));const{sentEvents:i,capturedEvents:o,retries:s,droppedEvents:c,numClogCaptured:u,numClogSeen:l,numClogThrottled:d,userDisallowedPanoramaEvents:h,numExceededLimit:m,numOfApiCalls:p,totalPayloadSize:f}=a;m>0&&be("panoKFLimitExceeded",m);const v=ne(window,"AWSC","Clog","bufferedQueue")?window.AWSC.Clog.bufferedQueue.length:0;r.trackCustomEvent({eventSource:"panoramaInternal",eventType:"completedEvents",eventDetail:JSON.stringify({sentEvents:i+v,capturedEvents:o+v,retries:s,droppedEvents:c,numClogCaptured:u+v,numClogSeen:l+v,numClogThrottled:d,userDisallowedPanoramaEvents:h,numExceededLimit:m}),eventValue:(i/o).toFixed(2),timestamp:Date.now()}),e&&(Us(r),r.trackCustomEvent({eventSource:"panorama",eventType:"pageUnloadEventInternals",eventContext:"numOfApiCalls",eventValue:p,timestamp:Date.now()}),r.trackerStats.numOfApiCalls=0,r.trackCustomEvent({eventSource:"panorama",eventType:"pageUnloadEventInternals",eventContext:"totalPayloadSize",eventValue:f,timestamp:Date.now()}),r.trackerStats.totalPayloadSize=0)}if(this.mutSnowplowState.bufferFlushers.forEach((e=>{e()})),this.mutSnowplowState.expireDateTime)do{if(t=new Date,0===this.mutSnowplowState.outQueues.filter((function(e){return e.length>0})).length)break}while(t.getTime()<this.mutSnowplowState.expireDateTime)})),t(i)(this,"loadHandler",(()=>{var e;if(!this.mutSnowplowState.hasLoaded)for(this.mutSnowplowState.hasLoaded=!0,e=0;e<this.mutSnowplowState.registeredOnLoadHandlers.length;e++)this.mutSnowplowState.registeredOnLoadHandlers[e]();return!0})),t(i)(this,"pageHideVisiblityHiddenHandler",((e=!1)=>{ne(window,"panorama","q","trackerDictionary","cf","plugins","getPlugin")&&"function"==typeof window.panorama.q.trackerDictionary.cf.plugins.getPlugin&&window.panorama.q.trackerDictionary.cf.plugins.getPlugin("ClogPlugin")&&window.panorama.q.trackerDictionary.cf.plugins.getPlugin("ClogPlugin").emitBufferedEvents(),this.beforeUnloadHandler(e)})),t(i)(this,"addReadyListener",(()=>{let e;const t=this.loadHandler,n=this.pageHideVisiblityHiddenHandler,r=document,a=window,i=this.mutSnowplowState;r.addEventListener?he(r,"DOMContentLoaded",(function e(){r.removeEventListener("DOMContentLoaded",e,!1),t()})):r.attachEvent&&(r.attachEvent("onreadystatechange",(function e(){"complete"===r.readyState&&(r.detachEvent("onreadystatechange",e),t())})),r.documentElement.doScroll&&a===a.top&&function e(){if(!i.hasLoaded){try{r.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}t()}}()),new RegExp("WebKit").test(navigator.userAgent)&&(e=setInterval((()=>{(this.mutSnowplowState.hasLoaded||/loaded|complete/.test(r.readyState))&&(clearInterval(e),t())}),10)),he(a,"load",t,!1),he(a,"pagehide",(()=>{this.mutSnowplowState.totalTimeActiveOnPage+=Date.now()-this.mutSnowplowState.lastActiveSessionStartTime,this.mutSnowplowState.lastActiveSessionStartTime=Date.now(),n(!0)}),!0)})),this.version="2.8.224",this.mutSnowplowState={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:window?.AWSC?.Clog?.tabId||We(),lastActiveSessionStartTime:Date.now()},document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.pageHideVisiblityHiddenHandler(!1)})),this.addReadyListener(),this.queue=new zs(this.version,this.mutSnowplowState,e,n)}}const Hs={TBT_TOKENS:{NON_PROD:"v1/acfcbae18e5a1cdf04ed8c4cd0485529a25849879bcc929e0b6e2daee6220b27",PROD:"v1/c99544e0829cd2b8b7386c5771253e66b1770105efd4a682aebc6626c64322b9"},DOMAINS:{NONPROD:/alpha|beta|gamma|integ|preprod|pre-prod|aws-dev/i,PROD:/aws.amazon.com|amazonaws.cn|amazonaws-us-gov.com/i},UNIT:{COUNT:"count",MILLISECONDS:"milliseconds"},TBSinkRegions:{US_EAST_1:"us-east-1",US_EAST_2:"us-east-2",US_WEST_1:"us-west-1",US_WEST_2:"us-west-2",EU_NORTH_1:"eu-north-1",EU_WEST_3:"eu-west-3",EU_WEST_1:"eu-west-1",EU_CENTRAL_1:"eu-central-1",EU_WEST_2:"eu-west-2",AP_NORTHEAST_1:"ap-northeast-1",AP_NORTHEAST_2:"ap-northeast-2",AP_NORTHEAST_3:"ap-northeast-3",AP_SOUTHEAST_1:"ap-southeast-1",AP_SOUTHEAST_2:"ap-southeast-2",AP_SOUTH_1:"ap-south-1",CA_CENTRAL_1:"ca-central-1",SA_EAST_1:"sa-east-1"}};class qs{static eventTracker;static telemetryTracker;constructor(){const{TBT_TOKENS:e,DOMAINS:t}=Hs,n=window.location.hostname,r=!Hs.DOMAINS.NONPROD.test(n)&&t.PROD.test(n);try{qs.eventTracker=$t.TangerineBoxEventTracker.getInstance({token:r?e.PROD:e.NON_PROD})}catch(e){console.log("Failed to initialize TBT tracker.")}}static getInstance(){return qs.telemetryTracker||(qs.telemetryTracker=new qs),qs.telemetryTracker}trackPerformanceEvents({metric:e,value:t,unit:n=Hs.UNIT.MILLISECONDS,details:r,error:a}){try{a?qs.eventTracker?.addError(a,{metric:e,value:t,unit:n,details:r}):qs.eventTracker?.addEvent({metric:e,value:t,unit:n,details:r})}catch(e){return}}}const Ws={PANORAMA:"panoramatrackerscript",UCAF:"ucafapploader"},Gs={RESOURCE_EXECUTION_START:"resourceExecutionStartTime",LOAD_START_TIME:"loadStartTime",LOAD_END_TIME:"loadCompleteTime",TOTAL_LOAD_TIME:"totalLoadTime"},Ks=(e,t)=>`${e.replace(/\s+/g,"").toLowerCase()}_${t}`,$s=()=>{const e=document.currentScript?.src;if(e)return performance.getEntriesByType("resource").find((t=>t.name===e))},Js=async e=>{const t=performance.now(),n=$s(),r=window?.ConsoleNavService?.Model?.currentService?.id;if(qs.getInstance().trackPerformanceEvents({metric:Ks(e,Gs.RESOURCE_EXECUTION_START),value:t,details:{serviceId:r}}),!n)return void qs.getInstance().trackPerformanceEvents({metric:"ResourceIdentificationError",value:1,unit:Hs.UNIT.COUNT,details:{serviceId:r},error:new Error("Unable to find resource metrics.")});const a=n.fetchStart,i=n.responseEnd,o=n.duration;qs.getInstance().trackPerformanceEvents({metric:Ks(e,Gs.LOAD_START_TIME),value:a,details:{serviceId:r}}),qs.getInstance().trackPerformanceEvents({metric:Ks(e,Gs.LOAD_END_TIME),value:i,details:{serviceId:r}}),qs.getInstance().trackPerformanceEvents({metric:Ks(e,Gs.TOTAL_LOAD_TIME),value:o,details:{serviceId:r}})};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])}return n},writable:!0,configurable:!0});try{Js(Ws.PANORAMA)}catch(e){Mr.getInstance().trackPanoramaOperationalEvent("panoPerformanceMetricError",1,e)}const Ys=window,Xs=Ge(),Qs=()=>{const e=Ys.panorama.q.slice();Ys.panorama.q=[];const t=Ve("awsc-mezz-region"),n=Ke(t),r=$e(t);Ys.panorama("newTracker","cf","https://"+t+n,r);const a=Ys.GlobalSnowplowNamespace.shift(),i=Ys[a],o=new js(i.q,a);i.q=o.queue,Ys.panorama("openOutqueue"),Je(),e.splice(0).forEach((e=>Ys.panorama?.(...e)))};try{Ys&&Ys.panoramaScriptBasePath&&Mr.getInstance().trackPanoramaOperationalEvent("panoramaLotusPackageLoadingExecStarted",1),Ue()&&Ys&&Ys.performance&&"function"==typeof Ys.performance.mark&&(Ys.performance.mark("pano-tracker-exec-started",{detail:"AWSCPanorama"}),Ee({eventSource:et,eventType:"performance",operationalData:{metricList:[{metricName:"pano-tracker-exec-started",metricValue:performance.now(),metricUnit:"Milliseconds",metricDetails:JSON.stringify({nav2Enabled:Xs})}]},timestamp:Date.now()}))}catch(e){Mr.getInstance().trackPanoramaOperationalEvent("panoLatencyMetricError",1,e.toString())}try{if(Ys.GlobalSnowplowNamespace&&Ys.GlobalSnowplowNamespace.length>0)if(Xs&&!Ys.panoramaInitInitialized)Qs();else{const e=Ys.GlobalSnowplowNamespace.shift(),t=Ys[e],n=new js(t.q,e);t.q=n.queue}else{Ys._snaq=Ys._snaq||[];const e=new js(Ys._snaq,"_snaq");Ys._snaq=e.queue}}catch(e){Mr.getInstance().trackPanoramaOperationalEvent("panoGenericError",1,e)}try{if(Ys&&Ys.panoramaScriptBasePath&&Mr.getInstance().trackPanoramaOperationalEvent("panoLotusPackageLoadingExecCompleted",1),Ue()){const e=new Kt;Ee({eventSource:"panoramaInternal",eventType:"trackerLogging",eventName:"marketingVisitor",eventValue:e.getCookie("awsd2c-token-c")?1:0})}Ue()&&Ys&&Ys.performance&&"function"==typeof Ys.performance.mark&&(Ys.performance.mark("pano-tracker-exec-completed",{detail:"AWSCPanorama"}),Ee({eventSource:et,eventType:"performance",operationalData:{metricList:[{metricName:"pano-tracker-exec-completed",metricValue:performance.now(),metricUnit:"Milliseconds",metricDetails:JSON.stringify({nav2Enabled:Xs})}]},timestamp:Date.now()}))}catch(e){Mr.getInstance().trackPanoramaOperationalEvent("panoLatencyMetricError",1,e.toString())}})();